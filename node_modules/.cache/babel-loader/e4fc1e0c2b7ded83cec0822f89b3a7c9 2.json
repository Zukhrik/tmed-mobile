{"ast":null,"code":"import _slicedToArray from\"/Users/zuhriddinkamilzanov/Desktop/tMed-mobile/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState}from'react';import{useUrlParams}from'../app';import{useStore}from'effector-react';import order from'../../Service/order';import{URL_KEYS}from'../../Constants';import{saveURLMount}from'../../Models/app';import{$offeringsModel}from'../../Models/offerings-model';import{getOrgOrderCartsMount}from'../../Models/order-model';import{useHistory,useLocation,useParams}from'react-router-dom';export function useOfferingOrderInOfferPage(){var _useHistory=useHistory(),push=_useHistory.push;var _useUrlParams=useUrlParams(),urlData=_useUrlParams.urlData;var _useLocation=useLocation(),pathname=_useLocation.pathname;var _useParams=useParams(),organization=_useParams.organization;var _useStore=useStore($offeringsModel),data=_useStore.$offeringInfo.data;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),openModal=_useState2[0],setOpenModal=_useState2[1];var handleRequest=function handleRequest(){var _data$responsible$;saveURLMount(pathname);var offeringId=data.id;var specId=urlData[URL_KEYS.SPECIALIST_ID]?urlData[URL_KEYS.SPECIALIST_ID]:data===null||data===void 0?void 0:(_data$responsible$=data.responsible[0])===null||_data$responsible$===void 0?void 0:_data$responsible$.id;var params={org_slug_name:organization,data:{offering_id:offeringId,responsible_id:specId}};order.postOrgOrderCart(params).then(function(response){getOrgOrderCartsMount();if(response){push(\"/records/unregistered/\".concat(organization,\"?\").concat(URL_KEYS.SPECIALIST_ID,\"=\").concat(urlData[URL_KEYS.SPECIALIST_ID]));}});};return{handleRequest:handleRequest,openModal:openModal,setOpenModal:setOpenModal};}","map":null,"metadata":{},"sourceType":"module"}