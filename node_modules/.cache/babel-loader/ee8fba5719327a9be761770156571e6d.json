{"ast":null,"code":"import { useCallback } from 'react';\nimport { useStore } from 'effector-react';\nimport { $appModel } from '../../Models/app';\nimport { tapeLikeMount, tapeRemoveLikesMount } from '../../Models/tape-model';\nexport function usePostPageIndicator(data) {\n  const {\n    $app: {\n      token\n    }\n  } = useStore($appModel);\n  const addLikeMethod = useCallback(event => {\n    if (!!token) {\n      if (event.title === 'like' && !data.is_liked) {\n        tapeLikeMount({\n          post_id: data.id\n        });\n      }\n    }\n  }, [token, data]);\n  const removeLikeMethod = useCallback(event => {\n    if (!!token) {\n      if (event.title === 'like') {\n        tapeRemoveLikesMount({\n          post_id: data.id\n        });\n      }\n    }\n  }, [token, data]);\n  const handleChangeLike = useCallback(event => {\n    if (event.title === 'like') {\n      if (!data.is_liked) {\n        addLikeMethod(event);\n      } else {\n        removeLikeMethod(event);\n      }\n    }\n  }, [addLikeMethod, removeLikeMethod, data]);\n  return {\n    handleChangeLike\n  };\n}","map":{"version":3,"sources":["/Users/zuhriddinkamilzanov/Desktop/t-med(mobile)/src/Hooks/post/use-post-page-indicator.js"],"names":["useCallback","useStore","$appModel","tapeLikeMount","tapeRemoveLikesMount","usePostPageIndicator","data","$app","token","addLikeMethod","event","title","is_liked","post_id","id","removeLikeMethod","handleChangeLike"],"mappings":"AAAA,SAAQA,WAAR,QAA0B,OAA1B;AACA,SAAQC,QAAR,QAAuB,gBAAvB;AACA,SAAQC,SAAR,QAAwB,kBAAxB;AACA,SAAQC,aAAR,EAAuBC,oBAAvB,QAAkD,yBAAlD;AAGA,OAAO,SAASC,oBAAT,CAA8BC,IAA9B,EAAoC;AACvC,QAAM;AAACC,IAAAA,IAAI,EAAE;AAACC,MAAAA;AAAD;AAAP,MAAkBP,QAAQ,CAACC,SAAD,CAAhC;AAEA,QAAMO,aAAa,GAAGT,WAAW,CAAEU,KAAD,IAAW;AACzC,QAAI,CAAC,CAACF,KAAN,EAAa;AACT,UAAIE,KAAK,CAACC,KAAN,KAAgB,MAAhB,IAA0B,CAACL,IAAI,CAACM,QAApC,EAA8C;AAC1CT,QAAAA,aAAa,CAAC;AAACU,UAAAA,OAAO,EAAEP,IAAI,CAACQ;AAAf,SAAD,CAAb;AACH;AACJ;AACJ,GANgC,EAM9B,CAACN,KAAD,EAAQF,IAAR,CAN8B,CAAjC;AAQA,QAAMS,gBAAgB,GAAGf,WAAW,CAAEU,KAAD,IAAW;AAC5C,QAAI,CAAC,CAACF,KAAN,EAAa;AACT,UAAIE,KAAK,CAACC,KAAN,KAAgB,MAApB,EAA4B;AACxBP,QAAAA,oBAAoB,CAAC;AAACS,UAAAA,OAAO,EAAEP,IAAI,CAACQ;AAAf,SAAD,CAApB;AACH;AACJ;AACJ,GANmC,EAMjC,CAACN,KAAD,EAAQF,IAAR,CANiC,CAApC;AAQA,QAAMU,gBAAgB,GAAGhB,WAAW,CAAEU,KAAD,IAAW;AAC5C,QAAIA,KAAK,CAACC,KAAN,KAAgB,MAApB,EAA4B;AACxB,UAAI,CAACL,IAAI,CAACM,QAAV,EAAoB;AAChBH,QAAAA,aAAa,CAACC,KAAD,CAAb;AACH,OAFD,MAEO;AACHK,QAAAA,gBAAgB,CAACL,KAAD,CAAhB;AACH;AACJ;AACJ,GARmC,EAQjC,CAACD,aAAD,EAAgBM,gBAAhB,EAAkCT,IAAlC,CARiC,CAApC;AAUA,SAAO;AAACU,IAAAA;AAAD,GAAP;AACH","sourcesContent":["import {useCallback} from 'react'\nimport {useStore} from 'effector-react'\nimport {$appModel} from '../../Models/app'\nimport {tapeLikeMount, tapeRemoveLikesMount} from '../../Models/tape-model'\n\n\nexport function usePostPageIndicator(data) {\n    const {$app: {token}} = useStore($appModel)\n    \n    const addLikeMethod = useCallback((event) => {\n        if (!!token) {\n            if (event.title === 'like' && !data.is_liked) {\n                tapeLikeMount({post_id: data.id})\n            }\n        }\n    }, [token, data])\n    \n    const removeLikeMethod = useCallback((event) => {\n        if (!!token) {\n            if (event.title === 'like') {\n                tapeRemoveLikesMount({post_id: data.id})\n            }\n        }\n    }, [token, data])\n    \n    const handleChangeLike = useCallback((event) => {\n        if (event.title === 'like') {\n            if (!data.is_liked) {\n                addLikeMethod(event)\n            } else {\n                removeLikeMethod(event)\n            }\n        }\n    }, [addLikeMethod, removeLikeMethod, data])\n    \n    return {handleChangeLike}\n}"]},"metadata":{},"sourceType":"module"}