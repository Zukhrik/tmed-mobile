{"ast":null,"code":"import _objectSpread from\"/Users/zuhriddinkamilzanov/Desktop/tMed-mobile/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{useParams}from'react-router-dom';import{useCallback,useEffect}from'react';import{offeringGalleryMount}from'../../Models/offerings-model';var initialParams={limit:10,offset:0};export function useOfferingGallery(){var _useParams=useParams(),offering_id=_useParams.offering_id;var getOfferingGallery=useCallback(function(){if(offering_id){offeringGalleryMount({offering_id:offering_id});}},[offering_id]);var loadMore=useCallback(function(page){var data={params:_objectSpread(_objectSpread({},initialParams),{},{offset:page*10})};getOfferingGallery(data);},[getOfferingGallery]);useEffect(function(){var timeout=null;timeout=setTimeout(function(){var data={clear:true,params:_objectSpread({},initialParams)};getOfferingGallery(data);},300);return function(){clearTimeout(timeout);timeout=null;};},[getOfferingGallery]);return{loadMore:loadMore};}","map":{"version":3,"sources":["/Users/zuhriddinkamilzanov/Desktop/tMed-mobile/src/Hooks/offerings/use-offering-gallery.js"],"names":["useParams","useCallback","useEffect","offeringGalleryMount","initialParams","limit","offset","useOfferingGallery","offering_id","getOfferingGallery","loadMore","page","data","params","timeout","setTimeout","clear","clearTimeout"],"mappings":"oKAAA,OAAQA,SAAR,KAAwB,kBAAxB,CACA,OAAQC,WAAR,CAAqBC,SAArB,KAAqC,OAArC,CACA,OAAQC,oBAAR,KAAmC,8BAAnC,CAEA,GAAMC,CAAAA,aAAa,CAAG,CAClBC,KAAK,CAAE,EADW,CAElBC,MAAM,CAAE,CAFU,CAAtB,CAKA,MAAO,SAASC,CAAAA,kBAAT,EAA8B,CACjC,eAAsBP,SAAS,EAA/B,CAAOQ,WAAP,YAAOA,WAAP,CACA,GAAMC,CAAAA,kBAAkB,CAAGR,WAAW,CAAC,UAAM,CACzC,GAAIO,WAAJ,CAAiB,CACbL,oBAAoB,CAAC,CAACK,WAAW,CAAXA,WAAD,CAAD,CAApB,CACH,CACJ,CAJqC,CAInC,CAACA,WAAD,CAJmC,CAAtC,CAMA,GAAME,CAAAA,QAAQ,CAAGT,WAAW,CAAC,SAACU,IAAD,CAAU,CACnC,GAAMC,CAAAA,IAAI,CAAG,CACTC,MAAM,gCACCT,aADD,MAEFE,MAAM,CAAEK,IAAI,CAAG,EAFb,EADG,CAAb,CAOAF,kBAAkB,CAACG,IAAD,CAAlB,CACH,CAT2B,CASzB,CAACH,kBAAD,CATyB,CAA5B,CAWAP,SAAS,CAAC,UAAM,CACZ,GAAIY,CAAAA,OAAO,CAAG,IAAd,CACAA,OAAO,CAAGC,UAAU,CAAC,UAAM,CACvB,GAAMH,CAAAA,IAAI,CAAG,CACTI,KAAK,CAAE,IADE,CAETH,MAAM,kBACCT,aADD,CAFG,CAAb,CAMAK,kBAAkB,CAACG,IAAD,CAAlB,CACH,CARmB,CAQjB,GARiB,CAApB,CAUA,MAAO,WAAM,CACTK,YAAY,CAACH,OAAD,CAAZ,CACAA,OAAO,CAAG,IAAV,CACH,CAHD,CAIH,CAhBQ,CAgBN,CAACL,kBAAD,CAhBM,CAAT,CAkBA,MAAO,CACHC,QAAQ,CAARA,QADG,CAAP,CAGH","sourcesContent":["import {useParams} from 'react-router-dom';\r\nimport {useCallback, useEffect} from 'react';\r\nimport {offeringGalleryMount} from '../../Models/offerings-model';\r\n\r\nconst initialParams = {\r\n    limit: 10,\r\n    offset: 0\r\n}\r\n\r\nexport function useOfferingGallery() {\r\n    const {offering_id} = useParams()\r\n    const getOfferingGallery = useCallback(() => {\r\n        if (offering_id) {\r\n            offeringGalleryMount({offering_id})\r\n        }\r\n    }, [offering_id])\r\n\r\n    const loadMore = useCallback((page) => {\r\n        const data = {\r\n            params: {\r\n                ...initialParams,\r\n                offset: page * 10\r\n            }\r\n        }\r\n\r\n        getOfferingGallery(data)\r\n    }, [getOfferingGallery])\r\n\r\n    useEffect(() => {\r\n        let timeout = null\r\n        timeout = setTimeout(() => {\r\n            const data = {\r\n                clear: true,\r\n                params: {\r\n                    ...initialParams,\r\n                }\r\n            }\r\n            getOfferingGallery(data)\r\n        }, 300)\r\n\r\n        return () => {\r\n            clearTimeout(timeout)\r\n            timeout = null\r\n        }\r\n    }, [getOfferingGallery])\r\n\r\n    return {\r\n        loadMore\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}