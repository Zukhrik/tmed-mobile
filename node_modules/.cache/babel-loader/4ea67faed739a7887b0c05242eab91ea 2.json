{"ast":null,"code":"import _objectSpread from\"/Users/zuhriddinkamilzanov/Desktop/tMed-mobile/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/zuhriddinkamilzanov/Desktop/tMed-mobile/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useCallback,useEffect,useState}from'react';import{$userModel,userSubsMeMount,userSubsMyMount}from'../../Models/user-model';import{useStore}from'effector-react';var initialParams={limit:20,offset:0};export function useUserSubs(_ref){var slug_name=_ref.slug_name,type=_ref.type;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useStore=useStore($userModel),resultSubsMy=_useStore.$userSubsMy.result,subsMeResult=_useStore.$userSubsMe.result;var getUserSubMyList=useCallback(function(params){if(username){var data=_objectSpread({username:username},params);userSubsMyMount(data);}},[username]);var getUserSubsMeList=useCallback(function(params){if(username){var data=_objectSpread({username:username},params);userSubsMeMount(data);}},[username]);var loadMore=useCallback(function(type){if(type==='my'){if(resultSubsMy&&resultSubsMy.nextOffset){var data={params:_objectSpread(_objectSpread({},initialParams),{},{offset:resultSubsMy.nextOffset})};getUserSubMyList(data);}}if(type==='me'){if(subsMeResult&&subsMeResult.nextOffset){var _data={params:_objectSpread(_objectSpread({},initialParams),{},{offset:subsMeResult.nextOffset})};getUserSubsMeList(_data);}}},[getUserSubMyList,getUserSubsMeList,subsMeResult,resultSubsMy]);useEffect(function(){var data={clear:true,params:initialParams};if(type==='me'){getUserSubsMeList(data);}else if(type==='my'){getUserSubMyList(data);}},[getUserSubMyList,type,getUserSubsMeList]);useEffect(function(){if(slug_name){setUsername(slug_name);}else{setUsername(null);}},[slug_name]);return{getUserSubMyList:getUserSubMyList,loadMore:loadMore};}","map":null,"metadata":{},"sourceType":"module"}