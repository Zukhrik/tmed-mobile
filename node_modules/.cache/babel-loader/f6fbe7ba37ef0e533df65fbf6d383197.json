{"ast":null,"code":"import _regeneratorRuntime from\"/Users/zuhriddinkamilzanov/Desktop/tMed-mobile/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/zuhriddinkamilzanov/Desktop/tMed-mobile/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React,{useRef}from'react';import{AvatarInnerIconWrapper,AvatarWrapper,StyledUploadAvatar,UploadAvatarWrapper}from'../style';import{IconBox}from'../../GlobalStyles';import{UploadCloudSvg}from'../../../Icons/UploadCloud';import{PersonalFillSvg}from'../../../Icons/PersonalFill';import{CircularProgress}from'@material-ui/core';import{fileToBase64,resizeFile}from'../../../utils/crop-utils';export var UploadAvatar=function UploadAvatar(_ref){var imgUrl=_ref.imgUrl,size=_ref.size,onChange=_ref.onChange,loading=_ref.loading;var inputRef=useRef(null);var handleChange=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var file,resizedFile,_imgUrl,params;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:file=e.target.files[0];_context.prev=1;_context.next=4;return resizeFile(file,file.type,'file');case 4:resizedFile=_context.sent;_context.next=7;return fileToBase64(resizedFile);case 7:_imgUrl=_context.sent;params={imgUrl:_imgUrl,file:file};onChange(params);_context.next=14;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](1);case 14:case\"end\":return _context.stop();}}},_callee,null,[[1,12]]);}));return function handleChange(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(UploadAvatarWrapper,{onClick:function onClick(){return inputRef.current.click();}},/*#__PURE__*/React.createElement(AvatarWrapper,null,/*#__PURE__*/React.createElement(StyledUploadAvatar,{src:imgUrl,size:size||60},!imgUrl&&/*#__PURE__*/React.createElement(React.Fragment,null,loading?/*#__PURE__*/React.createElement(CircularProgress,{size:48}):/*#__PURE__*/React.createElement(PersonalFillSvg,null))),/*#__PURE__*/React.createElement(AvatarInnerIconWrapper,null,/*#__PURE__*/React.createElement(IconBox,null,/*#__PURE__*/React.createElement(UploadCloudSvg,null)))),/*#__PURE__*/React.createElement(\"input\",{onChange:handleChange,ref:inputRef,type:\"file\",accept:\"image/png, image/jpeg\",style:{display:'none'}})));};","map":null,"metadata":{},"sourceType":"module"}