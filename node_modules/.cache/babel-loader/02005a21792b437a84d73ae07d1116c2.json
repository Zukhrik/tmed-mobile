{"ast":null,"code":"import React from'react';import moment from'moment';import{Col,Image,Row}from'antd';import{useStore}from'effector-react';import{useParams}from'react-router-dom';import{useTranslation}from'react-i18next';import{DetailImageWrapper}from'../atoms';import{$appModel}from'../../../Models/app';import{$accountModel}from'../../../Models/account-model';import{$orderModel,resetOrderIdOffers}from'../../../Models/order-model';import{RootContent,SkeletonUI}from'../../../UIComponents/GlobalStyles';import{FixedHeader}from'../../../Components/FixedHeader';import{Text}from'../../../UIComponents/Typography/Text';import{Title}from'../../../UIComponents/Typography/Title';import{OrderIdOfferCard}from'../../../Components/Cards/OrderIdOfferCard';import{useGoBack}from'../../../Hooks/app';import{generateQrCodeBase64}from'../../../utils/qr_code';import{getStatus}from'../../../utils/get-status';import qrBlur from'../../../Assets/Images/qr-blur.png';export var MobileView=function MobileView(){var _data$order_id,_data$order_id2,_data$order_id3,_data$order_id4,_data$order_id5,_data$order_id6,_data$order_id7,_data$order_id7$today,_data$order_id8,_getStatus,_data$order_id9,_getStatus2,_data$order_id10,_data$order_id11,_data$order_id11$resp,_data$order_id11$resp2,_data$order_id12,_data$order_id12$resp,_data$order_id12$resp2,_data$order_id13,_data$order_id13$resp,_data$order_id13$resp2,_data$order_id14,_data$order_id15,_data$order_id15$tota,_currentProfile$curre,_currentProfile$curre2;var _useTranslation=useTranslation(),t=_useTranslation.t;var _useParams=useParams(),order_id=_useParams.order_id;var _useStore=useStore($appModel),saveURL=_useStore.$app.saveURL;var _useStore2=useStore($accountModel),currentProfile=_useStore2.$profiles.currentProfile;var _useStore3=useStore($orderModel),_useStore3$$orderDeta=_useStore3.$orderDetail,data=_useStore3$$orderDeta.data,forceLoading=_useStore3$$orderDeta.forceLoading;var _useStore4=useStore($orderModel),orderIdOffersData=_useStore4.$orderIdOffers.data;var _useGoBack=useGoBack({pathname:saveURL?saveURL:'/records/my_orders'}),goBack=_useGoBack.goBack;var goBackAndReset=function goBackAndReset(){resetOrderIdOffers();goBack();};return/*#__PURE__*/React.createElement(RootContent,{paddingTop:70,paddingBottom:60},/*#__PURE__*/React.createElement(FixedHeader,{goBack:goBackAndReset,title:t('detailed_order_information')}),/*#__PURE__*/React.createElement(DetailImageWrapper,{width:\"100%\",padding:\"0 12px\"},/*#__PURE__*/React.createElement(Row,{gutter:[0,12],style:{display:'flex',flexDirection:'column'}},/*#__PURE__*/React.createElement(Col,{span:24,className:\"qr-code-wrapper\"},forceLoading===2&&(data===null||data===void 0?void 0:data[order_id])?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Image,{width:150,height:150,preview:(data===null||data===void 0?void 0:(_data$order_id=data[order_id])===null||_data$order_id===void 0?void 0:_data$order_id.status)!==0?{mask:''}:false,src:(data===null||data===void 0?void 0:(_data$order_id2=data[order_id])===null||_data$order_id2===void 0?void 0:_data$order_id2.status)!==0&&(data===null||data===void 0?void 0:(_data$order_id3=data[order_id])===null||_data$order_id3===void 0?void 0:_data$order_id3.qr_code)?generateQrCodeBase64(data===null||data===void 0?void 0:(_data$order_id4=data[order_id])===null||_data$order_id4===void 0?void 0:_data$order_id4.qr_code):qrBlur})):/*#__PURE__*/React.createElement(SkeletonUI,{animation:\"wave\",variant:\"rect\",width:150,height:150})),/*#__PURE__*/React.createElement(Col,{span:24,className:\"meet-time-mobile\"},/*#__PURE__*/React.createElement(Title,{alignType:\"center\"},(data===null||data===void 0?void 0:data[order_id])&&(data===null||data===void 0?void 0:(_data$order_id5=data[order_id])===null||_data$order_id5===void 0?void 0:_data$order_id5.todays_queue)===null?moment(data===null||data===void 0?void 0:(_data$order_id6=data[order_id])===null||_data$order_id6===void 0?void 0:_data$order_id6.meet_date).format('HH:mm'):data===null||data===void 0?void 0:(_data$order_id7=data[order_id])===null||_data$order_id7===void 0?void 0:(_data$order_id7$today=_data$order_id7.todays_queue)===null||_data$order_id7$today===void 0?void 0:_data$order_id7$today.number),/*#__PURE__*/React.createElement(Text,{level:4,alignType:\"center\"},(data===null||data===void 0?void 0:data[order_id])&&(data===null||data===void 0?void 0:(_data$order_id8=data[order_id])===null||_data$order_id8===void 0?void 0:_data$order_id8.todays_queue)===null?t('your_time'):t('your_queue'))),/*#__PURE__*/React.createElement(Col,{className:\"display-style\"},/*#__PURE__*/React.createElement(Text,{className:\"static-width\",color:\"var(--grey-dwed)\"},\"\".concat(t('order_status'),\": \")),data&&(data===null||data===void 0?void 0:data[order_id])&&/*#__PURE__*/React.createElement(Title,{color:(_getStatus=getStatus(data===null||data===void 0?void 0:(_data$order_id9=data[order_id])===null||_data$order_id9===void 0?void 0:_data$order_id9.status))===null||_getStatus===void 0?void 0:_getStatus.color},(_getStatus2=getStatus(data===null||data===void 0?void 0:(_data$order_id10=data[order_id])===null||_data$order_id10===void 0?void 0:_data$order_id10.status))===null||_getStatus2===void 0?void 0:_getStatus2.text)),/*#__PURE__*/React.createElement(Col,{className:\"display-style\"},/*#__PURE__*/React.createElement(Text,{color:\"var(--grey-dwed)\",className:\"static-width\"},\"\".concat(t('organization'),\": \")),/*#__PURE__*/React.createElement(Title,{alignType:\"right\"},data&&(data===null||data===void 0?void 0:(_data$order_id11=data[order_id])===null||_data$order_id11===void 0?void 0:(_data$order_id11$resp=_data$order_id11.responsible)===null||_data$order_id11$resp===void 0?void 0:(_data$order_id11$resp2=_data$order_id11$resp.org)===null||_data$order_id11$resp2===void 0?void 0:_data$order_id11$resp2.name))),/*#__PURE__*/React.createElement(Col,{className:\"display-style\"},/*#__PURE__*/React.createElement(Text,{className:\"static-width\",color:\"var(--grey-dwed)\"},\"\".concat(t('specialist_category'),\": \")),/*#__PURE__*/React.createElement(Title,{alignType:\"right\"},data===null||data===void 0?void 0:(_data$order_id12=data[order_id])===null||_data$order_id12===void 0?void 0:(_data$order_id12$resp=_data$order_id12.responsible)===null||_data$order_id12$resp===void 0?void 0:(_data$order_id12$resp2=_data$order_id12$resp.spec_cat)===null||_data$order_id12$resp2===void 0?void 0:_data$order_id12$resp2.name)),/*#__PURE__*/React.createElement(Col,{className:\"display-style\"},/*#__PURE__*/React.createElement(Text,{className:\"static-width\",color:\"var(--grey-dwed)\"},\"\".concat(t('specialist'),\": \")),/*#__PURE__*/React.createElement(Title,null,data&&(data===null||data===void 0?void 0:(_data$order_id13=data[order_id])===null||_data$order_id13===void 0?void 0:(_data$order_id13$resp=_data$order_id13.responsible)===null||_data$order_id13$resp===void 0?void 0:(_data$order_id13$resp2=_data$order_id13$resp.user)===null||_data$order_id13$resp2===void 0?void 0:_data$order_id13$resp2.full_name))),/*#__PURE__*/React.createElement(Col,{className:\"display-style\"},/*#__PURE__*/React.createElement(Text,{className:\"static-width\",color:\"var(--grey-dwed)\"},\"\".concat(t('date'),\": \")),/*#__PURE__*/React.createElement(Title,null,data&&moment(data===null||data===void 0?void 0:(_data$order_id14=data[order_id])===null||_data$order_id14===void 0?void 0:_data$order_id14.meet_date).format('YYYY-MM-DD'))),/*#__PURE__*/React.createElement(Col,{className:\"display-style\"},/*#__PURE__*/React.createElement(Text,{className:\"static-width\",color:\"var(--grey-dwed)\"},\"\".concat(t('total_cost'),\": \")),/*#__PURE__*/React.createElement(Title,null,data&&data[order_id]&&\"\".concat(data===null||data===void 0?void 0:(_data$order_id15=data[order_id])===null||_data$order_id15===void 0?void 0:(_data$order_id15$tota=_data$order_id15.total_cost)===null||_data$order_id15$tota===void 0?void 0:_data$order_id15$tota.toLocaleString('fi-Fi'),\"\\n                                                \").concat(currentProfile===null||currentProfile===void 0?void 0:(_currentProfile$curre=currentProfile.currency)===null||_currentProfile$curre===void 0?void 0:(_currentProfile$curre2=_currentProfile$curre.code)===null||_currentProfile$curre2===void 0?void 0:_currentProfile$curre2.toUpperCase()))),/*#__PURE__*/React.createElement(Col,{className:\"display-style\"},/*#__PURE__*/React.createElement(Text,{className:\"static-width\",color:\"var(--grey-dwed)\"},\"\".concat(t('offerings'),\": \"))),orderIdOffersData===null||orderIdOffersData===void 0?void 0:orderIdOffersData.map(function(item,idx){return/*#__PURE__*/React.createElement(Col,{key:\"\".concat(idx+1)},/*#__PURE__*/React.createElement(OrderIdOfferCard,{count:item.qty,cost:item.offering.cost,src:item.offering.image,title:item.offering.name}));}))));};","map":null,"metadata":{},"sourceType":"module"}