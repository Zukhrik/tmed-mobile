{"ast":null,"code":"var _jsxFileName = \"/Users/zuhriddinkamilzanov/Desktop/tMed-mobile/src/Views/Records/organisms/mobile-view.jsx\";\nimport React from 'react';\nimport moment from 'moment';\nimport { Col, Image, Row } from 'antd';\nimport { useStore } from 'effector-react';\nimport { useParams } from 'react-router-dom';\nimport { useTranslation } from 'react-i18next';\nimport { DetailImageWrapper } from '../atoms';\nimport { $appModel } from '../../../Models/app';\nimport { $accountModel } from '../../../Models/account-model';\nimport { $orderModel, resetOrderIdOffers } from '../../../Models/order-model';\nimport { RootContent, SkeletonUI } from '../../../UIComponents/GlobalStyles';\nimport { FixedHeader } from '../../../Components/FixedHeader';\nimport { Text } from '../../../UIComponents/Typography/Text';\nimport { Title } from '../../../UIComponents/Typography/Title';\nimport { OrderIdOfferCard } from '../../../Components/Cards/OrderIdOfferCard';\nimport { useGoBack } from '../../../Hooks/app';\nimport { generateQrCodeBase64 } from '../../../utils/qr_code';\nimport { getStatus } from '../../../utils/get-status';\nimport qrBlur from '../../../Assets/Images/qr-blur.png';\nexport const MobileView = () => {\n  var _data$order_id, _data$order_id2, _data$order_id3, _data$order_id4, _getStatus, _data$order_id5, _getStatus2, _data$order_id6, _data$order_id7, _data$order_id7$respo, _data$order_id7$respo2, _data$order_id8, _data$order_id8$respo, _data$order_id8$respo2, _data$order_id9, _data$order_id9$respo, _data$order_id9$respo2, _data$order_id10, _data$order_id11, _data$order_id11$tota, _currentProfile$curre, _currentProfile$curre2;\n\n  const {\n    t\n  } = useTranslation();\n  const {\n    order_id\n  } = useParams();\n  const {\n    $app: {\n      saveURL\n    }\n  } = useStore($appModel);\n  const {\n    $profiles: {\n      currentProfile\n    }\n  } = useStore($accountModel);\n  const {\n    $orderDetail: {\n      data,\n      forceLoading\n    }\n  } = useStore($orderModel);\n  const {\n    $orderIdOffers: {\n      data: orderIdOffersData\n    }\n  } = useStore($orderModel);\n  const {\n    goBack\n  } = useGoBack({\n    pathname: saveURL ? saveURL : '/records/unregistered'\n  });\n\n  const goBackAndReset = () => {\n    resetOrderIdOffers();\n    goBack();\n  };\n\n  return /*#__PURE__*/React.createElement(RootContent, {\n    paddingTop: \"70px\",\n    style: {\n      paddingBottom: 60\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(FixedHeader, {\n    goBack: goBackAndReset,\n    title: t('detailed_order_information'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(DetailImageWrapper, {\n    width: \"100%\",\n    padding: \"0 12px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    gutter: [0, 12],\n    style: {\n      display: 'flex',\n      flexDirection: 'column'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    span: 24,\n    className: \"qr-code-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 21\n    }\n  }, forceLoading === 2 && (data === null || data === void 0 ? void 0 : data[order_id]) ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Image, {\n    width: 210,\n    height: 210,\n    preview: (data === null || data === void 0 ? void 0 : (_data$order_id = data[order_id]) === null || _data$order_id === void 0 ? void 0 : _data$order_id.status) !== 0 ? {\n      mask: ''\n    } : false,\n    src: (data === null || data === void 0 ? void 0 : (_data$order_id2 = data[order_id]) === null || _data$order_id2 === void 0 ? void 0 : _data$order_id2.status) !== 0 && (data === null || data === void 0 ? void 0 : (_data$order_id3 = data[order_id]) === null || _data$order_id3 === void 0 ? void 0 : _data$order_id3.qr_code) ? generateQrCodeBase64(data === null || data === void 0 ? void 0 : (_data$order_id4 = data[order_id]) === null || _data$order_id4 === void 0 ? void 0 : _data$order_id4.qr_code) : qrBlur,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 37\n    }\n  })) : /*#__PURE__*/React.createElement(SkeletonUI, {\n    animation: \"wave\",\n    variant: \"rect\",\n    width: 210,\n    height: 210,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 35\n    }\n  })), /*#__PURE__*/React.createElement(Col, {\n    className: \"display-style\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Text, {\n    className: \"static-width\",\n    color: \"var(--grey-dwed)\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 25\n    }\n  }, `${t('order_status')}: `), data && (data === null || data === void 0 ? void 0 : data[order_id]) && /*#__PURE__*/React.createElement(Title, {\n    color: (_getStatus = getStatus(data === null || data === void 0 ? void 0 : (_data$order_id5 = data[order_id]) === null || _data$order_id5 === void 0 ? void 0 : _data$order_id5.status)) === null || _getStatus === void 0 ? void 0 : _getStatus.color,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 33\n    }\n  }, (_getStatus2 = getStatus(data === null || data === void 0 ? void 0 : (_data$order_id6 = data[order_id]) === null || _data$order_id6 === void 0 ? void 0 : _data$order_id6.status)) === null || _getStatus2 === void 0 ? void 0 : _getStatus2.text)), /*#__PURE__*/React.createElement(Col, {\n    className: \"display-style\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Text, {\n    color: \"var(--grey-dwed)\",\n    className: \"static-width\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 25\n    }\n  }, `${t('organization')}: `), /*#__PURE__*/React.createElement(Title, {\n    alignType: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 25\n    }\n  }, data && (data === null || data === void 0 ? void 0 : (_data$order_id7 = data[order_id]) === null || _data$order_id7 === void 0 ? void 0 : (_data$order_id7$respo = _data$order_id7.responsible) === null || _data$order_id7$respo === void 0 ? void 0 : (_data$order_id7$respo2 = _data$order_id7$respo.org) === null || _data$order_id7$respo2 === void 0 ? void 0 : _data$order_id7$respo2.name))), /*#__PURE__*/React.createElement(Col, {\n    className: \"display-style\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Text, {\n    className: \"static-width\",\n    color: \"var(--grey-dwed)\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 25\n    }\n  }, `${t('specialist_category')}: `), /*#__PURE__*/React.createElement(Title, {\n    alignType: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 25\n    }\n  }, data === null || data === void 0 ? void 0 : (_data$order_id8 = data[order_id]) === null || _data$order_id8 === void 0 ? void 0 : (_data$order_id8$respo = _data$order_id8.responsible) === null || _data$order_id8$respo === void 0 ? void 0 : (_data$order_id8$respo2 = _data$order_id8$respo.spec_cat) === null || _data$order_id8$respo2 === void 0 ? void 0 : _data$order_id8$respo2.name)), /*#__PURE__*/React.createElement(Col, {\n    className: \"display-style\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Text, {\n    className: \"static-width\",\n    color: \"var(--grey-dwed)\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 25\n    }\n  }, `${t('specialist')}: `), /*#__PURE__*/React.createElement(Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 25\n    }\n  }, data && (data === null || data === void 0 ? void 0 : (_data$order_id9 = data[order_id]) === null || _data$order_id9 === void 0 ? void 0 : (_data$order_id9$respo = _data$order_id9.responsible) === null || _data$order_id9$respo === void 0 ? void 0 : (_data$order_id9$respo2 = _data$order_id9$respo.user) === null || _data$order_id9$respo2 === void 0 ? void 0 : _data$order_id9$respo2.full_name))), /*#__PURE__*/React.createElement(Col, {\n    className: \"display-style\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Text, {\n    className: \"static-width\",\n    color: \"var(--grey-dwed)\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 25\n    }\n  }, `${t('meeting_time')}: `), /*#__PURE__*/React.createElement(Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 25\n    }\n  }, data && moment(data === null || data === void 0 ? void 0 : (_data$order_id10 = data[order_id]) === null || _data$order_id10 === void 0 ? void 0 : _data$order_id10.meet_date).format('YYYY-MM-DD HH:mm'))), /*#__PURE__*/React.createElement(Col, {\n    className: \"display-style\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Text, {\n    className: \"static-width\",\n    color: \"var(--grey-dwed)\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 25\n    }\n  }, `${t('total_cost')}: `), /*#__PURE__*/React.createElement(Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 25\n    }\n  }, data && data[order_id] && `${data === null || data === void 0 ? void 0 : (_data$order_id11 = data[order_id]) === null || _data$order_id11 === void 0 ? void 0 : (_data$order_id11$tota = _data$order_id11.total_cost) === null || _data$order_id11$tota === void 0 ? void 0 : _data$order_id11$tota.toLocaleString('fi-Fi')}\n                                                ${currentProfile === null || currentProfile === void 0 ? void 0 : (_currentProfile$curre = currentProfile.currency) === null || _currentProfile$curre === void 0 ? void 0 : (_currentProfile$curre2 = _currentProfile$curre.code) === null || _currentProfile$curre2 === void 0 ? void 0 : _currentProfile$curre2.toUpperCase()}`)), /*#__PURE__*/React.createElement(Col, {\n    className: \"display-style\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Text, {\n    className: \"static-width\",\n    color: \"var(--grey-dwed)\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 25\n    }\n  }, `${t('offerings')}: `)), orderIdOffersData === null || orderIdOffersData === void 0 ? void 0 : orderIdOffersData.map((item, idx) => /*#__PURE__*/React.createElement(Col, {\n    key: `${idx + 1}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(OrderIdOfferCard, {\n    count: item.qty,\n    cost: item.cost,\n    src: item.offering.image,\n    title: item.offering.name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 33\n    }\n  }))))));\n};","map":{"version":3,"sources":["/Users/zuhriddinkamilzanov/Desktop/tMed-mobile/src/Views/Records/organisms/mobile-view.jsx"],"names":["React","moment","Col","Image","Row","useStore","useParams","useTranslation","DetailImageWrapper","$appModel","$accountModel","$orderModel","resetOrderIdOffers","RootContent","SkeletonUI","FixedHeader","Text","Title","OrderIdOfferCard","useGoBack","generateQrCodeBase64","getStatus","qrBlur","MobileView","t","order_id","$app","saveURL","$profiles","currentProfile","$orderDetail","data","forceLoading","$orderIdOffers","orderIdOffersData","goBack","pathname","goBackAndReset","paddingBottom","display","flexDirection","status","mask","qr_code","color","text","responsible","org","name","spec_cat","user","full_name","meet_date","format","total_cost","toLocaleString","currency","code","toUpperCase","map","item","idx","qty","cost","offering","image"],"mappings":"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","sourcesContent":["import React from 'react'\nimport moment from 'moment'\nimport {Col, Image, Row} from 'antd'\nimport {useStore} from 'effector-react'\nimport {useParams} from 'react-router-dom'\nimport {useTranslation} from 'react-i18next'\nimport {DetailImageWrapper} from '../atoms'\nimport {$appModel} from '../../../Models/app'\nimport {$accountModel} from '../../../Models/account-model'\nimport {$orderModel, resetOrderIdOffers} from '../../../Models/order-model'\nimport {RootContent, SkeletonUI} from '../../../UIComponents/GlobalStyles'\nimport {FixedHeader} from '../../../Components/FixedHeader'\nimport {Text} from '../../../UIComponents/Typography/Text'\nimport {Title} from '../../../UIComponents/Typography/Title'\nimport {OrderIdOfferCard} from '../../../Components/Cards/OrderIdOfferCard'\nimport {useGoBack} from '../../../Hooks/app'\nimport {generateQrCodeBase64} from '../../../utils/qr_code'\nimport {getStatus} from '../../../utils/get-status'\nimport qrBlur from '../../../Assets/Images/qr-blur.png'\n\nexport const MobileView = () => {\n    const {t} = useTranslation()\n    const {order_id} = useParams()\n    const {$app: {saveURL}} = useStore($appModel)\n    const {$profiles: {currentProfile}} = useStore($accountModel)\n    const {$orderDetail: {data, forceLoading}} = useStore($orderModel)\n    const {$orderIdOffers: {data: orderIdOffersData}} = useStore($orderModel)\n    const {goBack} = useGoBack({pathname: saveURL ? saveURL : '/records/unregistered'})\n    \n    const goBackAndReset = () => {\n        resetOrderIdOffers()\n        goBack()\n    }\n    \n    return (\n        <RootContent paddingTop='70px' style={{paddingBottom: 60}}>\n            <FixedHeader\n                goBack={goBackAndReset}\n                title={t('detailed_order_information')}\n            />\n            <DetailImageWrapper\n                width='100%'\n                padding='0 12px'\n            >\n                <Row\n                    gutter={[0, 12]}\n                    style={{\n                        display: 'flex',\n                        flexDirection: 'column'\n                    }}\n                >\n                    <Col\n                        span={24}\n                        className='qr-code-wrapper'\n                    >\n                        {\n                            forceLoading === 2 && data?.[order_id]\n                                ? <>\n                                    <Image\n                                        width={210}\n                                        height={210}\n                                        preview={data?.[order_id]?.status !== 0 ? {mask: ''} : false}\n                                        src={\n                                            data?.[order_id]?.status !== 0 && data?.[order_id]?.qr_code\n                                                ? generateQrCodeBase64(data?.[order_id]?.qr_code)\n                                                : qrBlur\n                                        }\n                                    />\n                                </>\n                                : <SkeletonUI animation='wave' variant='rect' width={210} height={210}/>\n                        }\n                    </Col>\n                    <Col className='display-style'>\n                        <Text\n                            className='static-width'\n                            color='var(--grey-dwed)'\n                        >\n                            {`${t('order_status')}: `}\n                        </Text>\n                        {\n                            data && data?.[order_id] && (\n                                <Title color={getStatus(data?.[order_id]?.status)?.color}>\n                                    {getStatus(data?.[order_id]?.status)?.text}\n                                </Title>\n                            )\n                        }\n                    </Col>\n                    <Col className='display-style'>\n                        <Text\n                            color='var(--grey-dwed)'\n                            className='static-width'\n                        >\n                            {`${t('organization')}: `}\n                        </Text>\n                        <Title alignType='right'>\n                            {data && data?.[order_id]?.responsible?.org?.name}\n                        </Title>\n                    </Col>\n                    <Col className='display-style'>\n                        <Text className='static-width' color='var(--grey-dwed)'>{`${t('specialist_category')}: `}</Text>\n                        <Title alignType='right'>\n                            {data?.[order_id]?.responsible?.spec_cat?.name}\n                        </Title>\n                    </Col>\n                    <Col className='display-style'>\n                        <Text className='static-width' color='var(--grey-dwed)'>{`${t('specialist')}: `}</Text>\n                        <Title>\n                            {data && data?.[order_id]?.responsible?.user?.full_name}\n                        </Title>\n                    </Col>\n                    <Col className='display-style'>\n                        <Text className='static-width' color='var(--grey-dwed)'>{`${t('meeting_time')}: `}</Text>\n                        <Title>\n                            {data &&\n                                moment(data?.[order_id]?.meet_date).format('YYYY-MM-DD HH:mm')\n                            }\n                        </Title>\n                    </Col>\n                    <Col className='display-style'>\n                        <Text className='static-width' color='var(--grey-dwed)'>{`${t('total_cost')}: `}</Text>\n                        <Title>{data && data[order_id] &&\n                            `${data?.[order_id]?.total_cost?.toLocaleString('fi-Fi')}\n                                                ${currentProfile?.currency?.code?.toUpperCase()}`\n                        }</Title>\n                    </Col>\n                    <Col className='display-style'>\n                        <Text className='static-width' color='var(--grey-dwed)'>{`${t('offerings')}: `}</Text>\n                    </Col>\n                    {\n                        orderIdOffersData?.map((item, idx) => (\n                            <Col key={`${idx + 1}`}>\n                                <OrderIdOfferCard\n                                    count={item.qty}\n                                    cost={item.cost}\n                                    src={item.offering.image}\n                                    title={item.offering.name}\n                                />\n                            </Col>\n                        ))\n                    }\n                </Row>\n            </DetailImageWrapper>\n        </RootContent>\n    )\n}"]},"metadata":{},"sourceType":"module"}