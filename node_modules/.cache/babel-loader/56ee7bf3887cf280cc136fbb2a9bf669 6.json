{"ast":null,"code":"import React from'react';import{useTranslation}from'react-i18next';import{useStore}from'effector-react';import{$appModel}from'../../../Models/app';import{useOrgOrderCarts,useOrgOrderDelete}from'../../../Hooks/order';import{$accountModel}from'../../../Models/account-model';import{$orderModel}from'../../../Models/order-model';import InfiniteScroll from'react-infinite-scroll-component';import{Col,Row}from'antd';import{OfferingHorizontalCard}from'../../../Components/Cards';import{ManageCount}from'./manage-count';import{INFO_MAT}from'../../../Constants/app';import{Text}from'../../../UIComponents/Typography/Text';import{OfferingHorizontalCardSkeleton}from'../../../Components/Cards/OfferingHorizontalCardSkeleton';import{generateSkeleton}from'../../../utils/skeleton-utils';var skeleton=generateSkeleton(1);export var UnregisteredOfferings=function UnregisteredOfferings(){var _result$organization,_result$organization2,_data$organization,_data$organization2,_result$organization3,_result$organization4,_currentProfile$curre,_currentProfile$curre2;var _useTranslation=useTranslation(),t=_useTranslation.t;var _useStore=useStore($appModel),$device=_useStore.$device;var _useOrgOrderCarts=useOrgOrderCarts(),loadMore=_useOrgOrderCarts.loadMore;var _useOrgOrderDelete=useOrgOrderDelete(),handleDelete=_useOrgOrderDelete.handleDelete,organization=_useOrgOrderDelete.organization;var _useStore2=useStore($accountModel),currentProfile=_useStore2.$profiles.currentProfile;var _useStore3=useStore($orderModel),_useStore3$$orgOrderC=_useStore3.$orgOrderCartList,data=_useStore3$$orgOrderC.data,result=_useStore3$$orgOrderC.result,loading=_useStore3$$orgOrderC.loading,forceLoading=_useStore3$$orgOrderC.forceLoading;return/*#__PURE__*/React.createElement(React.Fragment,null,forceLoading===2?/*#__PURE__*/React.createElement(InfiniteScroll,{style:{overflow:'visible'},next:loadMore,dataLength:(result===null||result===void 0?void 0:(_result$organization=result[organization])===null||_result$organization===void 0?void 0:_result$organization.nextOffset)||10,hasMore:!loading&&!!(result===null||result===void 0?void 0:(_result$organization2=result[organization])===null||_result$organization2===void 0?void 0:_result$organization2.next),loader:/*#__PURE__*/React.createElement(React.Fragment,null,\"...loading\")},/*#__PURE__*/React.createElement(Row,{gutter:[0,12]},data&&organization&&(data===null||data===void 0?void 0:(_data$organization=data[organization])===null||_data$organization===void 0?void 0:_data$organization.length)>0&&(data===null||data===void 0?void 0:(_data$organization2=data[organization])===null||_data$organization2===void 0?void 0:_data$organization2.map(function(item,idx){return/*#__PURE__*/React.createElement(Col,{key:\"\".concat(idx+1),span:24},/*#__PURE__*/React.createElement(OfferingHorizontalCard,{data:item,id:item.offering.id,imgUrl:item.offering.image,name:item.offering.name,cost:\"\".concat(item.total_cost.toLocaleString('fi-Fi'),\"\\n                                            \").concat(currentProfile.currency.code),manageCount:/*#__PURE__*/React.createElement(ManageCount,{item:item,countValue:item.qty,measurement:item.offering.measurement}),handleDelete:handleDelete}));})),!!result&&/*#__PURE__*/React.createElement(React.Fragment,null,forceLoading===2&&$device&&$device===INFO_MAT?/*#__PURE__*/React.createElement(Text,{level:4},\"\".concat(t('total_cost'),\": \").concat(result===null||result===void 0?void 0:(_result$organization3=result[organization])===null||_result$organization3===void 0?void 0:(_result$organization4=_result$organization3.total_cost)===null||_result$organization4===void 0?void 0:_result$organization4.toLocaleString('fi-Fi'),\"\\n                                                \").concat(currentProfile===null||currentProfile===void 0?void 0:(_currentProfile$curre=currentProfile.currency)===null||_currentProfile$curre===void 0?void 0:(_currentProfile$curre2=_currentProfile$curre.code)===null||_currentProfile$curre2===void 0?void 0:_currentProfile$curre2.toUpperCase())):''))):/*#__PURE__*/React.createElement(Row,{gutter:[0,12]},skeleton.map(function(item,idx){return/*#__PURE__*/React.createElement(Col,{span:24,key:\"\".concat(idx+1)},/*#__PURE__*/React.createElement(OfferingHorizontalCardSkeleton,null));})));};","map":{"version":3,"sources":["/Users/zuhriddinkamilzanov/Desktop/tMed-mobile/src/Views/Records/organisms/unregistered-offerings.jsx"],"names":["React","useTranslation","useStore","$appModel","useOrgOrderCarts","useOrgOrderDelete","$accountModel","$orderModel","InfiniteScroll","Col","Row","OfferingHorizontalCard","ManageCount","INFO_MAT","Text","OfferingHorizontalCardSkeleton","generateSkeleton","skeleton","UnregisteredOfferings","t","$device","loadMore","handleDelete","organization","currentProfile","$profiles","$orgOrderCartList","data","result","loading","forceLoading","overflow","nextOffset","next","length","map","item","idx","offering","id","image","name","total_cost","toLocaleString","currency","code","qty","measurement","toUpperCase"],"mappings":"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","sourcesContent":["import React from 'react'\nimport {useTranslation} from 'react-i18next'\nimport {useStore} from 'effector-react'\nimport {$appModel} from '../../../Models/app'\nimport {useOrgOrderCarts, useOrgOrderDelete} from '../../../Hooks/order'\nimport {$accountModel} from '../../../Models/account-model'\nimport {$orderModel} from '../../../Models/order-model'\nimport InfiniteScroll from 'react-infinite-scroll-component'\nimport {Col, Row} from 'antd'\nimport {OfferingHorizontalCard} from '../../../Components/Cards'\nimport {ManageCount} from './manage-count'\nimport {INFO_MAT} from '../../../Constants/app'\nimport {Text} from '../../../UIComponents/Typography/Text'\nimport {OfferingHorizontalCardSkeleton} from '../../../Components/Cards/OfferingHorizontalCardSkeleton'\nimport {generateSkeleton} from '../../../utils/skeleton-utils'\n\nconst skeleton = generateSkeleton(1)\nexport const UnregisteredOfferings = () => {\n    const {t} = useTranslation()\n    const {$device} = useStore($appModel)\n    const {loadMore} = useOrgOrderCarts()\n    const {handleDelete, organization} = useOrgOrderDelete()\n    const {$profiles: {currentProfile}} = useStore($accountModel)\n    const {$orgOrderCartList: {data, result, loading, forceLoading}} = useStore($orderModel)\n    \n    return (\n        <>\n            {\n                forceLoading === 2\n                    ? <InfiniteScroll\n                        style={{overflow: 'visible'}}\n                        next={loadMore}\n                        dataLength={result?.[organization]?.nextOffset || 10}\n                        hasMore={!loading && !!result?.[organization]?.next}\n                        loader={<>...loading</>}\n                    >\n                        <Row gutter={[0, 12]}>\n                            {\n                                data && organization && data?.[organization]?.length > 0 &&\n                                data?.[organization]?.map((item, idx) => (\n                                    <Col\n                                        key={`${idx + 1}`}\n                                        span={24}\n                                    >\n                                        <OfferingHorizontalCard\n                                            data={item}\n                                            id={item.offering.id}\n                                            imgUrl={item.offering.image}\n                                            name={item.offering.name}\n                                            cost={\n                                                `${item.total_cost.toLocaleString('fi-Fi')}\n                                            ${currentProfile.currency.code}`\n                                            }\n                                            manageCount={<ManageCount\n                                                item={item}\n                                                countValue={item.qty}\n                                                measurement={item.offering.measurement}\n                                            />}\n                                            handleDelete={handleDelete}\n                                        />\n                                    </Col>\n                                ))\n                            }\n                            {\n                                !!result\n                                && <>\n                                    {\n                                        forceLoading === 2 && $device && $device === INFO_MAT\n                                            ? (\n                                                <Text level={4}>\n                                                    {\n                                                        `${t('total_cost')}: ${result?.[organization]?.total_cost?.toLocaleString('fi-Fi')}\n                                                ${currentProfile?.currency?.code?.toUpperCase()}`\n                                                    }\n                                                </Text>\n                                            )\n                                            : ''\n                                    }\n                                </>\n                            }\n                        </Row>\n                    </InfiniteScroll>\n                    : <Row gutter={[0, 12]}>\n                        {\n                            skeleton.map((item, idx) => (\n                                <Col span={24} key={`${idx + 1}`}>\n                                    <OfferingHorizontalCardSkeleton/>\n                                </Col>\n                            ))\n                        }\n                    </Row>\n            }\n        </>\n    )\n}"]},"metadata":{},"sourceType":"module"}