{"ast":null,"code":"import React from'react';import{Col,Row}from'antd';import{useStore}from'effector-react';import{$orderModel}from'../../../Models/order-model';import{RecordCard,RecordCardSkeleton}from'../molecules';import moment from'moment';import{useOrderList}from'../../../Hooks/order';import{useHistory}from'react-router-dom';import{saveURLMount}from'../../../Models/app';import InfiniteScroll from'react-infinite-scroll-component';import{generateSkeleton}from'../../../utils/skeleton-utils';import{$accountModel}from'../../../Models/account-model';var skeleton=generateSkeleton(5);export var MyOrders=function MyOrders(){var _useOrderList=useOrderList(),loadMore=_useOrderList.loadMore;var _useStore=useStore($accountModel),currentProfile=_useStore.$profiles.currentProfile;var _useHistory=useHistory(),push=_useHistory.push,pathname=_useHistory.location.pathname;var _useStore2=useStore($orderModel),_useStore2$$orderList=_useStore2.$orderList,data=_useStore2$$orderList.data,loading=_useStore2$$orderList.loading,result=_useStore2$$orderList.result,forceLoading=_useStore2$$orderList.forceLoading;var handlePush=function handlePush(item){push(\"/records/detail/\".concat(item.id));saveURLMount(pathname);};var handleRecordsPush=function handleRecordsPush(item){push(\"/@\".concat(currentProfile&&currentProfile.slug_name,\"/records/\").concat(item.id));saveURLMount(pathname);};return/*#__PURE__*/React.createElement(React.Fragment,null,forceLoading===2&&data?/*#__PURE__*/React.createElement(InfiniteScroll,{next:loadMore,hasMore:!loading&&!!result.next,style:{overflow:'hidden'},dataLength:result.nextOffset||10,loader:/*#__PURE__*/React.createElement(React.Fragment,null,\"...loading\")},/*#__PURE__*/React.createElement(Row,{gutter:[0,12],style:{paddingBottom:65,paddingTop:12},className:\"container\"},data.map(function(item,idx){return/*#__PURE__*/React.createElement(Col,{span:24,key:\"\".concat(idx+1)},/*#__PURE__*/React.createElement(RecordCard,{meet:moment(item.meet_date).format('LT'),status:item.status,date:moment(item.meet_date).format('DD/MM/YY'),name:item.responsible.user.full_name,category:item.responsible.org.name,src:item.responsible.user.avatar,link:function link(){return handlePush(item);},recordsLink:function recordsLink(){return handleRecordsPush(item);}}));}))):/*#__PURE__*/React.createElement(Row,{gutter:[0,12],style:{paddingBottom:65,paddingTop:12},className:\"container\"},skeleton.map(function(item,idx){return/*#__PURE__*/React.createElement(Col,{span:24,key:\"\".concat(idx+1)},/*#__PURE__*/React.createElement(RecordCardSkeleton,null));})));};","map":null,"metadata":{},"sourceType":"module"}