{"ast":null,"code":"import React from'react';import{Col,Row}from'antd';import{useStore}from'effector-react';import{$orderModel}from'../../../Models/order-model';import{RecordCard,RecordCardSkeleton}from'../molecules';import moment from'moment';import{useOrderList}from'../../../Hooks/order';import{useHistory}from'react-router-dom';import InfiniteScroll from'react-infinite-scroll-component';import{generateSkeleton}from'../../../utils/skeleton-utils';import{saveURLMount}from'../../../Models/app';var skeleton=generateSkeleton(5);export var MyRecords=function MyRecords(){var _useHistory=useHistory(),push=_useHistory.push,pathname=_useHistory.location.pathname;var _useOrderList=useOrderList(5),loadMore=_useOrderList.loadMore;var _useStore=useStore($orderModel),_useStore$$orderList=_useStore.$orderList,data=_useStore$$orderList.data,loading=_useStore$$orderList.loading,result=_useStore$$orderList.result,forceLoading=_useStore$$orderList.forceLoading;var handlePush=function handlePush(item){push(\"/records/detail/\".concat(item.id));saveURLMount(pathname);};return/*#__PURE__*/React.createElement(React.Fragment,null,forceLoading===2?/*#__PURE__*/React.createElement(InfiniteScroll,{next:loadMore,hasMore:!loading&&!!result.next,dataLength:result.nextOffset||10,loader:/*#__PURE__*/React.createElement(React.Fragment,null,\"...loading\")},/*#__PURE__*/React.createElement(Row,{gutter:[0,12],style:{paddingBottom:65},className:\"container\"},data.map(function(item,idx){return/*#__PURE__*/React.createElement(Col,{span:24,key:\"\".concat(idx+1)},/*#__PURE__*/React.createElement(RecordCard,{meet:moment(item.meet_date).format('LT'),status:item.status,date:moment(item.meet_date).format('DD/MM/YY'),name:item.responsible.user.full_name,category:item.responsible.user.main_cat.name,src:item.responsible.org.logo,link:function link(){return handlePush(item);}}));}))):/*#__PURE__*/React.createElement(Row,{gutter:[0,12],className:\"container\"},skeleton.map(function(item,idx){return/*#__PURE__*/React.createElement(Col,{span:24,key:\"\".concat(idx+1)},/*#__PURE__*/React.createElement(RecordCardSkeleton,null));})));};","map":{"version":3,"sources":["/Users/zuhriddinkamilzanov/Desktop/tMed-mobile/src/Views/Records/organisms/my-records.jsx"],"names":["React","Col","Row","useStore","$orderModel","RecordCard","RecordCardSkeleton","moment","useOrderList","useHistory","InfiniteScroll","generateSkeleton","saveURLMount","skeleton","MyRecords","push","pathname","location","loadMore","$orderList","data","loading","result","forceLoading","handlePush","item","id","next","nextOffset","paddingBottom","map","idx","meet_date","format","status","responsible","user","full_name","main_cat","name","org","logo"],"mappings":"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","sourcesContent":["import React from 'react'\nimport {Col, Row} from 'antd'\nimport {useStore} from 'effector-react'\nimport {$orderModel} from '../../../Models/order-model'\nimport {RecordCard, RecordCardSkeleton} from '../molecules'\nimport moment from 'moment'\nimport {useOrderList} from '../../../Hooks/order'\nimport {useHistory} from 'react-router-dom'\nimport InfiniteScroll from 'react-infinite-scroll-component'\nimport {generateSkeleton} from '../../../utils/skeleton-utils'\nimport {saveURLMount} from '../../../Models/app'\n\nconst skeleton = generateSkeleton(5)\nexport const MyRecords = () => {\n    const {push, location: {pathname}} = useHistory()\n    const {loadMore} = useOrderList(5)\n    const {$orderList: {data, loading, result, forceLoading}} = useStore($orderModel)\n    \n    const handlePush = (item) => {\n        push(`/records/detail/${item.id}`)\n        saveURLMount(pathname)\n    }\n    \n    return (\n        <>\n            {\n                forceLoading === 2\n                    ? (\n                        <InfiniteScroll\n                            next={loadMore}\n                            hasMore={!loading && !!result.next}\n                            dataLength={result.nextOffset || 10}\n                            loader={<>...loading</>}\n                        >\n                            <Row gutter={[0, 12]} style={{paddingBottom: 65}} className='container'>\n                                {\n                                    data.map((item, idx) => (\n                                        <Col span={24} key={`${idx + 1}`}>\n                                            <RecordCard\n                                                meet={moment(item.meet_date).format('LT')}\n                                                status={item.status}\n                                                date={moment(item.meet_date).format('DD/MM/YY')}\n                                                name={item.responsible.user.full_name}\n                                                category={item.responsible.user.main_cat.name}\n                                                src={item.responsible.org.logo}\n                                                link={() => handlePush(item)}\n                                            />\n                                        </Col>\n                                    ))\n                                }\n                            \n                            </Row>\n                        </InfiniteScroll>\n                    ) : (\n                        <Row gutter={[0, 12]} className='container'>\n                            {\n                                skeleton.map((item, idx) => (\n                                    <Col span={24} key={`${idx + 1}`}>\n                                        <RecordCardSkeleton/>\n                                    </Col>\n                                ))\n                            }\n                        </Row>\n                    )\n            }\n        </>\n    )\n}"]},"metadata":{},"sourceType":"module"}