{"ast":null,"code":"import React from'react';import{Col,Row}from'antd';import{useStore}from'effector-react';import{$orderModel}from'../../../Models/order-model';import{RecordCard,RecordCardSkeleton}from'../molecules';import moment from'moment';import{useOrderList}from'../../../Hooks/order';import{useHistory}from'react-router-dom';import InfiniteScroll from'react-infinite-scroll-component';import{generateSkeleton}from'../../../utils/skeleton-utils';var skeleton=generateSkeleton(5);export var MyRecords=function MyRecords(){var _useHistory=useHistory(),push=_useHistory.push;var _useOrderList=useOrderList(5),loadMore=_useOrderList.loadMore;var _useStore=useStore($orderModel),_useStore$$orderList=_useStore.$orderList,data=_useStore$$orderList.data,loading=_useStore$$orderList.loading,result=_useStore$$orderList.result,forceLoading=_useStore$$orderList.forceLoading;return/*#__PURE__*/React.createElement(React.Fragment,null,forceLoading===2?/*#__PURE__*/React.createElement(InfiniteScroll,{next:loadMore,hasMore:!loading&&!!result.next,dataLength:result.nextOffset||10,loader:/*#__PURE__*/React.createElement(React.Fragment,null,\"...loading\")},/*#__PURE__*/React.createElement(Row,{gutter:[0,12],style:{paddingBottom:65}},data.map(function(item,idx){return/*#__PURE__*/React.createElement(Col,{span:24,key:\"\".concat(idx+1)},/*#__PURE__*/React.createElement(RecordCard,{meet:moment(item.meet_date).format('LT'),status:item.status,date:moment(item.meet_date).format('DD/MM/YY'),name:item.responsible.user.full_name,category:item.responsible.user.main_cat.name,src:item.responsible.org.logo,containerPush:function containerPush(){return push(\"/records/detail/\".concat(item.id));}}));}))):/*#__PURE__*/React.createElement(Row,{gutter:[0,12]},skeleton.map(function(item,idx){return/*#__PURE__*/React.createElement(Col,{span:24,key:\"\".concat(idx+1)},/*#__PURE__*/React.createElement(RecordCardSkeleton,null));})));};","map":{"version":3,"sources":["/Users/zuhriddinkamilzanov/Desktop/tMed-mobile/src/Views/Records/organisms/my-records.jsx"],"names":["React","Col","Row","useStore","$orderModel","RecordCard","RecordCardSkeleton","moment","useOrderList","useHistory","InfiniteScroll","generateSkeleton","skeleton","MyRecords","push","loadMore","$orderList","data","loading","result","forceLoading","next","nextOffset","paddingBottom","map","item","idx","meet_date","format","status","responsible","user","full_name","main_cat","name","org","logo","id"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,GAAR,CAAaC,GAAb,KAAuB,MAAvB,CACA,OAAQC,QAAR,KAAuB,gBAAvB,CACA,OAAQC,WAAR,KAA0B,6BAA1B,CACA,OAAQC,UAAR,CAAoBC,kBAApB,KAA6C,cAA7C,CACA,MAAOC,CAAAA,MAAP,KAAmB,QAAnB,CACA,OAAQC,YAAR,KAA2B,sBAA3B,CACA,OAAQC,UAAR,KAAyB,kBAAzB,CACA,MAAOC,CAAAA,cAAP,KAA2B,iCAA3B,CACA,OAAQC,gBAAR,KAA+B,+BAA/B,CAEA,GAAMC,CAAAA,QAAQ,CAAGD,gBAAgB,CAAC,CAAD,CAAjC,CACA,MAAO,IAAME,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,CAC3B,gBAAeJ,UAAU,EAAzB,CAAOK,IAAP,aAAOA,IAAP,CACA,kBAAmBN,YAAY,CAAC,CAAD,CAA/B,CAAOO,QAAP,eAAOA,QAAP,CACA,cAA4DZ,QAAQ,CAACC,WAAD,CAApE,gCAAOY,UAAP,CAAoBC,IAApB,sBAAoBA,IAApB,CAA0BC,OAA1B,sBAA0BA,OAA1B,CAAmCC,MAAnC,sBAAmCA,MAAnC,CAA2CC,YAA3C,sBAA2CA,YAA3C,CAEA,mBACI,wCAEQA,YAAY,GAAK,CAAjB,cAEQ,oBAAC,cAAD,EACI,IAAI,CAAEL,QADV,CAEI,OAAO,CAAE,CAACG,OAAD,EAAY,CAAC,CAACC,MAAM,CAACE,IAFlC,CAGI,UAAU,CAAEF,MAAM,CAACG,UAAP,EAAqB,EAHrC,CAII,MAAM,cAAE,qDAJZ,eAMI,oBAAC,GAAD,EAAK,MAAM,CAAE,CAAC,CAAD,CAAI,EAAJ,CAAb,CAAsB,KAAK,CAAE,CAACC,aAAa,CAAE,EAAhB,CAA7B,EAEQN,IAAI,CAACO,GAAL,CAAS,SAACC,IAAD,CAAOC,GAAP,qBACL,oBAAC,GAAD,EAAK,IAAI,CAAE,EAAX,CAAe,GAAG,WAAKA,GAAG,CAAG,CAAX,CAAlB,eACI,oBAAC,UAAD,EACI,IAAI,CAAEnB,MAAM,CAACkB,IAAI,CAACE,SAAN,CAAN,CAAuBC,MAAvB,CAA8B,IAA9B,CADV,CAEI,MAAM,CAAEH,IAAI,CAACI,MAFjB,CAGI,IAAI,CAAEtB,MAAM,CAACkB,IAAI,CAACE,SAAN,CAAN,CAAuBC,MAAvB,CAA8B,UAA9B,CAHV,CAII,IAAI,CAAEH,IAAI,CAACK,WAAL,CAAiBC,IAAjB,CAAsBC,SAJhC,CAKI,QAAQ,CAAEP,IAAI,CAACK,WAAL,CAAiBC,IAAjB,CAAsBE,QAAtB,CAA+BC,IAL7C,CAMI,GAAG,CAAET,IAAI,CAACK,WAAL,CAAiBK,GAAjB,CAAqBC,IAN9B,CAOI,aAAa,CAAE,+BAAMtB,CAAAA,IAAI,2BAAoBW,IAAI,CAACY,EAAzB,EAAV,EAPnB,EADJ,CADK,EAAT,CAFR,CANJ,CAFR,cA4BQ,oBAAC,GAAD,EAAK,MAAM,CAAE,CAAC,CAAD,CAAI,EAAJ,CAAb,EAEQzB,QAAQ,CAACY,GAAT,CAAa,SAACC,IAAD,CAAOC,GAAP,qBACT,oBAAC,GAAD,EAAK,IAAI,CAAE,EAAX,CAAe,GAAG,WAAKA,GAAG,CAAG,CAAX,CAAlB,eACI,oBAAC,kBAAD,MADJ,CADS,EAAb,CAFR,CA9BhB,CADJ,CA4CH,CAjDM","sourcesContent":["import React from 'react'\nimport {Col, Row} from 'antd'\nimport {useStore} from 'effector-react'\nimport {$orderModel} from '../../../Models/order-model'\nimport {RecordCard, RecordCardSkeleton} from '../molecules'\nimport moment from 'moment'\nimport {useOrderList} from '../../../Hooks/order'\nimport {useHistory} from 'react-router-dom'\nimport InfiniteScroll from 'react-infinite-scroll-component'\nimport {generateSkeleton} from '../../../utils/skeleton-utils'\n\nconst skeleton = generateSkeleton(5)\nexport const MyRecords = () => {\n    const {push} = useHistory()\n    const {loadMore} = useOrderList(5)\n    const {$orderList: {data, loading, result, forceLoading}} = useStore($orderModel)\n    \n    return (\n        <>\n            {\n                forceLoading === 2\n                    ? (\n                        <InfiniteScroll\n                            next={loadMore}\n                            hasMore={!loading && !!result.next}\n                            dataLength={result.nextOffset || 10}\n                            loader={<>...loading</>}\n                        >\n                            <Row gutter={[0, 12]} style={{paddingBottom: 65}}>\n                                {\n                                    data.map((item, idx) => (\n                                        <Col span={24} key={`${idx + 1}`}>\n                                            <RecordCard\n                                                meet={moment(item.meet_date).format('LT')}\n                                                status={item.status}\n                                                date={moment(item.meet_date).format('DD/MM/YY')}\n                                                name={item.responsible.user.full_name}\n                                                category={item.responsible.user.main_cat.name}\n                                                src={item.responsible.org.logo}\n                                                containerPush={() => push(`/records/detail/${item.id}`)}\n                                            />\n                                        </Col>\n                                    ))\n                                }\n                            \n                            </Row>\n                        </InfiniteScroll>\n                    ) : (\n                        <Row gutter={[0, 12]}>\n                            {\n                                skeleton.map((item, idx) => (\n                                    <Col span={24} key={`${idx + 1}`}>\n                                        <RecordCardSkeleton/>\n                                    </Col>\n                                ))\n                            }\n                        </Row>\n                    )\n            }\n        </>\n    )\n}"]},"metadata":{},"sourceType":"module"}