{"ast":null,"code":"import { useCallback, useEffect } from 'react';\nimport { useStore } from 'effector-react';\nimport { $postModel, commentReplyListMount } from '../../Models/post-model';\nimport { useParams } from 'react-router-dom';\nconst initialParams = {\n  limit: 10,\n  offset: 0\n};\nexport function useCommentReplyList(comment_id) {\n  const {\n    $commentReplyList: {\n      data,\n      result\n    }\n  } = useStore($postModel);\n  const {\n    post_id\n  } = useParams();\n  console.log(data, result);\n  const loadMore = useCallback(() => {\n    if (result.nextOffset) {\n      const params = { ...initialParams,\n        offset: result.nextOffset,\n        comment_id: comment_id,\n        post_id: post_id\n      };\n      commentReplyListMount(params);\n    }\n  }, [result.nextOffset, comment_id, post_id]);\n  useEffect(() => {\n    const params = {\n      initialParams,\n      post_id: post_id,\n      comment_id: comment_id\n    };\n    commentReplyListMount(params);\n  }, [comment_id, post_id]);\n  return {\n    loadMore\n  };\n}","map":{"version":3,"sources":["/Users/zuhriddinkamilzanov/Desktop/t-med(mobile)/src/Hooks/post/use-comment-reply-list.js"],"names":["useCallback","useEffect","useStore","$postModel","commentReplyListMount","useParams","initialParams","limit","offset","useCommentReplyList","comment_id","$commentReplyList","data","result","post_id","console","log","loadMore","nextOffset","params"],"mappings":"AAAA,SAAQA,WAAR,EAAqBC,SAArB,QAAqC,OAArC;AACA,SAAQC,QAAR,QAAuB,gBAAvB;AACA,SAAQC,UAAR,EAAoBC,qBAApB,QAAgD,yBAAhD;AACA,SAAQC,SAAR,QAAwB,kBAAxB;AAEA,MAAMC,aAAa,GAAG;AAClBC,EAAAA,KAAK,EAAE,EADW;AAElBC,EAAAA,MAAM,EAAE;AAFU,CAAtB;AAKA,OAAO,SAASC,mBAAT,CAA6BC,UAA7B,EAAyC;AAC5C,QAAM;AAACC,IAAAA,iBAAiB,EAAE;AAACC,MAAAA,IAAD;AAAOC,MAAAA;AAAP;AAApB,MAAsCX,QAAQ,CAACC,UAAD,CAApD;AACA,QAAM;AAACW,IAAAA;AAAD,MAAYT,SAAS,EAA3B;AACAU,EAAAA,OAAO,CAACC,GAAR,CAAYJ,IAAZ,EAAkBC,MAAlB;AAEA,QAAMI,QAAQ,GAAGjB,WAAW,CAAC,MAAM;AAC/B,QAAIa,MAAM,CAACK,UAAX,EAAuB;AACnB,YAAMC,MAAM,GAAG,EACX,GAAGb,aADQ;AAEXE,QAAAA,MAAM,EAAEK,MAAM,CAACK,UAFJ;AAGXR,QAAAA,UAAU,EAAEA,UAHD;AAIXI,QAAAA,OAAO,EAAEA;AAJE,OAAf;AAMAV,MAAAA,qBAAqB,CAACe,MAAD,CAArB;AACH;AACJ,GAV2B,EAUzB,CAACN,MAAM,CAACK,UAAR,EAAoBR,UAApB,EAAgCI,OAAhC,CAVyB,CAA5B;AAYAb,EAAAA,SAAS,CAAC,MAAM;AACZ,UAAMkB,MAAM,GAAG;AACXb,MAAAA,aADW;AAEXQ,MAAAA,OAAO,EAAEA,OAFE;AAGXJ,MAAAA,UAAU,EAAEA;AAHD,KAAf;AAKAN,IAAAA,qBAAqB,CAACe,MAAD,CAArB;AACH,GAPQ,EAON,CAACT,UAAD,EAAaI,OAAb,CAPM,CAAT;AASA,SAAO;AAACG,IAAAA;AAAD,GAAP;AACH","sourcesContent":["import {useCallback, useEffect} from 'react'\nimport {useStore} from 'effector-react'\nimport {$postModel, commentReplyListMount} from '../../Models/post-model'\nimport {useParams} from 'react-router-dom'\n\nconst initialParams = {\n    limit: 10,\n    offset: 0\n}\n\nexport function useCommentReplyList(comment_id) {\n    const {$commentReplyList: {data, result}} = useStore($postModel)\n    const {post_id} = useParams()\n    console.log(data, result)\n    \n    const loadMore = useCallback(() => {\n        if (result.nextOffset) {\n            const params = {\n                ...initialParams,\n                offset: result.nextOffset,\n                comment_id: comment_id,\n                post_id: post_id\n            }\n            commentReplyListMount(params)\n        }\n    }, [result.nextOffset, comment_id, post_id])\n    \n    useEffect(() => {\n        const params = {\n            initialParams,\n            post_id: post_id,\n            comment_id: comment_id\n        }\n        commentReplyListMount(params)\n    }, [comment_id, post_id])\n    \n    return {loadMore}\n}"]},"metadata":{},"sourceType":"module"}