{"ast":null,"code":"import _objectSpread from\"/Users/zuhriddinkamilzanov/Desktop/t-med(mobile)/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{useEffect}from'react';import{useUrlParams}from'../app';import{useStore}from'effector-react';import{URL_KEYS}from'../../Constants';import order from'../../Service/order';import{$appModel}from'../../Models/app';import{useHistory,useParams}from'react-router-dom';import{$orderModel,getOrderCartListMount,getOrgOrderCartsMount}from'../../Models/order-model';var initialParams={limit:10,offset:0};export function useOrgOrderDelete(){var _orderCartsData$find,_orderCartsData$find$;var _useHistory=useHistory(),push=_useHistory.push;var _useUrlParams=useUrlParams(),urlData=_useUrlParams.urlData;var _useParams=useParams(),organization=_useParams.organization;var specId=urlData[URL_KEYS.SPECIALIST_ID];var _useStore=useStore($appModel),saveURL=_useStore.$app.saveURL;var _useStore2=useStore($orderModel),data=_useStore2.$orgOrderCartList.data;var _useStore3=useStore($orderModel),orderCartsData=_useStore3.$orderCartList.data;var specList=(_orderCartsData$find=orderCartsData.find(function(item){return item.seller.slug_name===organization;}))===null||_orderCartsData$find===void 0?void 0:(_orderCartsData$find$=_orderCartsData$find.seller)===null||_orderCartsData$find$===void 0?void 0:_orderCartsData$find$.specialists;useEffect(function(){if(data[organization]&&data[organization].length<=0){if(specList&&specList.length>0){push({pathname:\"/records/unregistered/\".concat(organization),search:\"\".concat(URL_KEYS.SPECIALIST_ID,\"=\").concat(specList[0].id)});}}},[data,organization,push,specList]);var handleDelete=function handleDelete(id){var pushToOrg=function pushToOrg(){push(saveURL?saveURL:\"/\".concat(organization,\"/offerings\"));};if(data&&data[organization]){var params={offering_id:id,organization:organization,action:function action(){var params={action:function action(){return pushToOrg();},isRedirect:true,organization:organization};getOrderCartListMount(params);}};order.deleteOrderCart(params).then(function(res){if(res){var _data={clear:true,org_slug_name:organization,params:_objectSpread(_objectSpread({},initialParams),{},{responsible:specId}),action:function action(){var params={action:function action(){return pushToOrg();},isRedirect:true,organization:organization};getOrderCartListMount(params);}};getOrgOrderCartsMount(_data);}});// deleteOrderCartMount(params)\n}};return{organization:organization,handleDelete:handleDelete};}","map":null,"metadata":{},"sourceType":"module"}