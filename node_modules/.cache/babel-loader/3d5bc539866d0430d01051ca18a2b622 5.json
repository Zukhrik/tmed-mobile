{"ast":null,"code":"import React from'react';import{useUser}from'../../../Hooks/user';import{useHistory,useParams}from'react-router-dom';import{useStore}from'effector-react';import{$userModel}from'../../../Models/user-model';import{RootContent}from'../../../UIComponents/GlobalStyles';import{FixedHeader}from'../../../Components/FixedHeader';import{UserFixedHeaderComponent}from'../organisms/user-fixed-header-component';import{Col,Row}from'antd';import{ShortCard,ShortCardSkeleton}from'../../../Components/Cards';import Cookies from'js-cookie';import{getCurrentAccount}from'../../../Models/account-model';import{tokenMount}from'../../../Models/app';import{resetOrderCartList,resetOrgOrderCart}from'../../../Models/order-model';import{Title}from'../../../UIComponents/Typography/Title';import{useTranslation}from'react-i18next';export var Account=function Account(){useUser();var _useTranslation=useTranslation(),t=_useTranslation.t;var _useHistory=useHistory(),push=_useHistory.push;var _useParams=useParams(),username=_useParams.username;var _useStore=useStore($userModel),_useStore$$user=_useStore.$user,data=_useStore$$user.data,forceLoading=_useStore$$user.forceLoading;var userInfo=data&&(data===null||data===void 0?void 0:data[username]);var handleClick=function handleClick(evt){if(evt==='logo'){push('/');}else if(evt==='logout'){Cookies.remove('token');Cookies.remove('users');Cookies.remove('refresh-token');getCurrentAccount();localStorage.removeItem('currentProfile');tokenMount(null);push('/');resetOrgOrderCart();resetOrderCartList();}};return/*#__PURE__*/React.createElement(RootContent,{height:\"100vh\",paddingTop:62},/*#__PURE__*/React.createElement(FixedHeader,{component:/*#__PURE__*/React.createElement(UserFixedHeaderComponent,{logoClick:function logoClick(){return handleClick('logo');},logoutClick:function logoutClick(){return handleClick('logout');}})}),/*#__PURE__*/React.createElement(Row,{className:\"container\",gutter:[0,12]},forceLoading===2&&userInfo?/*#__PURE__*/React.createElement(Col,{span:24},/*#__PURE__*/React.createElement(ShortCard,{imgSize:48,imgUrl:userInfo.avatar,name:\"\".concat(userInfo.name,\" \").concat(userInfo.lastname),text:userInfo.main_cat.name})):/*#__PURE__*/React.createElement(Col,{span:24},/*#__PURE__*/React.createElement(ShortCardSkeleton,{size:48})),/*#__PURE__*/React.createElement(Col,{span:24},/*#__PURE__*/React.createElement(Title,null,t('records')))));};","map":{"version":3,"sources":["/Users/zuhriddinkamilzanov/Desktop/tMed-mobile/src/Views/Account/pages/account.jsx"],"names":["React","useUser","useHistory","useParams","useStore","$userModel","RootContent","FixedHeader","UserFixedHeaderComponent","Col","Row","ShortCard","ShortCardSkeleton","Cookies","getCurrentAccount","tokenMount","resetOrderCartList","resetOrgOrderCart","Title","useTranslation","Account","t","push","username","$user","data","forceLoading","userInfo","handleClick","evt","remove","localStorage","removeItem","avatar","name","lastname","main_cat"],"mappings":"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","sourcesContent":["import React from 'react'\nimport {useUser} from '../../../Hooks/user'\nimport {useHistory, useParams} from 'react-router-dom'\nimport {useStore} from 'effector-react'\nimport {$userModel} from '../../../Models/user-model'\nimport {RootContent} from '../../../UIComponents/GlobalStyles'\nimport {FixedHeader} from '../../../Components/FixedHeader'\nimport {UserFixedHeaderComponent} from '../organisms/user-fixed-header-component'\nimport {Col, Row} from 'antd'\nimport {ShortCard, ShortCardSkeleton} from '../../../Components/Cards'\nimport Cookies from 'js-cookie'\nimport {getCurrentAccount} from '../../../Models/account-model'\nimport {tokenMount} from '../../../Models/app'\nimport {resetOrderCartList, resetOrgOrderCart} from '../../../Models/order-model'\nimport {Title} from '../../../UIComponents/Typography/Title'\nimport {useTranslation} from 'react-i18next'\n\n\nexport const Account = () => {\n    useUser()\n    const {t} = useTranslation()\n    const {push} = useHistory()\n    const {username} = useParams()\n    const {$user: {data, forceLoading}} = useStore($userModel)\n    const userInfo = data && data?.[username]\n    \n    const handleClick = (evt) => {\n        if (evt === 'logo') {\n            push('/')\n        } else if (evt === 'logout') {\n            Cookies.remove('token')\n            Cookies.remove('users')\n            Cookies.remove('refresh-token')\n            getCurrentAccount()\n            localStorage.removeItem('currentProfile')\n            tokenMount(null)\n            push('/')\n            resetOrgOrderCart()\n            resetOrderCartList()\n        }\n    }\n    \n    return (\n        <RootContent height='100vh' paddingTop={62}>\n            <FixedHeader\n                component={<UserFixedHeaderComponent\n                    logoClick={() => handleClick('logo')}\n                    logoutClick={() => handleClick('logout')}\n                />}\n            />\n            <Row className='container' gutter={[0, 12]}>\n                {\n                    forceLoading === 2 && userInfo\n                        ? (\n                            <Col span={24}>\n                                <ShortCard\n                                    imgSize={48}\n                                    imgUrl={userInfo.avatar}\n                                    name={`${userInfo.name} ${userInfo.lastname}`}\n                                    text={userInfo.main_cat.name}\n                                />\n                            </Col>\n                        )\n                        : (\n                            <Col span={24}>\n                                <ShortCardSkeleton size={48}/>\n                            </Col>\n                        )\n                }\n                <Col span={24}>\n                    <Title>{t('records')}</Title>\n                </Col>\n            </Row>\n        </RootContent>\n    )\n}"]},"metadata":{},"sourceType":"module"}