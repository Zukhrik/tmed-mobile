{"ast":null,"code":"import _slicedToArray from\"/Users/zuhriddinkamilzanov/Desktop/t-med(mobile)/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState}from'react';import{useUrlParams}from'../app';import order from'../../Service/order';import{URL_KEYS}from'../../Constants';import{saveURLMount}from'../../Models/app';import{getOrgOrderCartsMount}from'../../Models/order-model';import{useHistory,useLocation,useParams}from'react-router-dom';import{useOfferingDetail}from'../offerings';export function useOfferingOrderInOfferPage(){var _useHistory=useHistory(),push=_useHistory.push;var _useUrlParams=useUrlParams(),urlData=_useUrlParams.urlData;var _useLocation=useLocation(),pathname=_useLocation.pathname;var _useParams=useParams(),organization=_useParams.organization,offering_id=_useParams.offering_id;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),buttonLoad=_useState2[0],setButtonLoad=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),openModal=_useState4[0],setOpenModal=_useState4[1];var _useOfferingDetail=useOfferingDetail(offering_id),res=_useOfferingDetail.res;var handleRequest=function handleRequest(){var _res$data,_res$data$responsible,_res$data2;saveURLMount(pathname);var specId=urlData[URL_KEYS.SPECIALIST_ID]?urlData[URL_KEYS.SPECIALIST_ID]:res===null||res===void 0?void 0:(_res$data=res.data)===null||_res$data===void 0?void 0:(_res$data$responsible=_res$data.responsible[0])===null||_res$data$responsible===void 0?void 0:_res$data$responsible.id;if(res===null||res===void 0?void 0:(_res$data2=res.data)===null||_res$data2===void 0?void 0:_res$data2.is_in_cart){push(\"/records/unregistered/\".concat(organization,\"?\").concat(URL_KEYS.SPECIALIST_ID,\"=\").concat(specId));}else{var params={org_slug_name:organization,data:{offering_id:offering_id,responsible_id:specId}};setButtonLoad(true);order.postOrgOrderCart(params).then(function(response){getOrgOrderCartsMount();if(response){push(\"/records/unregistered/\".concat(organization,\"?\").concat(URL_KEYS.SPECIALIST_ID,\"=\").concat(urlData[URL_KEYS.SPECIALIST_ID]));setButtonLoad(false);}});}};return{handleRequest:handleRequest,openModal:openModal,setOpenModal:setOpenModal,buttonLoad:buttonLoad};}","map":null,"metadata":{},"sourceType":"module"}