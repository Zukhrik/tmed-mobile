{"ast":null,"code":"import React from'react';import{Col,Row}from'antd';import Cookies from'js-cookie';import{useStore}from'effector-react';import{useTranslation}from'react-i18next';import{tokenMount}from'../../../Models/app';import{LogoutSvg}from'../../../Icons/Logout';import{usePushToCart}from'../../../Hooks/order';import{Avatar}from'../../../UIComponents/Avatar';import{Button}from'../../../UIComponents/Button';import{useHistory,useParams}from'react-router-dom';import{Text}from'../../../UIComponents/Typography/Text';import{Title}from'../../../UIComponents/Typography/Title';import{IconBox,SkeletonUI}from'../../../UIComponents/GlobalStyles';import{$accountModel,getCurrentAccount}from'../../../Models/account-model';import{AccountHeaderActionsWrapper,AccountInfoWrap,LangWrapper}from'../style';import{orgOfferingsListMount,resetOrgOfferingList}from'../../../Models/offerings-model';import{$orderModel,resetOrderCartList,resetOrgOrderCart}from'../../../Models/order-model';// const langData = [\n//     {name: 'russian', code: 'ru'},\n//     {name: 'uzbek', code: 'uz'}\n// ]\nexport var AccountHeaderInfoMat=function AccountHeaderInfoMat(_ref){var name=_ref.name,category=_ref.category,imgUrl=_ref.imgUrl,forceLoading=_ref.forceLoading;var _useTranslation=useTranslation(),t=_useTranslation.t;var _useParams=useParams(),organization=_useParams.organization;var _usePushToCart=usePushToCart(),handlePush=_usePushToCart.handlePush;var _useHistory=useHistory(),pathname=_useHistory.location.pathname;// const [lang, setLang] = useState('russian')\nvar _useStore=useStore($orderModel),result=_useStore.$orgOrderCartList.result;var _useStore2=useStore($accountModel),currentProfile=_useStore2.$profiles.currentProfile;var handleLogout=function handleLogout(){Cookies.remove('token');Cookies.remove('users');Cookies.remove('refresh-token');resetOrgOfferingList();getCurrentAccount();localStorage.removeItem('currentProfile');tokenMount(null);resetOrgOrderCart();resetOrderCartList();orgOfferingsListMount({organization:organization});};// const langMenu = () => (\n//     <Menu>\n//         {\n//             langData.map((item, idx) => (\n//                 <Menu.Item\n//                     key={`${idx + 1}`}\n//                     onClick={() => setLang(item.name)}\n//                 >\n//                     <Text level={4}>{`${t(item.name)}`}</Text>\n//                 </Menu.Item>\n//             ))\n//         }\n//     </Menu>\n// )\nreturn/*#__PURE__*/React.createElement(AccountInfoWrap,null,/*#__PURE__*/React.createElement(Row,{justify:\"space-between\"},/*#__PURE__*/React.createElement(Col,{span:24,className:\"padding\"},/*#__PURE__*/React.createElement(Row,{gutter:[12,0],justify:\"space-between\",align:\"middle\"},/*#__PURE__*/React.createElement(Col,null,forceLoading===2?/*#__PURE__*/React.createElement(Avatar,{imgUrl:imgUrl,shape:\"circle\",size:110}):/*#__PURE__*/React.createElement(SkeletonUI,{variant:\"circle\",width:110,height:110})),/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(AccountHeaderActionsWrapper,null,/*#__PURE__*/React.createElement(LangWrapper,null,currentProfile&&organization&&/*#__PURE__*/React.createElement(IconBox,{onClick:handleLogout},/*#__PURE__*/React.createElement(LogoutSvg,null))),result&&result[organization]&&result[organization].count>0&&pathname===\"/\".concat(organization,\"/offerings\")&&/*#__PURE__*/React.createElement(Button,{size:\"l\",variant:\"primary\",onClick:handlePush},\"\".concat(t('issue_now'),\": \").concat(result[organization].count)))))),/*#__PURE__*/React.createElement(Col,{span:24},forceLoading===2?/*#__PURE__*/React.createElement(Row,{gutter:[0,4],className:\"short-info-wrapper\"},/*#__PURE__*/React.createElement(Col,{span:24},/*#__PURE__*/React.createElement(Title,{level:2},name)),/*#__PURE__*/React.createElement(Col,{span:24},/*#__PURE__*/React.createElement(Text,{level:4},category))):/*#__PURE__*/React.createElement(Row,{style:{padding:'0 12px'},gutter:[0,4]},/*#__PURE__*/React.createElement(Col,{span:24,style:{height:37.7,display:'flex',alignItems:'center'}},/*#__PURE__*/React.createElement(SkeletonUI,{variant:\"rect\",width:\"100%\",height:12})),/*#__PURE__*/React.createElement(Col,{span:24,style:{height:25.14,display:'flex',alignItems:'center'}},/*#__PURE__*/React.createElement(SkeletonUI,{variant:\"rect\",width:\"100%\",height:12}))))));};","map":{"version":3,"sources":["/Users/zuhriddinkamilzanov/Desktop/tMed-mobile/src/Components/AccountComponents/UserPageHeader/account-header-info-mat.jsx"],"names":["React","Col","Row","Cookies","useStore","useTranslation","tokenMount","LogoutSvg","usePushToCart","Avatar","Button","useHistory","useParams","Text","Title","IconBox","SkeletonUI","$accountModel","getCurrentAccount","AccountHeaderActionsWrapper","AccountInfoWrap","LangWrapper","orgOfferingsListMount","resetOrgOfferingList","$orderModel","resetOrderCartList","resetOrgOrderCart","AccountHeaderInfoMat","name","category","imgUrl","forceLoading","t","organization","handlePush","pathname","location","result","$orgOrderCartList","currentProfile","$profiles","handleLogout","remove","localStorage","removeItem","count","padding","height","display","alignItems"],"mappings":"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","sourcesContent":["import React from 'react'\nimport {Col, Row} from 'antd'\nimport Cookies from 'js-cookie'\nimport {useStore} from 'effector-react'\nimport {useTranslation} from 'react-i18next'\nimport {tokenMount} from '../../../Models/app'\nimport {LogoutSvg} from '../../../Icons/Logout'\nimport {usePushToCart} from '../../../Hooks/order'\nimport {Avatar} from '../../../UIComponents/Avatar'\nimport {Button} from '../../../UIComponents/Button'\nimport {useHistory, useParams} from 'react-router-dom'\nimport {Text} from '../../../UIComponents/Typography/Text'\nimport {Title} from '../../../UIComponents/Typography/Title'\nimport {IconBox, SkeletonUI} from '../../../UIComponents/GlobalStyles'\nimport {$accountModel, getCurrentAccount} from '../../../Models/account-model'\nimport {AccountHeaderActionsWrapper, AccountInfoWrap, LangWrapper} from '../style'\nimport {orgOfferingsListMount, resetOrgOfferingList} from '../../../Models/offerings-model'\nimport {$orderModel, resetOrderCartList, resetOrgOrderCart} from '../../../Models/order-model'\n\n\n// const langData = [\n//     {name: 'russian', code: 'ru'},\n//     {name: 'uzbek', code: 'uz'}\n// ]\n\nexport const AccountHeaderInfoMat = ({name, category, imgUrl, forceLoading}) => {\n    const {t} = useTranslation()\n    const {organization} = useParams()\n    const {handlePush} = usePushToCart()\n    const {location: {pathname}} = useHistory()\n    // const [lang, setLang] = useState('russian')\n    const {$orgOrderCartList: {result}} = useStore($orderModel)\n    const {$profiles: {currentProfile}} = useStore($accountModel)\n    \n    \n    const handleLogout = () => {\n        Cookies.remove('token')\n        Cookies.remove('users')\n        Cookies.remove('refresh-token')\n        resetOrgOfferingList()\n        getCurrentAccount()\n        localStorage.removeItem('currentProfile')\n        tokenMount(null)\n        resetOrgOrderCart()\n        resetOrderCartList()\n        orgOfferingsListMount({organization: organization})\n    }\n    \n    // const langMenu = () => (\n    //     <Menu>\n    //         {\n    //             langData.map((item, idx) => (\n    //                 <Menu.Item\n    //                     key={`${idx + 1}`}\n    //                     onClick={() => setLang(item.name)}\n    //                 >\n    //                     <Text level={4}>{`${t(item.name)}`}</Text>\n    //                 </Menu.Item>\n    //             ))\n    //         }\n    //     </Menu>\n    // )\n    \n    \n    return (\n        <AccountInfoWrap>\n            <Row justify='space-between'>\n                <Col span={24} className='padding'>\n                    <Row gutter={[12, 0]} justify='space-between' align='middle'>\n                        <Col>\n                            {\n                                forceLoading === 2\n                                    ? <Avatar\n                                        imgUrl={imgUrl}\n                                        shape='circle'\n                                        size={110}\n                                    />\n                                    : <SkeletonUI\n                                        variant='circle'\n                                        width={110}\n                                        height={110}\n                                    />\n                            }\n                        </Col>\n                        <Col>\n                            <AccountHeaderActionsWrapper>\n                                <LangWrapper>\n                                    {/*<Dropdown overlay={langMenu} trigger={['click']}>*/}\n                                    {/*    <div className='lang-wrapper'>*/}\n                                    {/*        {`${t(lang)}`}*/}\n                                    {/*        <ArrowIosBottomSvg/>*/}\n                                    {/*    </div>*/}\n                                    {/*</Dropdown>*/}\n                                    {\n                                        currentProfile && organization &&\n                                        <IconBox onClick={handleLogout}>\n                                            <LogoutSvg/>\n                                        </IconBox>\n                                    }\n                                </LangWrapper>\n                                {\n                                    result && result[organization] && result[organization].count > 0 &&\n                                    pathname === `/${organization}/offerings` && (\n                                        <Button\n                                            size='l'\n                                            variant='primary'\n                                            onClick={handlePush}\n                                        >\n                                            {`${t('issue_now')}: ${result[organization].count}`}\n                                        </Button>\n                                    )\n                                }\n                            </AccountHeaderActionsWrapper>\n                        </Col>\n                    </Row>\n                </Col>\n                <Col span={24}>\n                    {\n                        forceLoading === 2\n                            ? <Row\n                                gutter={[0, 4]}\n                                className='short-info-wrapper'\n                            >\n                                <Col span={24}>\n                                    <Title level={2}>\n                                        {name}\n                                    </Title>\n                                </Col>\n                                <Col span={24}>\n                                    <Text level={4}>\n                                        {category}\n                                    </Text>\n                                </Col>\n                            </Row>\n                            : <Row style={{padding: '0 12px'}} gutter={[0, 4]}>\n                                <Col\n                                    span={24}\n                                    style={{height: 37.7, display: 'flex', alignItems: 'center'}}\n                                >\n                                    <SkeletonUI\n                                        variant='rect'\n                                        width='100%'\n                                        height={12}\n                                    />\n                                </Col>\n                                <Col span={24} style={{height: 25.14, display: 'flex', alignItems: 'center'}}>\n                                    <SkeletonUI\n                                        variant='rect'\n                                        width='100%'\n                                        height={12}\n                                    />\n                                </Col>\n                            </Row>\n                    }\n                </Col>\n            </Row>\n        </AccountInfoWrap>\n    )\n}"]},"metadata":{},"sourceType":"module"}