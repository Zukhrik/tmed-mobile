{"ast":null,"code":"import React,{useCallback}from'react';import{Col,Row}from'antd';import{useStore}from'effector-react';import{OfferGroupWrapper}from'../style';import{useHistory}from'react-router-dom';import{useTranslation}from'react-i18next';import{URL_KEYS}from'../../../../Constants';import{$appModel}from'../../../../Models/app';import{INFO_MAT}from'../../../../Constants/app';import{useUrlParams}from'../../../../Hooks/app';import{useScrollLeft}from'../../../../Hooks/org';import{OfferingGroupItem}from'../OfferingGroupItem';import{Text}from'../../../../UIComponents/Typography/Text';import{generateSkeleton}from'../../../../utils/skeleton-utils';import{$offeringsModel}from'../../../../Models/offerings-model';import{OfferingGroupItemSkeleton}from'../OfferingGroupItemSkeleton';var skeleton=generateSkeleton(20);export var OrgOfferingGroup=function OrgOfferingGroup(){var _useTranslation=useTranslation(),t=_useTranslation.t;var _useUrlParams=useUrlParams(),urlData=_useUrlParams.urlData;var _useStore=useStore($appModel),$device=_useStore.$device;var _useScrollLeft=useScrollLeft(),handleScroll=_useScrollLeft.handleScroll;var _useHistory=useHistory(),pathname=_useHistory.location.pathname;var groupId=urlData[URL_KEYS.OFFERING_GROUP_ID];var _useStore2=useStore($offeringsModel),_useStore2$$offeringG=_useStore2.$offeringGroupList,data=_useStore2$$offeringG.data,forceLoading=_useStore2$$offeringG.forceLoading;var generateUrl=useCallback(function(id){var url=[];if(urlData[URL_KEYS.SPECIALIST_CATEGORY_ID]){url.push(\"\".concat(URL_KEYS.SPECIALIST_CATEGORY_ID,\"=\").concat(urlData[URL_KEYS.SPECIALIST_CATEGORY_ID]));}if(urlData[URL_KEYS.SPECIALIST_ID]){url.push(\"\".concat(URL_KEYS.SPECIALIST_ID,\"=\").concat(urlData[URL_KEYS.SPECIALIST_ID]));}if(!groupId||groupId!==String(id)){url.push(\"\".concat(URL_KEYS.OFFERING_GROUP_ID,\"=\").concat(id));}return{pathname:pathname,search:url.join('&')};},[pathname,groupId,urlData]);return/*#__PURE__*/React.createElement(React.Fragment,null,$device&&$device===INFO_MAT&&/*#__PURE__*/React.createElement(Text,{className:\"group-text-style\",style:{fontSize:18,color:'var(--grey-dwed)',padding:'0 12px',marginBottom:8}},t('chapter')),/*#__PURE__*/React.createElement(OfferGroupWrapper,{onScroll:function onScroll(e){return handleScroll(e);}},/*#__PURE__*/React.createElement(Row,{wrap:false,gutter:$device&&$device!==INFO_MAT?[20,0]:[28,0]},forceLoading===2?data.map(function(item){return/*#__PURE__*/React.createElement(Col,{key:item.id},/*#__PURE__*/React.createElement(OfferingGroupItem,{size:$device&&$device===INFO_MAT?110:75,shape:\"square\",name:item.name,imgUrl:item.image,path:generateUrl(item.id),isActive:function isActive(){return groupId&&groupId===String(item.id);}}));}):skeleton.map(function(item,idx){return/*#__PURE__*/React.createElement(Col,{key:\"\".concat(idx+1)},/*#__PURE__*/React.createElement(OfferingGroupItemSkeleton,null));}))));};","map":{"version":3,"sources":["/Users/zuhriddinkamilzanov/Desktop/tMed-mobile/src/Components/Offering/OrgOfferings/OrgOfferingGroup/index.jsx"],"names":["React","useCallback","Col","Row","useStore","OfferGroupWrapper","useHistory","useTranslation","URL_KEYS","$appModel","INFO_MAT","useUrlParams","useScrollLeft","OfferingGroupItem","Text","generateSkeleton","$offeringsModel","OfferingGroupItemSkeleton","skeleton","OrgOfferingGroup","t","urlData","$device","handleScroll","pathname","location","groupId","OFFERING_GROUP_ID","$offeringGroupList","data","forceLoading","generateUrl","id","url","SPECIALIST_CATEGORY_ID","push","SPECIALIST_ID","String","search","join","fontSize","color","padding","marginBottom","e","map","item","name","image","idx"],"mappings":"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","sourcesContent":["import React, {useCallback} from 'react'\r\nimport {Col, Row} from 'antd'\r\nimport {useStore} from 'effector-react'\r\nimport {OfferGroupWrapper} from '../style'\r\nimport {useHistory} from 'react-router-dom'\r\nimport {useTranslation} from 'react-i18next'\r\nimport {URL_KEYS} from '../../../../Constants'\r\nimport {$appModel} from '../../../../Models/app'\r\nimport {INFO_MAT} from '../../../../Constants/app'\r\nimport {useUrlParams} from '../../../../Hooks/app'\r\nimport {useScrollLeft} from '../../../../Hooks/org'\r\nimport {OfferingGroupItem} from '../OfferingGroupItem'\r\nimport {Text} from '../../../../UIComponents/Typography/Text'\r\nimport {generateSkeleton} from '../../../../utils/skeleton-utils'\r\nimport {$offeringsModel} from '../../../../Models/offerings-model'\r\nimport {OfferingGroupItemSkeleton} from '../OfferingGroupItemSkeleton'\r\n\r\n\r\nconst skeleton = generateSkeleton(20)\r\nexport const OrgOfferingGroup = () => {\r\n    const {t} = useTranslation()\r\n    const {urlData} = useUrlParams()\r\n    const {$device} = useStore($appModel)\r\n    const {handleScroll} = useScrollLeft()\r\n    const {location: {pathname}} = useHistory()\r\n    const groupId = urlData[URL_KEYS.OFFERING_GROUP_ID]\r\n    const {$offeringGroupList: {data, forceLoading}} = useStore($offeringsModel)\r\n    \r\n    const generateUrl = useCallback((id) => {\r\n        const url = []\r\n        if (urlData[URL_KEYS.SPECIALIST_CATEGORY_ID]) {\r\n            url.push(`${URL_KEYS.SPECIALIST_CATEGORY_ID}=${urlData[URL_KEYS.SPECIALIST_CATEGORY_ID]}`)\r\n        }\r\n        \r\n        if (urlData[URL_KEYS.SPECIALIST_ID]) {\r\n            url.push(`${URL_KEYS.SPECIALIST_ID}=${urlData[URL_KEYS.SPECIALIST_ID]}`)\r\n        }\r\n        \r\n        if (!groupId || groupId !== String(id)) {\r\n            url.push(`${URL_KEYS.OFFERING_GROUP_ID}=${id}`)\r\n        }\r\n        \r\n        return {\r\n            pathname,\r\n            search: url.join('&')\r\n        }\r\n    }, [pathname, groupId, urlData])\r\n    \r\n    \r\n    return (\r\n        <>\r\n            {\r\n                $device && $device === INFO_MAT &&\r\n                <Text\r\n                    className='group-text-style'\r\n                    style={{\r\n                        fontSize: 18,\r\n                        color: 'var(--grey-dwed)',\r\n                        padding: '0 12px',\r\n                        marginBottom: 8\r\n                    }}\r\n                >\r\n                    {t('chapter')}\r\n                </Text>\r\n            }\r\n            <OfferGroupWrapper onScroll={(e) => handleScroll(e)}>\r\n                <Row wrap={false} gutter={$device && $device !== INFO_MAT ? [20, 0] : [28, 0]}>\r\n                    {\r\n                        forceLoading === 2\r\n                            ? (\r\n                                data.map((item) => (\r\n                                    <Col key={item.id}>\r\n                                        <OfferingGroupItem\r\n                                            size={$device && $device === INFO_MAT ? 110 : 75}\r\n                                            shape='square'\r\n                                            name={item.name}\r\n                                            imgUrl={item.image}\r\n                                            path={generateUrl(item.id)}\r\n                                            isActive={() => groupId && groupId === String(item.id)}\r\n                                        />\r\n                                    </Col>\r\n                                ))\r\n                            )\r\n                            : (\r\n                                skeleton.map((item, idx) => (\r\n                                    <Col\r\n                                        key={`${idx + 1}`}\r\n                                    >\r\n                                        <OfferingGroupItemSkeleton/>\r\n                                    </Col>\r\n                                ))\r\n                            )\r\n                    }\r\n                </Row>\r\n            </OfferGroupWrapper>\r\n        </>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}