{"ast":null,"code":"import _objectSpread from\"/Users/zuhriddinkamilzanov/Desktop/tMed-mobile/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React,{useCallback}from'react';import{Col,Row}from'antd';import{useStore}from'effector-react';import{useParams}from'react-router-dom';import{URL_KEYS}from'../../../../Constants';import{$appModel}from'../../../../Models/app';import{INFO_MAT}from'../../../../Constants/app';import{useUrlGenerate}from'../../../../Hooks/org';import{DataWrapper,SpecialistNavLink}from'../style';import{ShortCard,ShortCardSkeleton}from'../../../Cards';import{truncateString}from'../../../../utils/stringUtils';import{generateSkeleton}from'../../../../utils/skeleton-utils';import{$orgModel,orgSpecialistsMount}from'../../../../Models/org-model';var skeleton=generateSkeleton(10);var initialParams={limit:20,offset:0};export var OrgSpecialistList=function OrgSpecialistList(){var _useParams=useParams(),organization=_useParams.organization;var _useStore=useStore($appModel),$device=_useStore.$device;var _useUrlGenerate=useUrlGenerate(),getActive=_useUrlGenerate.getActive,generateUrl=_useUrlGenerate.generateUrl;var _useStore2=useStore($orgModel),_useStore2$$orgSpecia=_useStore2.$orgSpecialistsList,data=_useStore2$$orgSpecia.data,forceLoading=_useStore2$$orgSpecia.forceLoading,result=_useStore2$$orgSpecia.result,loading=_useStore2$$orgSpecia.loading;var handleScroll=useCallback(function(e){if(e.target.scrollLeft+e.target.offsetWidth>=e.target.scrollWidth&&!loading&&!!result.next){if(result.next){var _data={organization:organization,params:_objectSpread(_objectSpread({},initialParams),{},{offset:result.nextOffset})};orgSpecialistsMount(_data);}}},[loading,result,organization]);return/*#__PURE__*/React.createElement(DataWrapper,{onScroll:function onScroll(e){return handleScroll(e);}},forceLoading===2&&data.length>0&&data.map(function(item,idx){return/*#__PURE__*/React.createElement(SpecialistNavLink,{key:\"\".concat(idx+1),to:generateUrl(URL_KEYS.SPECIALIST_ID,item.id),isActive:function isActive(){return getActive(URL_KEYS.SPECIALIST_ID,item.id);}},/*#__PURE__*/React.createElement(ShortCard,{textLineClamp:2,direction:\"vertical\",imgUrl:item.user.avatar,name:item.user.full_name,text:truncateString(item.job.name,22),nameSize:$device&&$device===INFO_MAT?3:5,textSize:$device&&$device===INFO_MAT?4:'',imgSize:$device&&$device===INFO_MAT?80:60,active:getActive(URL_KEYS.SPECIALIST_ID,item.id)}));}),$device&&$device===INFO_MAT&&(forceLoading===1||forceLoading===0)&&/*#__PURE__*/React.createElement(Row,{wrap:false,gutter:[24,0]},skeleton.map(function(item,idx){return/*#__PURE__*/React.createElement(Col,{key:\"\".concat(idx+1)},/*#__PURE__*/React.createElement(ShortCardSkeleton,{size:80,nameSize:24,textSize:32,direction:\"vertical\"}));})));};","map":null,"metadata":{},"sourceType":"module"}