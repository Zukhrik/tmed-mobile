{"ast":null,"code":"import React from'react';import{Col,Row}from'antd';import{useStore}from'effector-react';import{$orderModel}from'../../../Models/order-model';import{useOrder,useOrderIdOffers,useOrderOfferIdConclusions}from'../../../Hooks/order';import{RootContent}from'../../../UIComponents/GlobalStyles';import{FixedHeader}from'../../../Components/FixedHeader';import{useParams}from'react-router-dom';import{useGoBack}from'../../../Hooks/app';import{Avatar}from'../../../UIComponents/Avatar';import{Text}from'../../../UIComponents/Typography/Text';import{useTranslation}from'react-i18next';import{$accountModel}from'../../../Models/account-model';import moment from'moment';import{AccountRecordOfferIdSkeleton}from'./account-record-offer-id-skeleton';export var AccountRecordOfferId=function AccountRecordOfferId(){var _detail$order_id,_detail$order_id2,_detail$order_id2$res,_currentOffer$offerin,_currentOffer$offerin2,_currentOffer$offerin3,_currentProfile$curre;useOrder();useOrderIdOffers();useOrderOfferIdConclusions();var _useTranslation=useTranslation(),t=_useTranslation.t;var _useParams=useParams(),order_id=_useParams.order_id,offer_id=_useParams.offer_id,username=_useParams.username;var _useStore=useStore($accountModel),currentProfile=_useStore.$profiles.currentProfile;var _useStore2=useStore($orderModel),_useStore2$$orderOffe=_useStore2.$orderOffersConclusions,conclusion=_useStore2$$orderOffe.data,conclusionsForceLoading=_useStore2$$orderOffe.forceLoading,_useStore2$$orderDeta=_useStore2.$orderDetail,detail=_useStore2$$orderDeta.data,detailForceLoading=_useStore2$$orderDeta.forceLoading,_useStore2$$orderIdOf=_useStore2.$orderIdOffers,offerList=_useStore2$$orderIdOf.data,orderIdOffersForceLoading=_useStore2$$orderIdOf.forceLoading;var meetDate=detail&&((_detail$order_id=detail[order_id])===null||_detail$order_id===void 0?void 0:_detail$order_id.meet_date);var responsible=detail&&((_detail$order_id2=detail[order_id])===null||_detail$order_id2===void 0?void 0:(_detail$order_id2$res=_detail$order_id2.responsible)===null||_detail$order_id2$res===void 0?void 0:_detail$order_id2$res.user);var currentOffer=offerList&&offerList.find(function(item){return item.id===Number(offer_id);});var _useGoBack=useGoBack({pathname:\"/@\".concat(username,\"/records/\").concat(order_id)}),goBack=_useGoBack.goBack;return/*#__PURE__*/React.createElement(RootContent,{height:\"100vh\",paddingTop:62},/*#__PURE__*/React.createElement(FixedHeader,{title:currentOffer===null||currentOffer===void 0?void 0:(_currentOffer$offerin=currentOffer.offering)===null||_currentOffer$offerin===void 0?void 0:_currentOffer$offerin.name,goBack:goBack}),orderIdOffersForceLoading&&conclusionsForceLoading&&detailForceLoading===2?/*#__PURE__*/React.createElement(Row,{gutter:[0,12],className:\"container\",style:{paddingBottom:65}},currentOffer&&/*#__PURE__*/React.createElement(Col,{span:24},/*#__PURE__*/React.createElement(Row,{wrap:false,gutter:[8,0],align:\"middle\"},/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(Avatar,{size:48,shape:\"square\",imgUrl:currentOffer===null||currentOffer===void 0?void 0:(_currentOffer$offerin2=currentOffer.offering)===null||_currentOffer$offerin2===void 0?void 0:_currentOffer$offerin2.image})),/*#__PURE__*/React.createElement(Col,{flex:1},/*#__PURE__*/React.createElement(Text,{level:5},currentOffer===null||currentOffer===void 0?void 0:(_currentOffer$offerin3=currentOffer.offering)===null||_currentOffer$offerin3===void 0?void 0:_currentOffer$offerin3.name)))),conclusion&&/*#__PURE__*/React.createElement(Col,{span:24,style:{display:'flex',flexDirection:'column',borderBottom:'1px solid #f2f2f2',overflowX:'auto',overflowY:'hidden'}},/*#__PURE__*/React.createElement(Text,{color:\"var(--grey-dwed)\",level:4},\"\".concat(t('conclusion'),\":\")),conclusion.map(function(item,idx){return/*#__PURE__*/React.createElement(\"div\",{key:\"\".concat(idx+1),className:\"jodit-wysiwyg\",dangerouslySetInnerHTML:{__html:item.conclusion}});})),/*#__PURE__*/React.createElement(Col,{span:24},/*#__PURE__*/React.createElement(Row,{wrap:false,justify:\"space-between\"},/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(Text,{color:\"var(--grey-dwed)\",level:4},\"\".concat(t('specialist'),\": \"))),/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(Text,{level:4},responsible===null||responsible===void 0?void 0:responsible.full_name)))),/*#__PURE__*/React.createElement(Col,{span:24},/*#__PURE__*/React.createElement(Row,{wrap:false,justify:\"space-between\"},/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(Text,{color:\"var(--grey-dwed)\",level:4},\"\".concat(t('cost'),\": \"))),currentOffer&&currentProfile&&/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(Text,{level:4},\"\".concat(currentOffer===null||currentOffer===void 0?void 0:currentOffer.cost,\" \").concat(currentProfile===null||currentProfile===void 0?void 0:(_currentProfile$curre=currentProfile.currency)===null||_currentProfile$curre===void 0?void 0:_currentProfile$curre.code))))),/*#__PURE__*/React.createElement(Col,{span:24},/*#__PURE__*/React.createElement(Row,{wrap:false,justify:\"space-between\"},/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(Text,{color:\"var(--grey-dwed)\",level:4},\"\".concat(t('date'),\": \"))),/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(Text,{level:4},meetDate&&moment(meetDate).format('HH:mm DD.MM.YYYY')))))):/*#__PURE__*/React.createElement(AccountRecordOfferIdSkeleton,null));};","map":null,"metadata":{},"sourceType":"module"}