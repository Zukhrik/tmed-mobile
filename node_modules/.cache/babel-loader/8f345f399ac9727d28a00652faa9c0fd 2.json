{"ast":null,"code":"import{$chatModel,allChatsMount,chatForceLoading}from'../../Models/chat-model';import{URL_VALUES}from'../../Constants';import{useStore}from'effector-react';import{useCallback}from'react';import{useHistory}from'react-router-dom';export function useChatCommon(){var _useStore=useStore($chatModel),userChatForceLoading=_useStore.$allChatList.userChatForceLoading;var _useHistory=useHistory(),push=_useHistory.push;var getChatList=useCallback(function(path){if(!userChatForceLoading){chatForceLoading(URL_VALUES.ALL_CHATS);var data={clear:true,params:{limit:10,offset:0,rtype:'user'}};allChatsMount(data);}if(path){push(path);}},[userChatForceLoading,push]);return{getChatList:getChatList};}","map":{"version":3,"sources":["/Users/zuhriddinkamilzanov/Desktop/tMed-mobile/src/Hooks/chat/use-chat-common.js"],"names":["$chatModel","allChatsMount","chatForceLoading","URL_VALUES","useStore","useCallback","useHistory","useChatCommon","userChatForceLoading","$allChatList","push","getChatList","path","ALL_CHATS","data","clear","params","limit","offset","rtype"],"mappings":"AAAA,OAAQA,UAAR,CAAoBC,aAApB,CAAmCC,gBAAnC,KAA0D,yBAA1D,CACA,OAAQC,UAAR,KAAyB,iBAAzB,CACA,OAAQC,QAAR,KAAuB,gBAAvB,CACA,OAAQC,WAAR,KAA0B,OAA1B,CACA,OAAQC,UAAR,KAAyB,kBAAzB,CAEA,MAAO,SAASC,CAAAA,aAAT,EAAyB,CAC5B,cAA+CH,QAAQ,CAACJ,UAAD,CAAvD,CAAsBQ,oBAAtB,WAAOC,YAAP,CAAsBD,oBAAtB,CACA,gBAAeF,UAAU,EAAzB,CAAOI,IAAP,aAAOA,IAAP,CAEA,GAAMC,CAAAA,WAAW,CAAGN,WAAW,CAAC,SAACO,IAAD,CAAU,CACtC,GAAI,CAACJ,oBAAL,CAA2B,CACvBN,gBAAgB,CAACC,UAAU,CAACU,SAAZ,CAAhB,CACA,GAAMC,CAAAA,IAAI,CAAG,CACTC,KAAK,CAAE,IADE,CAETC,MAAM,CAAE,CACJC,KAAK,CAAE,EADH,CAEJC,MAAM,CAAE,CAFJ,CAGJC,KAAK,CAAE,MAHH,CAFC,CAAb,CAQAlB,aAAa,CAACa,IAAD,CAAb,CACH,CAED,GAAIF,IAAJ,CAAU,CACNF,IAAI,CAACE,IAAD,CAAJ,CACH,CACJ,CAjB8B,CAiB5B,CAACJ,oBAAD,CAAuBE,IAAvB,CAjB4B,CAA/B,CAmBA,MAAO,CACHC,WAAW,CAAXA,WADG,CAAP,CAGH","sourcesContent":["import {$chatModel, allChatsMount, chatForceLoading} from '../../Models/chat-model'\r\nimport {URL_VALUES} from '../../Constants'\r\nimport {useStore} from 'effector-react'\r\nimport {useCallback} from 'react'\r\nimport {useHistory} from 'react-router-dom'\r\n\r\nexport function useChatCommon() {\r\n    const {$allChatList: {userChatForceLoading}} = useStore($chatModel)\r\n    const {push} = useHistory()\r\n\r\n    const getChatList = useCallback((path) => {\r\n        if (!userChatForceLoading) {\r\n            chatForceLoading(URL_VALUES.ALL_CHATS)\r\n            const data = {\r\n                clear: true,\r\n                params: {\r\n                    limit: 10,\r\n                    offset: 0,\r\n                    rtype: 'user'\r\n                }\r\n            }\r\n            allChatsMount(data)\r\n        }\r\n\r\n        if (path) {\r\n            push(path)\r\n        }\r\n    }, [userChatForceLoading, push])\r\n\r\n    return {\r\n        getChatList\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}