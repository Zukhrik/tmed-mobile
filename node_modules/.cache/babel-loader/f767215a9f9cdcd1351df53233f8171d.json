{"ast":null,"code":"import React,{useCallback}from'react';import{OfferCard}from'../../Cards';import{CommonPost}from'./CommonPost';import{StreamPost}from'./StreamPost';import{useStore}from'effector-react';import{ActionPost}from'./ActionPost';import{OfferingPost}from'./OfferingPost';import{$postModel}from'../../../Models/post-model';import{truncateString}from'../../../utils/stringUtils';import{CardPostWrapper,HasOfferingsCardWrapper}from'../style';export var PostContent=function PostContent(_ref){var data=_ref.data,author=_ref.author;var _useStore=useStore($postModel),postData=_useStore.$postOfferings.data;var renderPostType=useCallback(function(){var stream_schedule=data.stream_schedule,medias=data.medias,text=data.text,has_offerings=data.has_offerings,action=data.action,repost=data.repost;if(action){if(action.key==='new_duty'){return/*#__PURE__*/React.createElement(ActionPost,{size1:170,size2:130,type:action.key,imgUrl1:data.author.avatar,imgUrl2:data.action.data.new_specialism.org.logo});}if(action.key==='new_avatar'){return/*#__PURE__*/React.createElement(ActionPost,{imgUrl1:data.action.data.old,size1:150,imgUrl2:data.action.data.new,size2:170,type:action.key});}}else{if(stream_schedule){return/*#__PURE__*/React.createElement(StreamPost,{data:stream_schedule,author:author});}if(has_offerings){return/*#__PURE__*/React.createElement(OfferingPost,{data:data});}if(repost){return/*#__PURE__*/React.createElement(CommonPost,{mediaData:repost.medias,repostText:text,post:repost.text});}else{return/*#__PURE__*/React.createElement(CommonPost,{mediaData:medias,post:text});}}},[data,author]);var offerings=data.has_offerings&&postData[data.id];return/*#__PURE__*/React.createElement(CardPostWrapper,null,renderPostType(),/*#__PURE__*/React.createElement(HasOfferingsCardWrapper,null,offerings&&offerings.length>0&&offerings.map(function(item,idx){return/*#__PURE__*/React.createElement(OfferCard,{key:\"\".concat(idx+1),imgUrl:item.offering.image,offerName:truncateString(item.offering.name,16),cost:item.offering.cost.toLocaleString('fi-Fi')});})));};","map":null,"metadata":{},"sourceType":"module"}