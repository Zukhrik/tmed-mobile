{"ast":null,"code":"import _objectSpread from\"/Users/zuhriddinkamilzanov/Desktop/tMed-mobile/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{useStore}from'effector-react';import{useCallback,useEffect}from'react';import{$tapeModel,allTapeMount,resetAllTapeWithTokenMount}from'../../Models/tape-model';var initialParams={limit:10,offset:0};export function useAllTape(){var _useStore=useStore($tapeModel),result=_useStore.$allTape.result;var loadMore=useCallback(function(){if(result.nextOffset){var data={params:_objectSpread(_objectSpread({},initialParams),{},{offset:result.nextOffset})};allTapeMount(data);}},[result.nextOffset]);useEffect(function(){resetAllTapeWithTokenMount();allTapeMount({params:initialParams});},[]);return{loadMore:loadMore};}","map":{"version":3,"sources":["/Users/zuhriddinkamilzanov/Desktop/tMed-mobile/src/Hooks/tape/use-all-tape.js"],"names":["useStore","useCallback","useEffect","$tapeModel","allTapeMount","resetAllTapeWithTokenMount","initialParams","limit","offset","useAllTape","result","$allTape","loadMore","nextOffset","data","params"],"mappings":"oKAAA,OAAQA,QAAR,KAAuB,gBAAvB,CACA,OAAQC,WAAR,CAAqBC,SAArB,KAAqC,OAArC,CACA,OAAQC,UAAR,CAAoBC,YAApB,CAAkCC,0BAAlC,KAAmE,yBAAnE,CAEA,GAAMC,CAAAA,aAAa,CAAG,CAClBC,KAAK,CAAE,EADW,CAElBC,MAAM,CAAE,CAFU,CAAtB,CAKA,MAAO,SAASC,CAAAA,UAAT,EAAsB,CACzB,cAA6BT,QAAQ,CAACG,UAAD,CAArC,CAAkBO,MAAlB,WAAOC,QAAP,CAAkBD,MAAlB,CAEA,GAAME,CAAAA,QAAQ,CAAGX,WAAW,CAAC,UAAM,CAC/B,GAAIS,MAAM,CAACG,UAAX,CAAuB,CACnB,GAAMC,CAAAA,IAAI,CAAG,CACTC,MAAM,gCACCT,aADD,MAEFE,MAAM,CAAEE,MAAM,CAACG,UAFb,EADG,CAAb,CAMAT,YAAY,CAACU,IAAD,CAAZ,CACH,CACJ,CAV2B,CAUzB,CAACJ,MAAM,CAACG,UAAR,CAVyB,CAA5B,CAYAX,SAAS,CAAC,UAAM,CACZG,0BAA0B,GAC1BD,YAAY,CAAC,CAACW,MAAM,CAAET,aAAT,CAAD,CAAZ,CACH,CAHQ,CAGN,EAHM,CAAT,CAKA,MAAO,CACHM,QAAQ,CAARA,QADG,CAAP,CAGH","sourcesContent":["import {useStore} from 'effector-react'\r\nimport {useCallback, useEffect} from 'react'\r\nimport {$tapeModel, allTapeMount, resetAllTapeWithTokenMount} from '../../Models/tape-model'\r\n\r\nconst initialParams = {\r\n    limit: 10,\r\n    offset: 0\r\n}\r\n\r\nexport function useAllTape() {\r\n    const {$allTape: {result}} = useStore($tapeModel)\r\n    \r\n    const loadMore = useCallback(() => {\r\n        if (result.nextOffset) {\r\n            const data = {\r\n                params: {\r\n                    ...initialParams,\r\n                    offset: result.nextOffset\r\n                }\r\n            }\r\n            allTapeMount(data)\r\n        }\r\n    }, [result.nextOffset])\r\n    \r\n    useEffect(() => {\r\n        resetAllTapeWithTokenMount()\r\n        allTapeMount({params: initialParams})\r\n    }, [])\r\n    \r\n    return {\r\n        loadMore\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}