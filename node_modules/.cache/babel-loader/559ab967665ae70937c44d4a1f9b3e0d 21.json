{"ast":null,"code":"import React from'react';import{Col,Row}from'antd';import{useStore}from'effector-react';import{useGoBack}from'../../../Hooks/app';import{useTranslation}from'react-i18next';import{useOrderList}from'../../../Hooks/org';import{useHistory,useParams}from'react-router-dom';import{$orderModel}from'../../../Models/order-model';import{FixedHeader}from'../../../Components/FixedHeader';import{RootContent}from'../../../UIComponents/GlobalStyles';import{generateSkeleton}from'../../../utils/skeleton-utils';import{AccountRecordsCard}from'../molecules/account-records-card';import moment from'moment';import{AccountRecordCardSkeleton}from'../molecules';var skeleton=generateSkeleton(10);export var AccountRecords=function AccountRecords(){useOrderList(5);var _useHistory=useHistory(),push=_useHistory.push;var _useTranslation=useTranslation(),t=_useTranslation.t;var _useParams=useParams(),username=_useParams.username;var _useStore=useStore($orderModel),_useStore$$orderList=_useStore.$orderList,data=_useStore$$orderList.data,forceLoading=_useStore$$orderList.forceLoading;var _useGoBack=useGoBack({pathname:\"/@\".concat(username)}),goBack=_useGoBack.goBack;var _handlePush=function handlePush(item){var responsible=item.responsible.id;var status=item.status;if(responsible&&status===5){push(\"/@\".concat(username,\"/records/\").concat(item.id));}};return/*#__PURE__*/React.createElement(RootContent,{height:\"100vh\",paddingTop:62},/*#__PURE__*/React.createElement(FixedHeader,{goBack:goBack,title:t('records')}),/*#__PURE__*/React.createElement(Row,{gutter:[0,12],className:\"container\",style:{paddingBottom:65}},forceLoading===2&&data?/*#__PURE__*/React.createElement(React.Fragment,null,data.map(function(item,idx){return/*#__PURE__*/React.createElement(Col,{span:24,key:\"\".concat(idx+1)},/*#__PURE__*/React.createElement(AccountRecordsCard,{meetTime:moment(item.meet_date).calendar(),imgUrl:item.responsible.org.logo,orgName:item.responsible.org.name,orgCat:item.responsible.user.main_cat.name,handlePush:function handlePush(){return _handlePush(item);}}));})):/*#__PURE__*/React.createElement(React.Fragment,null,skeleton.map(function(item,idx){return/*#__PURE__*/React.createElement(Col,{span:24,key:\"\".concat(idx+1)},/*#__PURE__*/React.createElement(AccountRecordCardSkeleton,null));}))));};","map":{"version":3,"sources":["/Users/zuhriddinkamilzanov/Desktop/tMed-mobile/src/Views/Account/organisms/account-records.jsx"],"names":["React","Col","Row","useStore","useGoBack","useTranslation","useOrderList","useHistory","useParams","$orderModel","FixedHeader","RootContent","generateSkeleton","AccountRecordsCard","moment","AccountRecordCardSkeleton","skeleton","AccountRecords","push","t","username","$orderList","data","forceLoading","pathname","goBack","handlePush","item","responsible","id","status","paddingBottom","map","idx","meet_date","calendar","org","logo","name","user","main_cat"],"mappings":"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","sourcesContent":["import React from 'react'\nimport {Col, Row} from 'antd'\nimport {useStore} from 'effector-react'\nimport {useGoBack} from '../../../Hooks/app'\nimport {useTranslation} from 'react-i18next'\nimport {useOrderList} from '../../../Hooks/org'\nimport {useHistory, useParams} from 'react-router-dom'\nimport {$orderModel} from '../../../Models/order-model'\nimport {FixedHeader} from '../../../Components/FixedHeader'\nimport {RootContent} from '../../../UIComponents/GlobalStyles'\nimport {generateSkeleton} from '../../../utils/skeleton-utils'\nimport {AccountRecordsCard} from '../molecules/account-records-card'\nimport moment from 'moment'\nimport {AccountRecordCardSkeleton} from '../molecules'\n\nconst skeleton = generateSkeleton(10)\nexport const AccountRecords = () => {\n    useOrderList(5)\n    const {push} = useHistory()\n    const {t} = useTranslation()\n    const {username} = useParams()\n    const {$orderList: {data, forceLoading}} = useStore($orderModel)\n    const {goBack} = useGoBack({pathname: `/@${username}`})\n    \n    const handlePush = (item) => {\n        const responsible = item.responsible.id\n        const status = item.status\n        \n        if (responsible && status === 5) {\n            push(`/@${username}/records/${item.id}`)\n        }\n    }\n    \n    return (\n        <RootContent\n            height='100vh'\n            paddingTop={62}\n        >\n            <FixedHeader\n                goBack={goBack}\n                title={t('records')}\n            />\n            <Row gutter={[0, 12]} className='container' style={{paddingBottom: 65}}>\n                {\n                    forceLoading === 2 && data\n                        ? (\n                            <>\n                                {\n                                    data.map((item, idx) => (\n                                        <Col\n                                            span={24}\n                                            key={`${idx + 1}`}\n                                        >\n                                            <AccountRecordsCard\n                                                meetTime={moment(item.meet_date).calendar()}\n                                                imgUrl={item.responsible.org.logo}\n                                                orgName={item.responsible.org.name}\n                                                orgCat={item.responsible.user.main_cat.name}\n                                                handlePush={() => handlePush(item)}\n                                            />\n                                        </Col>\n                                    ))\n                                }\n                            </>\n                        ) : (\n                            <>\n                                {\n                                    skeleton.map((item, idx) => (\n                                        <Col span={24} key={`${idx + 1}`}>\n                                            <AccountRecordCardSkeleton/>\n                                        </Col>\n                                    ))\n                                }\n                            </>\n                        )\n                }\n            </Row>\n        </RootContent>\n    )\n}"]},"metadata":{},"sourceType":"module"}