{"ast":null,"code":"import _objectSpread from\"/Users/zuhriddinkamilzanov/Desktop/tMed-mobile/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{useParams}from'react-router-dom';import{useCallback,useEffect}from'react';import{getOrgOrderCartsMount}from'../../Models/order-model';import{useStore}from'effector-react';import{$appModel}from'../../Models/app';import{$offeringsModel}from'../../Models/offerings-model';var initialParams={limit:10,offset:0};export function useOrgOrderList(){var _useParams=useParams(),organization=_useParams.organization;var _useStore=useStore($appModel),token=_useStore.$app.token;var _useStore2=useStore($offeringsModel),result=_useStore2.$offeringsList.result;var getList=useCallback(function(params){if(!!token){getOrgOrderCartsMount({clear:true,org_slug_name:organization,params:params});}},[organization,token]);var loadMore=useCallback(function(){if(result.nextOffset){var params=_objectSpread(_objectSpread({},initialParams),{},{offset:result.nextOffset});getList(params);}},[getList,result]);useEffect(function(){getList(initialParams);},[getList]);return{loadMore:loadMore};}","map":{"version":3,"sources":["/Users/zuhriddinkamilzanov/Desktop/tMed-mobile/src/Hooks/order/use-org-order-list.js"],"names":["useParams","useCallback","useEffect","getOrgOrderCartsMount","useStore","$appModel","$offeringsModel","initialParams","limit","offset","useOrgOrderList","organization","token","$app","result","$offeringsList","getList","params","clear","org_slug_name","loadMore","nextOffset"],"mappings":"oKAAA,OAAQA,SAAR,KAAwB,kBAAxB,CACA,OAAQC,WAAR,CAAqBC,SAArB,KAAqC,OAArC,CACA,OAAQC,qBAAR,KAAoC,0BAApC,CACA,OAAQC,QAAR,KAAuB,gBAAvB,CACA,OAAQC,SAAR,KAAwB,kBAAxB,CACA,OAAQC,eAAR,KAA8B,8BAA9B,CAEA,GAAMC,CAAAA,aAAa,CAAG,CAClBC,KAAK,CAAE,EADW,CAElBC,MAAM,CAAE,CAFU,CAAtB,CAKA,MAAO,SAASC,CAAAA,eAAT,EAA2B,CAC9B,eAAuBV,SAAS,EAAhC,CAAOW,YAAP,YAAOA,YAAP,CACA,cAAwBP,QAAQ,CAACC,SAAD,CAAhC,CAAcO,KAAd,WAAOC,IAAP,CAAcD,KAAd,CACA,eAAmCR,QAAQ,CAACE,eAAD,CAA3C,CAAwBQ,MAAxB,YAAOC,cAAP,CAAwBD,MAAxB,CAEA,GAAME,CAAAA,OAAO,CAAGf,WAAW,CAAC,SAACgB,MAAD,CAAY,CACpC,GAAI,CAAC,CAACL,KAAN,CAAa,CACTT,qBAAqB,CAAC,CAACe,KAAK,CAAE,IAAR,CAAcC,aAAa,CAAER,YAA7B,CAA2CM,MAAM,CAANA,MAA3C,CAAD,CAArB,CACH,CACJ,CAJ0B,CAIxB,CAACN,YAAD,CAAeC,KAAf,CAJwB,CAA3B,CAMA,GAAMQ,CAAAA,QAAQ,CAAGnB,WAAW,CAAC,UAAM,CAC/B,GAAIa,MAAM,CAACO,UAAX,CAAuB,CACnB,GAAMJ,CAAAA,MAAM,gCACLV,aADK,MAERE,MAAM,CAAEK,MAAM,CAACO,UAFP,EAAZ,CAIAL,OAAO,CAACC,MAAD,CAAP,CACH,CACJ,CAR2B,CAQzB,CAACD,OAAD,CAAUF,MAAV,CARyB,CAA5B,CAUAZ,SAAS,CAAC,UAAM,CACZc,OAAO,CAACT,aAAD,CAAP,CACH,CAFQ,CAEN,CAACS,OAAD,CAFM,CAAT,CAIA,MAAO,CAACI,QAAQ,CAARA,QAAD,CAAP,CACH","sourcesContent":["import {useParams} from 'react-router-dom'\nimport {useCallback, useEffect} from 'react'\nimport {getOrgOrderCartsMount} from '../../Models/order-model'\nimport {useStore} from 'effector-react'\nimport {$appModel} from '../../Models/app'\nimport {$offeringsModel} from '../../Models/offerings-model'\n\nconst initialParams = {\n    limit: 10,\n    offset: 0\n}\n\nexport function useOrgOrderList() {\n    const {organization} = useParams()\n    const {$app: {token}} = useStore($appModel)\n    const {$offeringsList: {result}} = useStore($offeringsModel)\n    \n    const getList = useCallback((params) => {\n        if (!!token) {\n            getOrgOrderCartsMount({clear: true, org_slug_name: organization, params})\n        }\n    }, [organization, token])\n    \n    const loadMore = useCallback(() => {\n        if (result.nextOffset) {\n            const params = {\n                ...initialParams,\n                offset: result.nextOffset\n            }\n            getList(params)\n        }\n    }, [getList, result])\n    \n    useEffect(() => {\n        getList(initialParams)\n    }, [getList])\n    \n    return {loadMore}\n}"]},"metadata":{},"sourceType":"module"}