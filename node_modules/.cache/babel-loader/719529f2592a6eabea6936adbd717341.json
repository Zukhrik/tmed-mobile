{"ast":null,"code":"import { useCallback, useEffect } from 'react';\nimport { $userModel, recommendUsersMount } from '../../Models/user-model';\nimport { useStore } from 'effector-react';\nconst initialParams = {\n  limit: 10,\n  offset: 0\n};\nexport function useRecommendUsers() {\n  const {\n    $recommendUsers: {\n      result\n    }\n  } = useStore($userModel);\n  const loadMore = useCallback(() => {\n    if (result.nextOffset) {\n      const params = { ...initialParams,\n        offset: result.nextOffset\n      };\n      recommendUsersMount(params);\n    }\n  }, [result]);\n  useEffect(() => {\n    const params = {\n      clear: true,\n      params: initialParams\n    };\n    recommendUsersMount(params);\n  }, []);\n  return {\n    loadMore\n  };\n}","map":{"version":3,"sources":["/Users/zuhriddinkamilzanov/Desktop/tMed-mobile/src/Hooks/user/use-recommend-users.js"],"names":["useCallback","useEffect","$userModel","recommendUsersMount","useStore","initialParams","limit","offset","useRecommendUsers","$recommendUsers","result","loadMore","nextOffset","params","clear"],"mappings":"AAAA,SAAQA,WAAR,EAAqBC,SAArB,QAAqC,OAArC;AACA,SAAQC,UAAR,EAAoBC,mBAApB,QAA8C,yBAA9C;AACA,SAAQC,QAAR,QAAuB,gBAAvB;AAEA,MAAMC,aAAa,GAAG;AAClBC,EAAAA,KAAK,EAAE,EADW;AAElBC,EAAAA,MAAM,EAAE;AAFU,CAAtB;AAKA,OAAO,SAASC,iBAAT,GAA6B;AAChC,QAAM;AAACC,IAAAA,eAAe,EAAE;AAACC,MAAAA;AAAD;AAAlB,MAA8BN,QAAQ,CAACF,UAAD,CAA5C;AAEA,QAAMS,QAAQ,GAAGX,WAAW,CAAC,MAAM;AAC/B,QAAIU,MAAM,CAACE,UAAX,EAAuB;AACnB,YAAMC,MAAM,GAAG,EACX,GAAGR,aADQ;AAEXE,QAAAA,MAAM,EAAEG,MAAM,CAACE;AAFJ,OAAf;AAIAT,MAAAA,mBAAmB,CAACU,MAAD,CAAnB;AACH;AACJ,GAR2B,EAQzB,CAACH,MAAD,CARyB,CAA5B;AAUAT,EAAAA,SAAS,CAAC,MAAM;AACZ,UAAMY,MAAM,GAAG;AACXC,MAAAA,KAAK,EAAE,IADI;AAEXD,MAAAA,MAAM,EAAER;AAFG,KAAf;AAIAF,IAAAA,mBAAmB,CAACU,MAAD,CAAnB;AACH,GANQ,EAMN,EANM,CAAT;AAQA,SAAO;AAACF,IAAAA;AAAD,GAAP;AACH","sourcesContent":["import {useCallback, useEffect} from 'react'\nimport {$userModel, recommendUsersMount} from '../../Models/user-model'\nimport {useStore} from 'effector-react'\n\nconst initialParams = {\n    limit: 10,\n    offset: 0\n}\n\nexport function useRecommendUsers() {\n    const {$recommendUsers: {result}} = useStore($userModel)\n    \n    const loadMore = useCallback(() => {\n        if (result.nextOffset) {\n            const params = {\n                ...initialParams,\n                offset: result.nextOffset\n            }\n            recommendUsersMount(params)\n        }\n    }, [result])\n    \n    useEffect(() => {\n        const params = {\n            clear: true,\n            params: initialParams\n        }\n        recommendUsersMount(params)\n    }, [])\n    \n    return {loadMore}\n}"]},"metadata":{},"sourceType":"module"}