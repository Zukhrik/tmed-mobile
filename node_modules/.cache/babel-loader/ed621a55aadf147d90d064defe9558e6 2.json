{"ast":null,"code":"import React from'react';import moment from'moment';import{Col,Row}from'antd';import{useStore}from'effector-react';import{useGoBack}from'../../../Hooks/app';import{useTranslation}from'react-i18next';import{AccountRecordCardSkeleton}from'../molecules';import{useHistory,useParams}from'react-router-dom';import{$orderModel}from'../../../Models/order-model';import{FixedHeader}from'../../../Components/FixedHeader';import{RootContent}from'../../../UIComponents/GlobalStyles';import{generateSkeleton}from'../../../utils/skeleton-utils';import{AccountRecordsCard}from'../molecules/account-records-card';import{$appModel}from'../../../Models/app';import{useOrderList}from'../../../Hooks/order';var skeleton=generateSkeleton(10);export var AccountRecords=function AccountRecords(){useOrderList(5);var _useHistory=useHistory(),push=_useHistory.push;var _useTranslation=useTranslation(),t=_useTranslation.t;var _useParams=useParams(),username=_useParams.username;var _useStore=useStore($appModel),saveURL=_useStore.$app.saveURL;var _useStore2=useStore($orderModel),_useStore2$$orderList=_useStore2.$orderList,data=_useStore2$$orderList.data,forceLoading=_useStore2$$orderList.forceLoading;var _useGoBack=useGoBack({pathname:saveURL?saveURL:\"/@\".concat(username)}),goBack=_useGoBack.goBack;var _handlePush=function handlePush(item){var responsible=item.responsible.id;var status=item.status;if(responsible&&status===5){push(\"/@\".concat(username,\"/records/\").concat(item.id));}};return/*#__PURE__*/React.createElement(RootContent,{height:\"100vh\",paddingTop:62},/*#__PURE__*/React.createElement(FixedHeader,{goBack:goBack,title:t('records')}),/*#__PURE__*/React.createElement(Row,{gutter:[0,12],className:\"container\",style:{paddingBottom:65}},forceLoading===2&&data?/*#__PURE__*/React.createElement(React.Fragment,null,data.map(function(item,idx){return/*#__PURE__*/React.createElement(Col,{span:24,key:\"\".concat(idx+1)},/*#__PURE__*/React.createElement(AccountRecordsCard,{meetTime:item.meet_date?moment(item.meet_date).calendar():'',imgUrl:item.responsible.org.logo,orgName:\"\".concat(item.responsible.user.full_name.split(' ')[0],\" - \").concat(item.responsible.user.main_cat.name),orgCat:item.responsible.org.name,handlePush:function handlePush(){return _handlePush(item);}}));})):/*#__PURE__*/React.createElement(React.Fragment,null,skeleton.map(function(item,idx){return/*#__PURE__*/React.createElement(Col,{span:24,key:\"\".concat(idx+1)},/*#__PURE__*/React.createElement(AccountRecordCardSkeleton,null));}))));};","map":{"version":3,"sources":["/Users/zuhriddinkamilzanov/Desktop/tMed-mobile/src/Views/Account/organisms/account-records.jsx"],"names":["React","moment","Col","Row","useStore","useGoBack","useTranslation","AccountRecordCardSkeleton","useHistory","useParams","$orderModel","FixedHeader","RootContent","generateSkeleton","AccountRecordsCard","$appModel","useOrderList","skeleton","AccountRecords","push","t","username","saveURL","$app","$orderList","data","forceLoading","pathname","goBack","handlePush","item","responsible","id","status","paddingBottom","map","idx","meet_date","calendar","org","logo","user","full_name","split","main_cat","name"],"mappings":"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","sourcesContent":["import React from 'react'\nimport moment from 'moment'\nimport {Col, Row} from 'antd'\nimport {useStore} from 'effector-react'\nimport {useGoBack} from '../../../Hooks/app'\nimport {useTranslation} from 'react-i18next'\nimport {AccountRecordCardSkeleton} from '../molecules'\nimport {useHistory, useParams} from 'react-router-dom'\nimport {$orderModel} from '../../../Models/order-model'\nimport {FixedHeader} from '../../../Components/FixedHeader'\nimport {RootContent} from '../../../UIComponents/GlobalStyles'\nimport {generateSkeleton} from '../../../utils/skeleton-utils'\nimport {AccountRecordsCard} from '../molecules/account-records-card'\nimport {$appModel} from '../../../Models/app'\nimport {useOrderList} from '../../../Hooks/order'\n\n\nconst skeleton = generateSkeleton(10)\nexport const AccountRecords = () => {\n    useOrderList(5)\n    const {push} = useHistory()\n    const {t} = useTranslation()\n    const {username} = useParams()\n    const {$app: {saveURL}} = useStore($appModel)\n    const {$orderList: {data, forceLoading}} = useStore($orderModel)\n    const {goBack} = useGoBack({pathname: saveURL ? saveURL : `/@${username}`})\n    \n    const handlePush = (item) => {\n        const responsible = item.responsible.id\n        const status = item.status\n        \n        if (responsible && status === 5) {\n            push(`/@${username}/records/${item.id}`)\n        }\n    }\n    \n    return (\n        <RootContent\n            height='100vh'\n            paddingTop={62}\n        >\n            <FixedHeader\n                goBack={goBack}\n                title={t('records')}\n            />\n            <Row gutter={[0, 12]} className='container' style={{paddingBottom: 65}}>\n                {\n                    forceLoading === 2 && data\n                        ? (\n                            <>\n                                {\n                                    data.map((item, idx) => (\n                                        <Col\n                                            span={24}\n                                            key={`${idx + 1}`}\n                                        >\n                                            <AccountRecordsCard\n                                                meetTime={item.meet_date ? moment(item.meet_date).calendar() : ''}\n                                                imgUrl={item.responsible.org.logo}\n                                                orgName={`${item.responsible.user.full_name.split(' ')[0]} - ${item.responsible.user.main_cat.name}`}\n                                                orgCat={item.responsible.org.name}\n                                                handlePush={() => handlePush(item)}\n                                            />\n                                        </Col>\n                                    ))\n                                }\n                            </>\n                        ) : (\n                            <>\n                                {\n                                    skeleton.map((item, idx) => (\n                                        <Col span={24} key={`${idx + 1}`}>\n                                            <AccountRecordCardSkeleton/>\n                                        </Col>\n                                    ))\n                                }\n                            </>\n                        )\n                }\n            </Row>\n        </RootContent>\n    )\n}"]},"metadata":{},"sourceType":"module"}