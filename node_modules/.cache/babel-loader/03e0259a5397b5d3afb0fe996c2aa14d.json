{"ast":null,"code":"import _toConsumableArray from\"/Users/zuhriddinkamilzanov/Desktop/tMed-mobile/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"/Users/zuhriddinkamilzanov/Desktop/tMed-mobile/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{combine,createStore}from'effector';import{orgListForceLoading}from'./events';import{fetchAllOrg,fetchOrgInfo,fetchOrgPaymentMethods,fetchOrgSpecialistCat,fetchOrgSpecialists,fetchSubscribeToOrg,fetchUnsubscribeFromOrg}from'./effects';import{commonStoreList,storeWithKey}from'../../utils/store-utils';var $allOrgList=createStore({loading:false,data:[],result:{},forceLoading:0,error:false}).on(fetchAllOrg.pending,function(state,loading){return _objectSpread(_objectSpread({},state),{},{loading:loading});}).on(fetchAllOrg.fail,function(state,_ref){var error=_ref.error;return _objectSpread(_objectSpread({},state),{},{error:error,data:[],result:{},forceLoading:state.forceLoading===2?state.forceLoading:1});}).on(fetchAllOrg.done,function(state,_ref2){var result=_ref2.result,params=_ref2.params;var processed=commonStoreList(_objectSpread({response:result.data,state:state,clear:params.clear},params.params));return _objectSpread(_objectSpread(_objectSpread({},state),processed),{},{forceLoading:2});}).on(orgListForceLoading,function(state){return _objectSpread(_objectSpread({},state),{},{forceLoading:true});}).on(fetchSubscribeToOrg.done,function(state,_ref3){var params=_ref3.params;var slug_name=params.org_slug_name;var idx=state.data.findIndex(function(el){return el.slug_name===slug_name;});var newData=state.data;if(idx!==-1){var oldData=state.data[idx];newData=[].concat(_toConsumableArray(state.data.slice(0,idx)),[_objectSpread(_objectSpread({},oldData),{},{subs:_objectSpread(_objectSpread({},oldData.subs),{},{subscribed:true,me:oldData.subs.me+1})})],_toConsumableArray(state.data.slice(idx+1)));}return _objectSpread(_objectSpread({},state),{},{data:newData});});var $orgSpecialistCat=createStore({loading:false,data:[],result:{},forceLoading:false,error:false}).on(fetchOrgSpecialistCat.pending,function(state,loading){return _objectSpread(_objectSpread({},state),{},{loading:loading});}).on(fetchOrgSpecialistCat.fail,function(state,_ref4){var error=_ref4.error;return _objectSpread(_objectSpread({},state),{},{error:error,data:[],result:{}});}).on(fetchOrgSpecialistCat.done,function(state,_ref5){var params=_ref5.params,result=_ref5.result;var processed=commonStoreList(_objectSpread({response:result.data,state:state,clear:params.clear},params.params));return _objectSpread(_objectSpread(_objectSpread({},state),processed),{},{forceLoading:2});});var $organizationInfo=createStore({loading:false,data:{},error:false,forceLoading:0}).on(fetchOrgInfo.pending,function(state,loading){return _objectSpread(_objectSpread({},state),{},{loading:loading});}).on(fetchOrgInfo.fail,function(state,_ref6){var error=_ref6.error;return _objectSpread(_objectSpread({},state),{},{error:error,data:[],forceLoading:state.forceLoading===2?state.forceLoading:1});}).on(fetchOrgInfo.done,function(state,_ref7){var result=_ref7.result,key=_ref7.params;var processed=storeWithKey({response:result.data,state:state,key:key});return _objectSpread(_objectSpread(_objectSpread({},state),processed),{},{forceLoading:2});}).on(fetchSubscribeToOrg.done,function(state,_ref8){var _ref8$params=_ref8.params,org_slug_name=_ref8$params.org_slug_name,action=_ref8$params.action;var data=_objectSpread({},state.data);if(org_slug_name&&data[org_slug_name]){data[org_slug_name]=_objectSpread(_objectSpread({},data[org_slug_name]),{},{subs:_objectSpread(_objectSpread({},data[org_slug_name].subs),{},{subscribed:true})});if(action){action();}}return _objectSpread(_objectSpread({},state),{},{data:data});}).on(fetchUnsubscribeFromOrg.done,function(state,_ref9){var _ref9$params=_ref9.params,org_slug_name=_ref9$params.org_slug_name,action=_ref9$params.action;var data=_objectSpread({},state.data);if(org_slug_name&&data[org_slug_name]){data[org_slug_name]=_objectSpread(_objectSpread({},data[org_slug_name]),{},{subs:_objectSpread(_objectSpread({},data[org_slug_name].subs),{},{subscribed:false})});if(action){action();}}return _objectSpread(_objectSpread({},state),{},{data:data});});var $orgSpecialistsList=createStore({loading:false,data:[],result:{},forceLoading:0,error:false}).on(fetchOrgSpecialists.pending,function(state,loading){return _objectSpread(_objectSpread({},state),{},{loading:loading});}).on(fetchOrgSpecialists.fail,function(state,_ref10){var error=_ref10.error;return _objectSpread(_objectSpread({},state),{},{error:error,data:[],result:{},forceLoading:state.forceLoading===2?state.forceLoading:1});}).on(fetchOrgSpecialists.done,function(state,_ref11){var result=_ref11.result,params=_ref11.params;var processed=commonStoreList(_objectSpread({response:result.data,state:state,clear:params.clear},params.params));return _objectSpread(_objectSpread(_objectSpread({},state),processed),{},{forceLoading:2});});var $orgPaymentMethods=createStore({loading:false,data:[],error:false}).on(fetchOrgPaymentMethods.pending,function(state,loading){return _objectSpread(_objectSpread({},state),{},{loading:loading});}).on(fetchOrgPaymentMethods.fail,function(state,_ref12){var error=_ref12.error;return _objectSpread(_objectSpread({},state),{},{error:error,data:[]});}).on(fetchOrgPaymentMethods.done,function(state,_ref13){var result=_ref13.result,params=_ref13.params;return _objectSpread(_objectSpread({},state),{},{data:result.data});});export var $orgModel=combine({$allOrgList:$allOrgList,$organizationInfo:$organizationInfo,$orgSpecialistCat:$orgSpecialistCat,$orgPaymentMethods:$orgPaymentMethods,$orgSpecialistsList:$orgSpecialistsList});","map":null,"metadata":{},"sourceType":"module"}