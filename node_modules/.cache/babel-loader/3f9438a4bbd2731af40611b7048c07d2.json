{"ast":null,"code":"import{useCallback}from'react';import{useStore}from'effector-react';import{$appModel}from'../../Models/app';import{tapeLikeMount,tapeRemoveLikesMount}from'../../Models/tape-model';export function usePostPageIndicator(data){var _useStore=useStore($appModel),token=_useStore.$app.token;var addLikeMethod=useCallback(function(event){if(!!token){if(event.title==='like'&&!data.is_liked){tapeLikeMount({post_id:data.id});}}},[token,data]);var removeLikeMethod=useCallback(function(event){if(!!token){if(event.title==='like'){tapeRemoveLikesMount({post_id:data.id});}}},[token,data]);var handleChangeLike=useCallback(function(event){if(event.title==='like'){if(!data.is_liked){addLikeMethod(event);}else{removeLikeMethod(event);}}},[addLikeMethod,removeLikeMethod,data]);return{handleChangeLike:handleChangeLike};}","map":{"version":3,"sources":["/Users/zuhriddinkamilzanov/Desktop/tMed-mobile/src/Hooks/post/use-post-page-indicator.js"],"names":["useCallback","useStore","$appModel","tapeLikeMount","tapeRemoveLikesMount","usePostPageIndicator","data","token","$app","addLikeMethod","event","title","is_liked","post_id","id","removeLikeMethod","handleChangeLike"],"mappings":"AAAA,OAAQA,WAAR,KAA0B,OAA1B,CACA,OAAQC,QAAR,KAAuB,gBAAvB,CACA,OAAQC,SAAR,KAAwB,kBAAxB,CACA,OAAQC,aAAR,CAAuBC,oBAAvB,KAAkD,yBAAlD,CAGA,MAAO,SAASC,CAAAA,oBAAT,CAA8BC,IAA9B,CAAoC,CACvC,cAAwBL,QAAQ,CAACC,SAAD,CAAhC,CAAcK,KAAd,WAAOC,IAAP,CAAcD,KAAd,CAEA,GAAME,CAAAA,aAAa,CAAGT,WAAW,CAAC,SAACU,KAAD,CAAW,CACzC,GAAI,CAAC,CAACH,KAAN,CAAa,CACT,GAAIG,KAAK,CAACC,KAAN,GAAgB,MAAhB,EAA0B,CAACL,IAAI,CAACM,QAApC,CAA8C,CAC1CT,aAAa,CAAC,CAACU,OAAO,CAAEP,IAAI,CAACQ,EAAf,CAAD,CAAb,CACH,CACJ,CACJ,CANgC,CAM9B,CAACP,KAAD,CAAQD,IAAR,CAN8B,CAAjC,CAQA,GAAMS,CAAAA,gBAAgB,CAAGf,WAAW,CAAC,SAACU,KAAD,CAAW,CAC5C,GAAI,CAAC,CAACH,KAAN,CAAa,CACT,GAAIG,KAAK,CAACC,KAAN,GAAgB,MAApB,CAA4B,CACxBP,oBAAoB,CAAC,CAACS,OAAO,CAAEP,IAAI,CAACQ,EAAf,CAAD,CAApB,CACH,CACJ,CACJ,CANmC,CAMjC,CAACP,KAAD,CAAQD,IAAR,CANiC,CAApC,CAQA,GAAMU,CAAAA,gBAAgB,CAAGhB,WAAW,CAAC,SAACU,KAAD,CAAW,CAC5C,GAAIA,KAAK,CAACC,KAAN,GAAgB,MAApB,CAA4B,CACxB,GAAI,CAACL,IAAI,CAACM,QAAV,CAAoB,CAChBH,aAAa,CAACC,KAAD,CAAb,CACH,CAFD,IAEO,CACHK,gBAAgB,CAACL,KAAD,CAAhB,CACH,CACJ,CACJ,CARmC,CAQjC,CAACD,aAAD,CAAgBM,gBAAhB,CAAkCT,IAAlC,CARiC,CAApC,CAUA,MAAO,CAACU,gBAAgB,CAAhBA,gBAAD,CAAP,CACH","sourcesContent":["import {useCallback} from 'react'\nimport {useStore} from 'effector-react'\nimport {$appModel} from '../../Models/app'\nimport {tapeLikeMount, tapeRemoveLikesMount} from '../../Models/tape-model'\n\n\nexport function usePostPageIndicator(data) {\n    const {$app: {token}} = useStore($appModel)\n    \n    const addLikeMethod = useCallback((event) => {\n        if (!!token) {\n            if (event.title === 'like' && !data.is_liked) {\n                tapeLikeMount({post_id: data.id})\n            }\n        }\n    }, [token, data])\n    \n    const removeLikeMethod = useCallback((event) => {\n        if (!!token) {\n            if (event.title === 'like') {\n                tapeRemoveLikesMount({post_id: data.id})\n            }\n        }\n    }, [token, data])\n    \n    const handleChangeLike = useCallback((event) => {\n        if (event.title === 'like') {\n            if (!data.is_liked) {\n                addLikeMethod(event)\n            } else {\n                removeLikeMethod(event)\n            }\n        }\n    }, [addLikeMethod, removeLikeMethod, data])\n    \n    return {handleChangeLike}\n}"]},"metadata":{},"sourceType":"module"}