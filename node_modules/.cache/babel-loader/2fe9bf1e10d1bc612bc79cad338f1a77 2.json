{"ast":null,"code":"import{useCallback}from'react';import{useStore}from'effector-react';import{useSubscription}from'../user';import{$appModel}from'../../Models/app';import{useParams}from'react-router-dom';import{useTranslation}from'react-i18next';import{$orgModel}from'../../Models/org-model';import{useOrganization}from'./use-organization';import{$accountModel}from'../../Models/account-model';export function useOrgSubscription(){useOrganization();var _useTranslation=useTranslation(),t=_useTranslation.t;var _useParams=useParams(),organization=_useParams.organization;var _useStore=useStore($appModel),token=_useStore.$app.token;var _useStore2=useStore($orgModel),data=_useStore2.$organizationInfo.data;var _useStore3=useStore($accountModel),currentProfile=_useStore3.$profiles.currentProfile;var _useSubscription=useSubscription({from:'org_info'}),subscribeToAccount=_useSubscription.subscribeToAccount,unsubscribeFromAccount=_useSubscription.unsubscribeFromAccount;var getSubscription=useCallback(function(){var tmp={text:null,toggle:function toggle(){return false;}};if(!token){return false;}if(data&&organization&&data[organization]&&currentProfile){var org_name=data[organization];if(data[organization].subs&&data[organization].subs.subscribed){tmp={text:t('unsubscribe'),toggle:function toggle(){return unsubscribeFromAccount({slug_name:organization,name:org_name});}};}else{tmp={text:t('subscribe'),toggle:function toggle(){return subscribeToAccount({slug_name:organization,name:org_name});}};}}return tmp;},[data,currentProfile,t,token,organization,subscribeToAccount,unsubscribeFromAccount]);return{getSubscription:getSubscription,data:data,currentProfile:currentProfile,organization:organization};}","map":null,"metadata":{},"sourceType":"module"}