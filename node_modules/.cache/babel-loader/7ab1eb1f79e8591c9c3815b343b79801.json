{"ast":null,"code":"import React,{useCallback}from'react';import{Col,Row}from'antd';import{useStore}from'effector-react';import{PostMoreWrapper}from'../style';import{useTranslation}from'react-i18next';import{useHistory,useParams}from'react-router-dom';import{Text}from'../../../UIComponents/Typography/Text';import{deletePostMount}from'../../../Models/tape-model';import{currentPostMoreList,postMore}from'../../../data';import{$appModel,saveURLMount}from'../../../Models/app';import{$accountModel}from'../../../Models/account-model';export var PostMore=function PostMore(_ref){var data=_ref.data;var _useTranslation=useTranslation(),t=_useTranslation.t;var _useParams=useParams(),username=_useParams.username;var _useStore=useStore($appModel),token=_useStore.$app.token;var _useHistory=useHistory(),push=_useHistory.push,pathname=_useHistory.location.pathname;var _useStore2=useStore($accountModel),currentProfile=_useStore2.$profiles.currentProfile;var handleItemClick=useCallback(function(action){var author=currentProfile&&\"@\".concat(currentProfile.slug_name);var params={post_id:data.id,author:author};if(!!token){if(action==='delete'){deletePostMount(params);}if(action==='repost'){saveURLMount(pathname);push(\"/repost/\".concat(params.post_id));}}},[data.id,currentProfile,push,token,pathname]);return/*#__PURE__*/React.createElement(PostMoreWrapper,null,/*#__PURE__*/React.createElement(Row,{align:\"middle\"},currentProfile&&currentProfile.slug_name===username||(currentProfile&&currentProfile.slug_name)===data.author.slug_name?currentPostMoreList.map(function(item,idx){var Icon=item.icon;return/*#__PURE__*/React.createElement(Col,{span:24,key:\"\".concat(idx+1),style:{whiteSpace:'nowrap'},onClick:function onClick(){return handleItemClick(item.text);}},/*#__PURE__*/React.createElement(Row,{wrap:false,align:\"middle\",justify:\"space-between\"},/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(Text,null,t(\"\".concat(item.text)))),/*#__PURE__*/React.createElement(Col,{className:\"icon-box\"},/*#__PURE__*/React.createElement(Icon,null))));}):postMore.map(function(item,idx){var Icon=item.icon;return/*#__PURE__*/React.createElement(Col,{span:24,key:\"\".concat(idx+1),style:{whiteSpace:'nowrap'},onClick:function onClick(){return handleItemClick(item.text);}},/*#__PURE__*/React.createElement(Row,{gutter:12,wrap:false,align:\"middle\",justify:\"space-between\"},/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(Text,null,t(\"\".concat(item.text)))),/*#__PURE__*/React.createElement(Col,{className:\"icon-box\"},/*#__PURE__*/React.createElement(Icon,null))));})));};","map":null,"metadata":{},"sourceType":"module"}