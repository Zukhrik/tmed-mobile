{"ast":null,"code":"import { useStore } from 'effector-react';\nimport { useParams } from 'react-router-dom';\nimport { useCallback, useEffect } from 'react';\nimport { $postModel, postCommentsMount } from '../../Models/post-model';\nconst initialParams = {\n  limit: 10,\n  offset: 0\n};\nexport function usePostComments() {\n  const {\n    post_id\n  } = useParams();\n  const {\n    $getPostComments: {\n      result\n    }\n  } = useStore($postModel);\n  const loadMore = useCallback(() => {\n    const data = {\n      post_id: post_id,\n      params: { ...initialParams,\n        offset: result[post_id].nextOffset\n      }\n    };\n    postCommentsMount(data);\n  }, [post_id, result]);\n  useEffect(() => {\n    const data = {\n      clear: true,\n      post_id: post_id,\n      params: initialParams\n    };\n    postCommentsMount(data);\n  }, [post_id]);\n  return {\n    loadMore\n  };\n}","map":{"version":3,"sources":["/Users/zuhriddinkamilzanov/Desktop/t-med(mobile)/src/Hooks/post/use-post-comments.js"],"names":["useStore","useParams","useCallback","useEffect","$postModel","postCommentsMount","initialParams","limit","offset","usePostComments","post_id","$getPostComments","result","loadMore","data","params","nextOffset","clear"],"mappings":"AAAA,SAAQA,QAAR,QAAuB,gBAAvB;AACA,SAAQC,SAAR,QAAwB,kBAAxB;AACA,SAAQC,WAAR,EAAqBC,SAArB,QAAqC,OAArC;AACA,SAAQC,UAAR,EAAoBC,iBAApB,QAA4C,yBAA5C;AAEA,MAAMC,aAAa,GAAG;AAClBC,EAAAA,KAAK,EAAE,EADW;AAElBC,EAAAA,MAAM,EAAE;AAFU,CAAtB;AAKA,OAAO,SAASC,eAAT,GAA2B;AAC9B,QAAM;AAACC,IAAAA;AAAD,MAAYT,SAAS,EAA3B;AACA,QAAM;AAACU,IAAAA,gBAAgB,EAAE;AAACC,MAAAA;AAAD;AAAnB,MAA+BZ,QAAQ,CAACI,UAAD,CAA7C;AAEA,QAAMS,QAAQ,GAAGX,WAAW,CAAC,MAAM;AAC/B,UAAMY,IAAI,GAAG;AACTJ,MAAAA,OAAO,EAAEA,OADA;AAETK,MAAAA,MAAM,EAAE,EACJ,GAAGT,aADC;AAEJE,QAAAA,MAAM,EAAEI,MAAM,CAACF,OAAD,CAAN,CAAgBM;AAFpB;AAFC,KAAb;AAOAX,IAAAA,iBAAiB,CAACS,IAAD,CAAjB;AACH,GAT2B,EASzB,CAACJ,OAAD,EAAUE,MAAV,CATyB,CAA5B;AAWAT,EAAAA,SAAS,CAAC,MAAM;AACZ,UAAMW,IAAI,GAAG;AACTG,MAAAA,KAAK,EAAE,IADE;AAETP,MAAAA,OAAO,EAAEA,OAFA;AAGTK,MAAAA,MAAM,EAAET;AAHC,KAAb;AAKAD,IAAAA,iBAAiB,CAACS,IAAD,CAAjB;AACH,GAPQ,EAON,CAACJ,OAAD,CAPM,CAAT;AASA,SAAO;AAACG,IAAAA;AAAD,GAAP;AACH","sourcesContent":["import {useStore} from 'effector-react'\nimport {useParams} from 'react-router-dom'\nimport {useCallback, useEffect} from 'react'\nimport {$postModel, postCommentsMount} from '../../Models/post-model'\n\nconst initialParams = {\n    limit: 10,\n    offset: 0\n}\n\nexport function usePostComments() {\n    const {post_id} = useParams()\n    const {$getPostComments: {result}} = useStore($postModel)\n    \n    const loadMore = useCallback(() => {\n        const data = {\n            post_id: post_id,\n            params: {\n                ...initialParams,\n                offset: result[post_id].nextOffset\n            }\n        }\n        postCommentsMount(data)\n    }, [post_id, result])\n    \n    useEffect(() => {\n        const data = {\n            clear: true,\n            post_id: post_id,\n            params: initialParams\n        }\n        postCommentsMount(data)\n    }, [post_id])\n    \n    return {loadMore}\n}"]},"metadata":{},"sourceType":"module"}