{"ast":null,"code":"import _slicedToArray from\"/Users/zuhriddinkamilzanov/Desktop/tMed-mobile/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{EmptyContainerWrapper,RootContent}from'../../../UIComponents/GlobalStyles';import{FixedHeader}from'../../../Components/FixedHeader';import{HomeFixedHeaderComponent}from'../organisms';import{useHomeList}from'../../../Hooks/home';import InfiniteScroll from'react-infinite-scroll-component';import{Col,Row}from'antd';import{useStore}from'effector-react';import{$orgModel}from'../../../Models/org-model';import{useHistory}from'react-router-dom';import{generateSkeleton}from'../../../utils/skeleton-utils';import{OrganizationCard,OrganizationCardSkeleton}from'../../../Components/Cards/OrganizationCard';import{NoSearchResultSvg}from'../../../Icons/NoSearchResult';import{Title}from'../../../UIComponents/Typography/Title';import{useTranslation}from'react-i18next';import{OrgsSearchInput}from'../molecules';var skeleton=generateSkeleton(10);export var Home=function Home(){var _useHistory=useHistory(),push=_useHistory.push;var _useTranslation=useTranslation(),t=_useTranslation.t;var _useHomeList=useHomeList(),loadMore=_useHomeList.loadMore;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),modal=_useState2[0],setModal=_useState2[1];var _useStore=useStore($orgModel),_useStore$$allOrgList=_useStore.$allOrgList,data=_useStore$$allOrgList.data,result=_useStore$$allOrgList.result,loading=_useStore$$allOrgList.loading,forceLoading=_useStore$$allOrgList.forceLoading;var handleOrgItemClick=function handleOrgItemClick(item){push(\"/\".concat(item.slug_name,\"/offerings\"));};return/*#__PURE__*/React.createElement(RootContent,{paddingTop:62},/*#__PURE__*/React.createElement(OrgsSearchInput,{visible:modal,onCancel:function onCancel(){return setModal(false);},setModal:setModal}),/*#__PURE__*/React.createElement(FixedHeader,{component:/*#__PURE__*/React.createElement(HomeFixedHeaderComponent,{setModal:setModal})}),/*#__PURE__*/React.createElement(InfiniteScroll,{next:loadMore,hasMore:!loading&&!!result.next,dataLength:result.nextOffset||10,loader:/*#__PURE__*/React.createElement(React.Fragment,null,\"...loading\")},forceLoading===2&&data?/*#__PURE__*/React.createElement(React.Fragment,null,data.length>0?/*#__PURE__*/React.createElement(Row,{className:\"container\",gutter:[0,12]},data.map(function(item,idx){return/*#__PURE__*/React.createElement(Col,{span:24,key:\"\".concat(idx+1)},/*#__PURE__*/React.createElement(OrganizationCard,{name:item.name,imgUrl:item.logo,containerPath:function containerPath(){return handleOrgItemClick(item);},category:item.category.name,ethics:item.rating.ethics.level,aesthetics:item.rating.aesthetics.level,professional:item.rating.professional.level}));})):/*#__PURE__*/React.createElement(EmptyContainerWrapper,{style:{height:'80vh'}},/*#__PURE__*/React.createElement(NoSearchResultSvg,null),/*#__PURE__*/React.createElement(Title,{level:4},t('no_search_result')))):/*#__PURE__*/React.createElement(Row,null,skeleton.map(function(item,idx){return/*#__PURE__*/React.createElement(Col,{span:24,key:\"\".concat(idx+1)},/*#__PURE__*/React.createElement(OrganizationCardSkeleton,null));}))));};","map":{"version":3,"sources":["/Users/zuhriddinkamilzanov/Desktop/tMed-mobile/src/Views/Home/pages/home.jsx"],"names":["React","useState","EmptyContainerWrapper","RootContent","FixedHeader","HomeFixedHeaderComponent","useHomeList","InfiniteScroll","Col","Row","useStore","$orgModel","useHistory","generateSkeleton","OrganizationCard","OrganizationCardSkeleton","NoSearchResultSvg","Title","useTranslation","OrgsSearchInput","skeleton","Home","push","t","loadMore","modal","setModal","$allOrgList","data","result","loading","forceLoading","handleOrgItemClick","item","slug_name","next","nextOffset","length","map","idx","name","logo","category","rating","ethics","level","aesthetics","professional","height"],"mappings":"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","sourcesContent":["import React, {useState} from 'react'\nimport {EmptyContainerWrapper, RootContent} from '../../../UIComponents/GlobalStyles'\nimport {FixedHeader} from '../../../Components/FixedHeader'\nimport {HomeFixedHeaderComponent} from '../organisms'\nimport {useHomeList} from '../../../Hooks/home'\nimport InfiniteScroll from 'react-infinite-scroll-component'\nimport {Col, Row} from 'antd'\nimport {useStore} from 'effector-react'\nimport {$orgModel} from '../../../Models/org-model'\nimport {useHistory} from 'react-router-dom'\nimport {generateSkeleton} from '../../../utils/skeleton-utils'\nimport {OrganizationCard, OrganizationCardSkeleton} from '../../../Components/Cards/OrganizationCard'\nimport {NoSearchResultSvg} from '../../../Icons/NoSearchResult'\nimport {Title} from '../../../UIComponents/Typography/Title'\nimport {useTranslation} from 'react-i18next'\nimport {OrgsSearchInput} from '../molecules'\n\nconst skeleton = generateSkeleton(10)\nexport const Home = () => {\n    const {push} = useHistory()\n    const {t} = useTranslation()\n    const {loadMore} = useHomeList()\n    const [modal, setModal] = useState(false)\n    const {$allOrgList: {data, result, loading, forceLoading}} = useStore($orgModel)\n    \n    const handleOrgItemClick = (item) => {\n        push(`/${item.slug_name}/offerings`)\n    }\n    \n    return (\n        <RootContent paddingTop={62}>\n            <OrgsSearchInput\n                visible={modal}\n                onCancel={() => setModal(false)}\n                setModal={setModal}\n            />\n            <FixedHeader component={<HomeFixedHeaderComponent setModal={setModal}/>}/>\n            <InfiniteScroll\n                next={loadMore}\n                hasMore={!loading && !!result.next}\n                dataLength={result.nextOffset || 10}\n                loader={<>...loading</>}\n            >\n                {\n                    forceLoading === 2 && data\n                        ? (\n                            <>\n                                {\n                                    data.length > 0\n                                        ? (\n                                            <Row className='container' gutter={[0, 12]}>\n                                                {\n                                                    data.map((item, idx) => (\n                                                        <Col span={24} key={`${idx + 1}`}>\n                                                            <OrganizationCard\n                                                                name={item.name}\n                                                                imgUrl={item.logo}\n                                                                containerPath={() => handleOrgItemClick(item)}\n                                                                category={item.category.name}\n                                                                ethics={item.rating.ethics.level}\n                                                                aesthetics={item.rating.aesthetics.level}\n                                                                professional={item.rating.professional.level}\n                                                            />\n                                                        </Col>\n                                                    ))\n                                                }\n                                            </Row>\n                                        ) : (\n                                            <EmptyContainerWrapper style={{height: '80vh'}}>\n                                                <NoSearchResultSvg/>\n                                                <Title level={4}>{t('no_search_result')}</Title>\n                                            </EmptyContainerWrapper>\n                                        )\n                                }\n                            </>\n                        )\n                        : (\n                            <Row>\n                                {\n                                    skeleton.map((item, idx) => (\n                                        <Col span={24} key={`${idx + 1}`}>\n                                            <OrganizationCardSkeleton/>\n                                        </Col>\n                                    ))\n                                }\n                            </Row>\n                        )\n                }\n            </InfiniteScroll>\n        \n        </RootContent>\n    )\n}"]},"metadata":{},"sourceType":"module"}