{"ast":null,"code":"import _objectSpread from\"/Users/zuhriddinkamilzanov/Desktop/t-med(mobile)/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{useUrlParams}from'../app';import{useStore}from'effector-react';import{$appModel}from'../../Models/app';import{useCallback,useEffect}from'react';import{URL_KEYS,URL_VALUES}from'../../Constants';import{$orgModel,allOrgMount}from'../../Models/org-model';import{$userModel,allUserMount}from'../../Models/user-model';import{$streamModel,allStreamMountList}from'../../Models/stream-model';import{$offeringsModel,offeringsListMount}from'../../Models/offerings-model';var initialParams={limit:10,offset:0};export function useHomeList(){var _useUrlParams=useUrlParams(),urlData=_useUrlParams.urlData;var searchType=urlData[URL_KEYS.SEARCH_TYPE];var _category=urlData[URL_KEYS.CATEGORY];var _useStore=useStore($appModel),lang=_useStore.$appLang;var _useStore2=useStore($orgModel),allOrgResult=_useStore2.$allOrgList.result;var _useStore3=useStore($userModel),allUserResult=_useStore3.$allUserList.result;var _useStore4=useStore($streamModel),allStreamResult=_useStore4.$allStreamList.result;var _useStore5=useStore($offeringsModel),offeringsResult=_useStore5.$offeringsList.result;var getList=useCallback(function(params){if(!searchType){if(_category){params.params.category=_category;}allOrgMount(params);}if(searchType&&searchType===URL_VALUES.OFFERINGS){if(_category){params.params.offer_cat=_category;}offeringsListMount(params);}if(searchType&&searchType===URL_VALUES.PEOPLE){allUserMount(params);}if(searchType&&searchType===URL_VALUES.STREAM){allStreamMountList(params);}},[searchType,_category]);var loadMore=useCallback(function(){var params=_objectSpread({},initialParams);if(searchType===URL_VALUES.PEOPLE){if(allUserResult.nextOffset){params['offset']=allUserResult.nextOffset;}}if(!searchType){if(allOrgResult.nextOffset){params['offset']=allOrgResult.nextOffset;}}if(searchType===URL_VALUES.STREAM){if(allStreamResult.nextOffset){params['offset']=allStreamResult.nextOffset;}}if(searchType===URL_VALUES.OFFERINGS){if(offeringsResult.nextOffset){params['offset']=offeringsResult.nextOffset;}}getList({params:params});},[getList,allUserResult,searchType,allStreamResult,allOrgResult,offeringsResult]);useEffect(function(){var timeout=null;timeout=setTimeout(function(){var data={clear:true,params:_objectSpread({},initialParams)};if(lang){getList(data);}},300);return function(){clearTimeout(timeout);timeout=null;};},[getList,searchType,lang]);return{loadMore:loadMore};}","map":null,"metadata":{},"sourceType":"module"}