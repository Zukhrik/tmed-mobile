{"ast":null,"code":"var _jsxFileName = \"/Users/zuhriddinkamilzanov/Desktop/t-med(mobile)/src/UIComponents/Avatar/UploadAvatar/index.jsx\";\nimport React, { useRef } from 'react';\nimport { AvatarInnerIconWrapper, AvatarWrapper, StyledUploadAvatar, UploadAvatarWrapper } from '../style';\nimport { IconBox } from '../../GlobalStyles';\nimport { UploadCloudSvg } from '../../../Icons/UploadCloud';\nimport { PersonalFillSvg } from '../../../Icons/PersonalFill';\nimport { CircularProgress } from '@material-ui/core';\nimport { fileToBase64, resizeFile } from '../../../utils/crop-utils';\nexport const UploadAvatar = ({\n  imgUrl,\n  size,\n  onChange,\n  loading\n}) => {\n  const inputRef = useRef(null);\n\n  const handleChange = async e => {\n    const file = e.target.files[0];\n\n    try {\n      const resizedFile = await resizeFile(file, file.type, 'file');\n      const imgUrl = await fileToBase64(resizedFile);\n      const params = {\n        imgUrl,\n        file\n      };\n      onChange(params);\n    } catch (e) {}\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(UploadAvatarWrapper, {\n    onClick: () => inputRef.current.click(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(AvatarWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(StyledUploadAvatar, {\n    src: imgUrl,\n    size: size || 60,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 21\n    }\n  }, !imgUrl && /*#__PURE__*/React.createElement(React.Fragment, null, loading ? /*#__PURE__*/React.createElement(CircularProgress, {\n    size: 48,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 47\n    }\n  }) : /*#__PURE__*/React.createElement(PersonalFillSvg, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 47\n    }\n  }))), /*#__PURE__*/React.createElement(AvatarInnerIconWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(IconBox, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(UploadCloudSvg, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 29\n    }\n  })))), /*#__PURE__*/React.createElement(\"input\", {\n    onChange: handleChange,\n    ref: inputRef,\n    type: \"file\",\n    accept: \"image/png, image/jpeg\",\n    style: {\n      display: 'none'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 17\n    }\n  })));\n};","map":{"version":3,"sources":["/Users/zuhriddinkamilzanov/Desktop/t-med(mobile)/src/UIComponents/Avatar/UploadAvatar/index.jsx"],"names":["React","useRef","AvatarInnerIconWrapper","AvatarWrapper","StyledUploadAvatar","UploadAvatarWrapper","IconBox","UploadCloudSvg","PersonalFillSvg","CircularProgress","fileToBase64","resizeFile","UploadAvatar","imgUrl","size","onChange","loading","inputRef","handleChange","e","file","target","files","resizedFile","type","params","current","click","display"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,MAAf,QAA4B,OAA5B;AACA,SAAQC,sBAAR,EAAgCC,aAAhC,EAA+CC,kBAA/C,EAAmEC,mBAAnE,QAA8F,UAA9F;AACA,SAAQC,OAAR,QAAsB,oBAAtB;AACA,SAAQC,cAAR,QAA6B,4BAA7B;AACA,SAAQC,eAAR,QAA8B,6BAA9B;AACA,SAAQC,gBAAR,QAA+B,mBAA/B;AACA,SAAQC,YAAR,EAAsBC,UAAtB,QAAuC,2BAAvC;AAEA,OAAO,MAAMC,YAAY,GAAG,CAAC;AAACC,EAAAA,MAAD;AAASC,EAAAA,IAAT;AAAeC,EAAAA,QAAf;AAAyBC,EAAAA;AAAzB,CAAD,KAAuC;AAC/D,QAAMC,QAAQ,GAAGhB,MAAM,CAAC,IAAD,CAAvB;;AACA,QAAMiB,YAAY,GAAG,MAAOC,CAAP,IAAa;AAC9B,UAAMC,IAAI,GAAGD,CAAC,CAACE,MAAF,CAASC,KAAT,CAAe,CAAf,CAAb;;AACA,QAAI;AACA,YAAMC,WAAW,GAAG,MAAMZ,UAAU,CAACS,IAAD,EAAOA,IAAI,CAACI,IAAZ,EAAkB,MAAlB,CAApC;AACA,YAAMX,MAAM,GAAG,MAAMH,YAAY,CAACa,WAAD,CAAjC;AACA,YAAME,MAAM,GAAG;AACXZ,QAAAA,MADW;AAEXO,QAAAA;AAFW,OAAf;AAIAL,MAAAA,QAAQ,CAACU,MAAD,CAAR;AACH,KARD,CAQE,OAAON,CAAP,EAAU,CACX;AACJ,GAZD;;AAaA,sBACI,uDACI,oBAAC,mBAAD;AAAqB,IAAA,OAAO,EAAE,MAAMF,QAAQ,CAACS,OAAT,CAAiBC,KAAjB,EAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,kBAAD;AACI,IAAA,GAAG,EAAEd,MADT;AAEI,IAAA,IAAI,EAAEC,IAAI,IAAI,EAFlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAKQ,CAACD,MAAD,iBACI,0CAEQG,OAAO,gBACD,oBAAC,gBAAD;AAAkB,IAAA,IAAI,EAAE,EAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADC,gBAED,oBAAC,eAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJd,CANZ,CADJ,eAiBI,oBAAC,sBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CADJ,CAjBJ,CADJ,eAwBI;AACI,IAAA,QAAQ,EAAEE,YADd;AAEI,IAAA,GAAG,EAAED,QAFT;AAGI,IAAA,IAAI,EAAC,MAHT;AAII,IAAA,MAAM,EAAC,uBAJX;AAKI,IAAA,KAAK,EAAE;AAACW,MAAAA,OAAO,EAAE;AAAV,KALX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAxBJ,CADJ,CADJ;AAoCH,CAnDM","sourcesContent":["import React, {useRef} from 'react'\r\nimport {AvatarInnerIconWrapper, AvatarWrapper, StyledUploadAvatar, UploadAvatarWrapper,} from '../style'\r\nimport {IconBox} from '../../GlobalStyles'\r\nimport {UploadCloudSvg} from '../../../Icons/UploadCloud'\r\nimport {PersonalFillSvg} from '../../../Icons/PersonalFill'\r\nimport {CircularProgress} from '@material-ui/core'\r\nimport {fileToBase64, resizeFile} from '../../../utils/crop-utils'\r\n\r\nexport const UploadAvatar = ({imgUrl, size, onChange, loading}) => {\r\n    const inputRef = useRef(null)\r\n    const handleChange = async (e) => {\r\n        const file = e.target.files[0]\r\n        try {\r\n            const resizedFile = await resizeFile(file, file.type, 'file')\r\n            const imgUrl = await fileToBase64(resizedFile)\r\n            const params = {\r\n                imgUrl,\r\n                file\r\n            }\r\n            onChange(params)\r\n        } catch (e) {\r\n        }\r\n    }\r\n    return (\r\n        <>\r\n            <UploadAvatarWrapper onClick={() => inputRef.current.click()}>\r\n                <AvatarWrapper>\r\n                    <StyledUploadAvatar\r\n                        src={imgUrl}\r\n                        size={size || 60}\r\n                    >\r\n                        {\r\n                            !imgUrl && (\r\n                                <>\r\n                                    {\r\n                                        loading\r\n                                            ? <CircularProgress size={48}/>\r\n                                            : <PersonalFillSvg/>\r\n                                    }\r\n                                </>\r\n                            )\r\n                        }\r\n                    </StyledUploadAvatar>\r\n                    <AvatarInnerIconWrapper>\r\n                        <IconBox>\r\n                            <UploadCloudSvg/>\r\n                        </IconBox>\r\n                    </AvatarInnerIconWrapper>\r\n                </AvatarWrapper>\r\n                <input\r\n                    onChange={handleChange}\r\n                    ref={inputRef}\r\n                    type='file'\r\n                    accept='image/png, image/jpeg'\r\n                    style={{display: 'none'}}\r\n                />\r\n            </UploadAvatarWrapper>\r\n        </>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}