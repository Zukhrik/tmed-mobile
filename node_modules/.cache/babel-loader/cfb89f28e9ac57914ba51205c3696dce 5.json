{"ast":null,"code":"import _objectSpread from\"/Users/zuhriddinkamilzanov/Desktop/tMed-mobile/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{useStore}from'effector-react';import{useParams}from'react-router-dom';import{useCallback,useEffect}from'react';import{$postModel,postCommentsMount}from'../../Models/post-model';var initialParams={limit:10,offset:0};export function usePostComments(){var _useParams=useParams(),post_id=_useParams.post_id;var _useStore=useStore($postModel),result=_useStore.$getPostComments.result;var loadMore=useCallback(function(){var data={post_id:post_id,params:_objectSpread(_objectSpread({},initialParams),{},{offset:result[post_id].nextOffset})};postCommentsMount(data);},[post_id,result]);useEffect(function(){var data={clear:true,post_id:post_id,params:initialParams};postCommentsMount(data);},[post_id]);return{loadMore:loadMore};}","map":{"version":3,"sources":["/Users/zuhriddinkamilzanov/Desktop/tMed-mobile/src/Hooks/post/use-post-comments.js"],"names":["useStore","useParams","useCallback","useEffect","$postModel","postCommentsMount","initialParams","limit","offset","usePostComments","post_id","result","$getPostComments","loadMore","data","params","nextOffset","clear"],"mappings":"oKAAA,OAAQA,QAAR,KAAuB,gBAAvB,CACA,OAAQC,SAAR,KAAwB,kBAAxB,CACA,OAAQC,WAAR,CAAqBC,SAArB,KAAqC,OAArC,CACA,OAAQC,UAAR,CAAoBC,iBAApB,KAA4C,yBAA5C,CAEA,GAAMC,CAAAA,aAAa,CAAG,CAClBC,KAAK,CAAE,EADW,CAElBC,MAAM,CAAE,CAFU,CAAtB,CAKA,MAAO,SAASC,CAAAA,eAAT,EAA2B,CAC9B,eAAkBR,SAAS,EAA3B,CAAOS,OAAP,YAAOA,OAAP,CACA,cAAqCV,QAAQ,CAACI,UAAD,CAA7C,CAA0BO,MAA1B,WAAOC,gBAAP,CAA0BD,MAA1B,CAEA,GAAME,CAAAA,QAAQ,CAAGX,WAAW,CAAC,UAAM,CAC/B,GAAMY,CAAAA,IAAI,CAAG,CACTJ,OAAO,CAAEA,OADA,CAETK,MAAM,gCACCT,aADD,MAEFE,MAAM,CAAEG,MAAM,CAACD,OAAD,CAAN,CAAgBM,UAFtB,EAFG,CAAb,CAOAX,iBAAiB,CAACS,IAAD,CAAjB,CACH,CAT2B,CASzB,CAACJ,OAAD,CAAUC,MAAV,CATyB,CAA5B,CAWAR,SAAS,CAAC,UAAM,CACZ,GAAMW,CAAAA,IAAI,CAAG,CACTG,KAAK,CAAE,IADE,CAETP,OAAO,CAAEA,OAFA,CAGTK,MAAM,CAAET,aAHC,CAAb,CAKAD,iBAAiB,CAACS,IAAD,CAAjB,CACH,CAPQ,CAON,CAACJ,OAAD,CAPM,CAAT,CASA,MAAO,CAACG,QAAQ,CAARA,QAAD,CAAP,CACH","sourcesContent":["import {useStore} from 'effector-react'\nimport {useParams} from 'react-router-dom'\nimport {useCallback, useEffect} from 'react'\nimport {$postModel, postCommentsMount} from '../../Models/post-model'\n\nconst initialParams = {\n    limit: 10,\n    offset: 0\n}\n\nexport function usePostComments() {\n    const {post_id} = useParams()\n    const {$getPostComments: {result}} = useStore($postModel)\n    \n    const loadMore = useCallback(() => {\n        const data = {\n            post_id: post_id,\n            params: {\n                ...initialParams,\n                offset: result[post_id].nextOffset\n            }\n        }\n        postCommentsMount(data)\n    }, [post_id, result])\n    \n    useEffect(() => {\n        const data = {\n            clear: true,\n            post_id: post_id,\n            params: initialParams\n        }\n        postCommentsMount(data)\n    }, [post_id])\n    \n    return {loadMore}\n}"]},"metadata":{},"sourceType":"module"}