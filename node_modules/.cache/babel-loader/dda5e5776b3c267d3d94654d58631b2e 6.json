{"ast":null,"code":"import React from'react';import{useUser}from'../../../Hooks/user';import{useHistory,useParams}from'react-router-dom';import{useStore}from'effector-react';import{$userModel}from'../../../Models/user-model';import{RootContent}from'../../../UIComponents/GlobalStyles';import{FixedHeader}from'../../../Components/FixedHeader';import{UserFixedHeaderComponent}from'../organisms/user-fixed-header-component';import{Col,Row}from'antd';import Cookies from'js-cookie';import{getCurrentAccount}from'../../../Models/account-model';import{tokenMount}from'../../../Models/app';import{resetOrderCartList,resetOrgOrderCart}from'../../../Models/order-model';import{AccountHeader,AccountInfoSkeleton}from'../molecules';import{Text}from'../../../UIComponents/Typography/Text';import{ArrowRightSvg}from'../../../Icons/Arrow';import{useTranslation}from'react-i18next';import{AccountBlockItems}from'../atoms';export var Account=function Account(){useUser();var _useTranslation=useTranslation(),t=_useTranslation.t;var _useHistory=useHistory(),push=_useHistory.push;var _useParams=useParams(),username=_useParams.username;var _useStore=useStore($userModel),_useStore$$user=_useStore.$user,data=_useStore$$user.data,forceLoading=_useStore$$user.forceLoading;var userInfo=data&&(data===null||data===void 0?void 0:data[username]);var handleClick=function handleClick(evt){if(evt==='logo'){push('/');}else if(evt==='logout'){Cookies.remove('token');Cookies.remove('users');Cookies.remove('refresh-token');getCurrentAccount();localStorage.removeItem('currentProfile');tokenMount(null);push('/');resetOrgOrderCart();resetOrderCartList();}};return/*#__PURE__*/React.createElement(RootContent,{height:\"100vh\",paddingTop:50},/*#__PURE__*/React.createElement(FixedHeader,{component:/*#__PURE__*/React.createElement(UserFixedHeaderComponent,{logoClick:function logoClick(){return handleClick('logo');},logoutClick:function logoutClick(){return handleClick('logout');}})}),/*#__PURE__*/React.createElement(Row,{gutter:[0,16]},forceLoading===2&&userInfo?/*#__PURE__*/React.createElement(Col,{span:24},/*#__PURE__*/React.createElement(AccountHeader,{imgUrl:userInfo.avatar,name:\"\".concat(userInfo.name,\" \").concat(userInfo.lastname),category:userInfo.main_cat.name})):/*#__PURE__*/React.createElement(Col,{span:24},/*#__PURE__*/React.createElement(AccountInfoSkeleton,null)),/*#__PURE__*/React.createElement(Col,{span:24,onClick:function onClick(){return push(\"/@\".concat(username,\"/about_me\"));}},/*#__PURE__*/React.createElement(AccountBlockItems,null,/*#__PURE__*/React.createElement(Row,{wrap:false,justify:\"space-between\",align:\"middle\"},/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(Text,{level:4},t('about_me')),/*#__PURE__*/React.createElement(Text,{level:5,className:\"item-description\"},t('passport_number_birth_living_place'))),/*#__PURE__*/React.createElement(Col,{className:\"icon\"},/*#__PURE__*/React.createElement(ArrowRightSvg,null))))),/*#__PURE__*/React.createElement(Col,{span:24,onClick:function onClick(){return push(\"/@\".concat(username,\"/records\"));}},/*#__PURE__*/React.createElement(AccountBlockItems,null,/*#__PURE__*/React.createElement(Row,{wrap:false,justify:\"space-between\",align:\"middle\"},/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(Text,{level:4},t('records')),/*#__PURE__*/React.createElement(Text,{level:5,className:\"item-description\"},\"records count\")),/*#__PURE__*/React.createElement(Col,{className:\"icon\"},/*#__PURE__*/React.createElement(ArrowRightSvg,null)))))));};","map":{"version":3,"sources":["/Users/zuhriddinkamilzanov/Desktop/tMed-mobile/src/Views/Account/pages/account.jsx"],"names":["React","useUser","useHistory","useParams","useStore","$userModel","RootContent","FixedHeader","UserFixedHeaderComponent","Col","Row","Cookies","getCurrentAccount","tokenMount","resetOrderCartList","resetOrgOrderCart","AccountHeader","AccountInfoSkeleton","Text","ArrowRightSvg","useTranslation","AccountBlockItems","Account","t","push","username","$user","data","forceLoading","userInfo","handleClick","evt","remove","localStorage","removeItem","avatar","name","lastname","main_cat"],"mappings":"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","sourcesContent":["import React from 'react'\nimport {useUser} from '../../../Hooks/user'\nimport {useHistory, useParams} from 'react-router-dom'\nimport {useStore} from 'effector-react'\nimport {$userModel} from '../../../Models/user-model'\nimport {RootContent} from '../../../UIComponents/GlobalStyles'\nimport {FixedHeader} from '../../../Components/FixedHeader'\nimport {UserFixedHeaderComponent} from '../organisms/user-fixed-header-component'\nimport {Col, Row} from 'antd'\nimport Cookies from 'js-cookie'\nimport {getCurrentAccount} from '../../../Models/account-model'\nimport {tokenMount} from '../../../Models/app'\nimport {resetOrderCartList, resetOrgOrderCart} from '../../../Models/order-model'\nimport {AccountHeader, AccountInfoSkeleton} from '../molecules'\nimport {Text} from '../../../UIComponents/Typography/Text'\nimport {ArrowRightSvg} from '../../../Icons/Arrow'\nimport {useTranslation} from 'react-i18next'\nimport {AccountBlockItems} from '../atoms'\n\n\nexport const Account = () => {\n    useUser()\n    const {t} = useTranslation()\n    const {push} = useHistory()\n    const {username} = useParams()\n    const {$user: {data, forceLoading}} = useStore($userModel)\n    const userInfo = data && data?.[username]\n    \n    const handleClick = (evt) => {\n        if (evt === 'logo') {\n            push('/')\n        } else if (evt === 'logout') {\n            Cookies.remove('token')\n            Cookies.remove('users')\n            Cookies.remove('refresh-token')\n            getCurrentAccount()\n            localStorage.removeItem('currentProfile')\n            tokenMount(null)\n            push('/')\n            resetOrgOrderCart()\n            resetOrderCartList()\n        }\n    }\n    \n    return (\n        <RootContent height='100vh' paddingTop={50}>\n            <FixedHeader\n                component={<UserFixedHeaderComponent\n                    logoClick={() => handleClick('logo')}\n                    logoutClick={() => handleClick('logout')}\n                />}\n            />\n            <Row gutter={[0, 16]}>\n                {\n                    forceLoading === 2 && userInfo\n                        ? (\n                            <Col span={24}>\n                                <AccountHeader\n                                    imgUrl={userInfo.avatar}\n                                    name={`${userInfo.name} ${userInfo.lastname}`}\n                                    category={userInfo.main_cat.name}\n                                />\n                            </Col>\n                        )\n                        : (\n                            <Col span={24}>\n                                <AccountInfoSkeleton/>\n                            </Col>\n                        )\n                }\n                <Col span={24} onClick={() => push(`/@${username}/about_me`)}>\n                    <AccountBlockItems>\n                        <Row wrap={false} justify='space-between' align='middle'>\n                            <Col>\n                                <Text level={4}>{t('about_me')}</Text>\n                                <Text level={5} className='item-description'>\n                                    {t(('passport_number_birth_living_place'))}\n                                </Text>\n                            </Col>\n                            <Col className='icon'>\n                                <ArrowRightSvg/>\n                            </Col>\n                        </Row>\n                    </AccountBlockItems>\n                </Col>\n                <Col span={24} onClick={() => push(`/@${username}/records`)}>\n                    <AccountBlockItems>\n                        <Row wrap={false} justify='space-between' align='middle'>\n                            <Col>\n                                <Text level={4}>{t('records')}</Text>\n                                <Text level={5} className='item-description'>records count</Text>\n                            </Col>\n                            <Col className='icon'>\n                                <ArrowRightSvg/>\n                            </Col>\n                        </Row>\n                    </AccountBlockItems>\n                </Col>\n            </Row>\n        </RootContent>\n    )\n}"]},"metadata":{},"sourceType":"module"}