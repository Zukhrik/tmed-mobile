{"ast":null,"code":"import { useStore } from 'effector-react';\nimport { useCallback, useEffect } from 'react';\nimport { $tapeModel, allTapeMount, resetAllTapeWithTokenMount } from '../../Models/tape-model';\nconst initialParams = {\n  limit: 10,\n  offset: 0\n};\nexport function useAllTape() {\n  const {\n    $allTape: {\n      result\n    }\n  } = useStore($tapeModel);\n  const loadMore = useCallback(() => {\n    if (result.nextOffset) {\n      const data = {\n        params: { ...initialParams,\n          offset: result.nextOffset\n        }\n      };\n      allTapeMount(data);\n    }\n  }, [result.nextOffset]);\n  useEffect(() => {\n    resetAllTapeWithTokenMount();\n    allTapeMount({\n      params: initialParams\n    });\n  }, []);\n  return {\n    loadMore\n  };\n}","map":{"version":3,"sources":["/Users/zuhriddinkamilzanov/Desktop/tMed-mobile/src/Hooks/tape/use-all-tape.js"],"names":["useStore","useCallback","useEffect","$tapeModel","allTapeMount","resetAllTapeWithTokenMount","initialParams","limit","offset","useAllTape","$allTape","result","loadMore","nextOffset","data","params"],"mappings":"AAAA,SAAQA,QAAR,QAAuB,gBAAvB;AACA,SAAQC,WAAR,EAAqBC,SAArB,QAAqC,OAArC;AACA,SAAQC,UAAR,EAAoBC,YAApB,EAAkCC,0BAAlC,QAAmE,yBAAnE;AAEA,MAAMC,aAAa,GAAG;AAClBC,EAAAA,KAAK,EAAE,EADW;AAElBC,EAAAA,MAAM,EAAE;AAFU,CAAtB;AAKA,OAAO,SAASC,UAAT,GAAsB;AACzB,QAAM;AAACC,IAAAA,QAAQ,EAAE;AAACC,MAAAA;AAAD;AAAX,MAAuBX,QAAQ,CAACG,UAAD,CAArC;AAEA,QAAMS,QAAQ,GAAGX,WAAW,CAAC,MAAM;AAC/B,QAAIU,MAAM,CAACE,UAAX,EAAuB;AACnB,YAAMC,IAAI,GAAG;AACTC,QAAAA,MAAM,EAAE,EACJ,GAAGT,aADC;AAEJE,UAAAA,MAAM,EAAEG,MAAM,CAACE;AAFX;AADC,OAAb;AAMAT,MAAAA,YAAY,CAACU,IAAD,CAAZ;AACH;AACJ,GAV2B,EAUzB,CAACH,MAAM,CAACE,UAAR,CAVyB,CAA5B;AAYAX,EAAAA,SAAS,CAAC,MAAM;AACZG,IAAAA,0BAA0B;AAC1BD,IAAAA,YAAY,CAAC;AAACW,MAAAA,MAAM,EAAET;AAAT,KAAD,CAAZ;AACH,GAHQ,EAGN,EAHM,CAAT;AAKA,SAAO;AACHM,IAAAA;AADG,GAAP;AAGH","sourcesContent":["import {useStore} from 'effector-react'\r\nimport {useCallback, useEffect} from 'react'\r\nimport {$tapeModel, allTapeMount, resetAllTapeWithTokenMount} from '../../Models/tape-model'\r\n\r\nconst initialParams = {\r\n    limit: 10,\r\n    offset: 0\r\n}\r\n\r\nexport function useAllTape() {\r\n    const {$allTape: {result}} = useStore($tapeModel)\r\n    \r\n    const loadMore = useCallback(() => {\r\n        if (result.nextOffset) {\r\n            const data = {\r\n                params: {\r\n                    ...initialParams,\r\n                    offset: result.nextOffset\r\n                }\r\n            }\r\n            allTapeMount(data)\r\n        }\r\n    }, [result.nextOffset])\r\n    \r\n    useEffect(() => {\r\n        resetAllTapeWithTokenMount()\r\n        allTapeMount({params: initialParams})\r\n    }, [])\r\n    \r\n    return {\r\n        loadMore\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}