{"ast":null,"code":"import React,{useEffect}from'react';import{useHistory,useParams}from'react-router-dom';import{useTranslation}from'react-i18next';import{useUrlParams}from'../../../Hooks/app';import{useStore}from'effector-react';import{$appModel}from'../../../Models/app';import{URL_KEYS}from'../../../Constants';import{$orderModel}from'../../../Models/order-model';import{AccountSpecialistsWrapper,ServeSpecWrapper}from'../atoms';import{Col,Row}from'antd';import{Text}from'../../../UIComponents/Typography/Text';import{INFO_MAT}from'../../../Constants/app';import{ShortCard,ShortCardSkeleton}from'../../../Components/Cards';import{ChooseSpecialist}from'./choose-specialist';export var AccountSpecialists=function AccountSpecialists(){var _useHistory=useHistory(),push=_useHistory.push;var _useTranslation=useTranslation(),t=_useTranslation.t;var _useUrlParams=useUrlParams(),urlData=_useUrlParams.urlData;var _useParams=useParams(),organization=_useParams.organization;var _useStore=useStore($appModel),$device=_useStore.$device;var specId=urlData[URL_KEYS.SPECIALIST_ID];var _useStore2=useStore($orderModel),data=_useStore2.$orderCartList.data;var _useStore3=useStore($orderModel),forceLoading=_useStore3.$orderCartList.forceLoading;var currentOrg=data.find(function(item){return item.seller.slug_name===organization;});var specList=currentOrg?currentOrg.seller.specialists:[];var currentSpecInfo=specList.find(function(item){return item.id.toString()===urlData.specialist_id;});useEffect(function(){if(!specId&&specList.length>0){push({pathname:\"/records/unregistered/\".concat(organization),search:\"\".concat(URL_KEYS.SPECIALIST_ID,\"=\").concat(specList[0].id)});}},[specList,specId,push,organization]);return/*#__PURE__*/React.createElement(AccountSpecialistsWrapper,null,/*#__PURE__*/React.createElement(Row,{gutter:[0,12]},/*#__PURE__*/React.createElement(Col,{span:24},/*#__PURE__*/React.createElement(Text,null,t('choose_specialist'))),specList&&/*#__PURE__*/React.createElement(Col,{span:24},/*#__PURE__*/React.createElement(ChooseSpecialist,null)),$device&&$device===INFO_MAT?'':/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Col,{span:24},/*#__PURE__*/React.createElement(Text,null,t('will_serve_you'))),/*#__PURE__*/React.createElement(Col,{span:24},forceLoading===2?/*#__PURE__*/React.createElement(ServeSpecWrapper,null,currentSpecInfo&&/*#__PURE__*/React.createElement(ShortCard,{imgSize:40,imgUrl:currentSpecInfo.user.avatar,name:currentSpecInfo.user.full_name,text:currentSpecInfo.job.name})):/*#__PURE__*/React.createElement(ShortCardSkeleton,{size:40,height:40})))));};","map":{"version":3,"sources":["/Users/zuhriddinkamilzanov/Desktop/tMed-mobile/src/Views/Records/organisms/account-specialists.jsx"],"names":["React","useEffect","useHistory","useParams","useTranslation","useUrlParams","useStore","$appModel","URL_KEYS","$orderModel","AccountSpecialistsWrapper","ServeSpecWrapper","Col","Row","Text","INFO_MAT","ShortCard","ShortCardSkeleton","ChooseSpecialist","AccountSpecialists","push","t","urlData","organization","$device","specId","SPECIALIST_ID","data","$orderCartList","forceLoading","currentOrg","find","item","seller","slug_name","specList","specialists","currentSpecInfo","id","toString","specialist_id","length","pathname","search","user","avatar","full_name","job","name"],"mappings":"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","sourcesContent":["import React, {useEffect} from 'react'\nimport {useHistory, useParams} from 'react-router-dom'\nimport {useTranslation} from 'react-i18next'\nimport {useUrlParams} from '../../../Hooks/app'\nimport {useStore} from 'effector-react'\nimport {$appModel} from '../../../Models/app'\nimport {URL_KEYS} from '../../../Constants'\nimport {$orderModel} from '../../../Models/order-model'\nimport {AccountSpecialistsWrapper, ServeSpecWrapper} from '../atoms'\nimport {Col, Row} from 'antd'\nimport {Text} from '../../../UIComponents/Typography/Text'\nimport {INFO_MAT} from '../../../Constants/app'\nimport {ShortCard, ShortCardSkeleton} from '../../../Components/Cards'\nimport {ChooseSpecialist} from './choose-specialist'\n\nexport const AccountSpecialists = () => {\n    const {push} = useHistory()\n    const {t} = useTranslation()\n    const {urlData} = useUrlParams()\n    const {organization} = useParams()\n    const {$device} = useStore($appModel)\n    const specId = urlData[URL_KEYS.SPECIALIST_ID]\n    const {$orderCartList: {data}} = useStore($orderModel)\n    const {$orderCartList: {forceLoading}} = useStore($orderModel)\n    const currentOrg = data.find(item => item.seller.slug_name === organization)\n    const specList = currentOrg ? currentOrg.seller.specialists : []\n    const currentSpecInfo = specList.find(item => item.id.toString() === urlData.specialist_id)\n    \n    useEffect(() => {\n        if (!specId && specList.length > 0) {\n            push({\n                pathname: `/records/unregistered/${organization}`,\n                search: `${URL_KEYS.SPECIALIST_ID}=${specList[0].id}`\n            })\n        }\n    }, [specList, specId, push, organization])\n    \n    return (\n        <AccountSpecialistsWrapper>\n            <Row gutter={[0, 12]}>\n                <Col span={24}>\n                    <Text>{t('choose_specialist')}</Text>\n                </Col>\n                {\n                    specList &&\n                    <Col span={24}>\n                        <ChooseSpecialist/>\n                    </Col>\n                }\n                {\n                    $device && $device === INFO_MAT\n                        ? ''\n                        : (\n                            <>\n                                <Col span={24}>\n                                    <Text>{t('will_serve_you')}</Text>\n                                </Col>\n                                <Col span={24}>\n                                    {\n                                        forceLoading === 2\n                                            ? <ServeSpecWrapper>\n                                                {\n                                                    currentSpecInfo &&\n                                                    <ShortCard\n                                                        imgSize={40}\n                                                        imgUrl={currentSpecInfo.user.avatar}\n                                                        name={currentSpecInfo.user.full_name}\n                                                        text={currentSpecInfo.job.name}\n                                                    />\n                                                }\n                                            </ServeSpecWrapper>\n                                            : <ShortCardSkeleton\n                                                size={40}\n                                                height={40}\n                                            />\n                                    }\n                                </Col>\n                            </>\n                        )\n                }\n            </Row>\n        </AccountSpecialistsWrapper>\n    )\n}"]},"metadata":{},"sourceType":"module"}