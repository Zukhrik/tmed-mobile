{"ast":null,"code":"import _slicedToArray from\"/Users/zuhriddinkamilzanov/Desktop/t-med(mobile)/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectWithoutProperties from\"/Users/zuhriddinkamilzanov/Desktop/t-med(mobile)/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";var _excluded=[\"label\",\"error\",\"onBlur\",\"search\",\"options\",\"loading\",\"onSearch\",\"onChange\",\"onLoadMore\",\"helperText\",\"staticError\",\"defaultValue\",\"hideErrorText\"];import React,{useState}from'react';import{Avatar}from'../../Avatar';import{TextField}from'@material-ui/core';import{Autocomplete}from'@material-ui/lab';import{ArrowIosBottomSvg}from'../../../Icons/Arrow';import{debounce}from'../../../utils/debounce-utils';import{StyledFormControl,StyledHelperText,StyledInputError}from'../atoms';export var AutocompleteSelect=function AutocompleteSelect(_ref){var label=_ref.label,error=_ref.error,onBlur=_ref.onBlur,search=_ref.search,options=_ref.options,loading=_ref.loading,onSearch=_ref.onSearch,onChange=_ref.onChange,onLoadMore=_ref.onLoadMore,helperText=_ref.helperText,staticError=_ref.staticError,defaultValue=_ref.defaultValue,hideErrorText=_ref.hideErrorText,props=_objectWithoutProperties(_ref,_excluded);var _useState=useState(''),_useState2=_slicedToArray(_useState,2),inputValue=_useState2[0],setInputValue=_useState2[1];var renderOption=function renderOption(option){return/*#__PURE__*/React.createElement(React.Fragment,null,option.image&&/*#__PURE__*/React.createElement(Avatar,{imgUrl:option.image,size:24}),option.label);};var handleChange=function handleChange(e,newValue){onChange(newValue);};var handleBlur=function handleBlur(){if(inputValue.length>0){debounce(onSearch(''),300);setInputValue('');}onBlur();};return/*#__PURE__*/React.createElement(StyledFormControl,null,/*#__PURE__*/React.createElement(Autocomplete,Object.assign({},props,{limitTags:2,options:options,onBlur:handleBlur,autoComplete:true,loading:loading,includeInputInList:true,popupIcon:/*#__PURE__*/React.createElement(ArrowIosBottomSvg,null),renderOption:renderOption,filterOptions:function filterOptions(v){return v;},classes:{paper:'select-dropdown'},getOptionLabel:function getOptionLabel(option){return option.label;},ListboxProps:{onScroll:onLoadMore,style:{maxHeight:30*8+8}},onChange:function onChange(e,value){return handleChange(e,value);},getOptionSelected:function getOptionSelected(option,values){return props.multiple?option.value===values.value:!!option.value&&!!values.value;},renderInput:function renderInput(params){return/*#__PURE__*/React.createElement(TextField,Object.assign({},params,{onChange:function onChange(e){setInputValue(e.target.value);debounce(onSearch(e.target.value),300);},label:label,variant:\"filled\",error:!!error}));}})),helperText&&/*#__PURE__*/React.createElement(StyledHelperText,null,helperText),!hideErrorText&&error&&/*#__PURE__*/React.createElement(StyledInputError,{staticError:staticError},error));};","map":null,"metadata":{},"sourceType":"module"}