{"ast":null,"code":"import React from'react';import{useTranslation}from'react-i18next';import{useStore}from'effector-react';import{$appModel}from'../../../Models/app';import{useOrgOrderCarts,useOrgOrderDelete}from'../../../Hooks/order';import{$accountModel}from'../../../Models/account-model';import{$orderModel}from'../../../Models/order-model';import InfiniteScroll from'react-infinite-scroll-component';import{Col,Row}from'antd';import{OfferingHorizontalCard}from'../../../Components/Cards';import{ManageCount}from'./manage-count';import{INFO_MAT}from'../../../Constants/app';import{Text}from'../../../UIComponents/Typography/Text';import{OfferingHorizontalCardSkeleton}from'../../../Components/Cards/OfferingHorizontalCardSkeleton';import{generateSkeleton}from'../../../utils/skeleton-utils';var skeleton=generateSkeleton(1);export var UnregisteredOfferings=function UnregisteredOfferings(){var _result$organization,_result$organization2,_data$organization,_data$organization2,_result$organization3,_result$organization4,_currentProfile$curre,_currentProfile$curre2;var _useTranslation=useTranslation(),t=_useTranslation.t;var _useStore=useStore($appModel),$device=_useStore.$device;var _useOrgOrderCarts=useOrgOrderCarts(),loadMore=_useOrgOrderCarts.loadMore;var _useOrgOrderDelete=useOrgOrderDelete(),handleDelete=_useOrgOrderDelete.handleDelete,organization=_useOrgOrderDelete.organization;var _useStore2=useStore($accountModel),currentProfile=_useStore2.$profiles.currentProfile;var _useStore3=useStore($orderModel),_useStore3$$orgOrderC=_useStore3.$orgOrderCartList,data=_useStore3$$orgOrderC.data,result=_useStore3$$orgOrderC.result,loading=_useStore3$$orgOrderC.loading,forceLoading=_useStore3$$orgOrderC.forceLoading;return/*#__PURE__*/React.createElement(React.Fragment,null,forceLoading===2?/*#__PURE__*/React.createElement(InfiniteScroll,{style:{overflow:'visible'},next:loadMore,dataLength:(result===null||result===void 0?void 0:(_result$organization=result[organization])===null||_result$organization===void 0?void 0:_result$organization.nextOffset)||10,hasMore:!loading&&!!(result===null||result===void 0?void 0:(_result$organization2=result[organization])===null||_result$organization2===void 0?void 0:_result$organization2.next),loader:/*#__PURE__*/React.createElement(React.Fragment,null,\"...loading\")},/*#__PURE__*/React.createElement(Row,{gutter:[0,12]},data&&organization&&(data===null||data===void 0?void 0:(_data$organization=data[organization])===null||_data$organization===void 0?void 0:_data$organization.length)>0&&(data===null||data===void 0?void 0:(_data$organization2=data[organization])===null||_data$organization2===void 0?void 0:_data$organization2.map(function(item,idx){return/*#__PURE__*/React.createElement(Col,{key:\"\".concat(idx+1),span:24},/*#__PURE__*/React.createElement(OfferingHorizontalCard,{data:item,id:item.offering.id,imgUrl:item.offering.image,name:item.offering.name,cost:\"\".concat(item.total_cost.toLocaleString('fi-Fi'),\"\\n                                            \").concat(currentProfile.currency.code),manageCount:/*#__PURE__*/React.createElement(ManageCount,{item:item,countValue:item.qty,measurement:item.offering.measurement}),handleDelete:handleDelete}));})),!!result&&/*#__PURE__*/React.createElement(React.Fragment,null,forceLoading===2&&$device&&$device===INFO_MAT?/*#__PURE__*/React.createElement(Text,{level:4},\"\".concat(t('total_cost'),\": \").concat(result===null||result===void 0?void 0:(_result$organization3=result[organization])===null||_result$organization3===void 0?void 0:(_result$organization4=_result$organization3.total_cost)===null||_result$organization4===void 0?void 0:_result$organization4.toLocaleString('fi-Fi'),\"\\n                                                \").concat(currentProfile===null||currentProfile===void 0?void 0:(_currentProfile$curre=currentProfile.currency)===null||_currentProfile$curre===void 0?void 0:(_currentProfile$curre2=_currentProfile$curre.code)===null||_currentProfile$curre2===void 0?void 0:_currentProfile$curre2.toUpperCase())):''))):/*#__PURE__*/React.createElement(Row,{gutter:[0,12]},skeleton.map(function(item,idx){return/*#__PURE__*/React.createElement(Col,{span:24,key:\"\".concat(idx+1)},/*#__PURE__*/React.createElement(OfferingHorizontalCardSkeleton,null));})));};","map":null,"metadata":{},"sourceType":"module"}