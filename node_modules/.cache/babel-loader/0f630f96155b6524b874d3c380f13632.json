{"ast":null,"code":"var _jsxFileName = \"/Users/zuhriddinkamilzanov/Desktop/tMed-mobile/src/Views/Checkout/index.jsx\";\nimport React, { useCallback, useState } from 'react';\nimport { InfoCard } from './InfoCard';\nimport { useStore } from 'effector-react';\nimport { useGoBack } from '../../Hooks/app';\nimport { $appModel } from '../../Models/app';\nimport { useParams } from 'react-router-dom';\nimport { useTranslation } from 'react-i18next';\nimport { INFO_MAT } from '../../Constants/app';\nimport { useOrganization } from '../../Hooks/org';\nimport { useCheckout } from '../../Hooks/checkout';\nimport { Button } from '../../UIComponents/Button';\nimport { $orgModel } from '../../Models/org-model';\nimport { $orderModel } from '../../Models/order-model';\nimport { useHandleSurf, useOrgOrderCarts } from '../../Hooks/order';\nimport { RootContent, SkeletonUI } from '../../UIComponents/GlobalStyles';\nimport { CheckoutPageWireframe } from '../../UIComponents/Wireframe/CheckoutPageWireframe';\nexport const Checkout = () => {\n  var _orgOrderData$organiz, _orgOrderData$organiz2, _orgInfo$organization, _orgOrderData$organiz3, _orgOrderData$organiz4;\n\n  //Hooks\n  const {\n    t\n  } = useTranslation();\n  const {\n    organization\n  } = useParams();\n  const {\n    $orgOrderCartList: {\n      data: orgOrderData\n    }\n  } = useStore($orderModel);\n  const {\n    $organizationInfo: {\n      data: orgInfo,\n      forceLoading\n    }\n  } = useStore($orgModel);\n  const {\n    $device\n  } = useStore($appModel); //Custom Hooks\n\n  useOrganization();\n  useOrgOrderCarts();\n  const [couponId, setCouponId] = useState(null);\n  const {\n    handleSurf,\n    next\n  } = useHandleSurf();\n  const {\n    comment,\n    handleSubmit,\n    meetDate,\n    activeDay,\n    setComment,\n    payment,\n    setPayment\n  } = useCheckout(couponId);\n  const {\n    goBack\n  } = useGoBack({\n    pathname: `/records/unregistered/${organization}`\n  });\n  const totalCost = (orgOrderData === null || orgOrderData === void 0 ? void 0 : orgOrderData[organization]) && (orgOrderData === null || orgOrderData === void 0 ? void 0 : (_orgOrderData$organiz = orgOrderData[organization]) === null || _orgOrderData$organiz === void 0 ? void 0 : (_orgOrderData$organiz2 = _orgOrderData$organiz[0]) === null || _orgOrderData$organiz2 === void 0 ? void 0 : _orgOrderData$organiz2.total_cost);\n  const nextTo = totalCost === 0 ? handleSubmit : !next ? handleSurf : handleSubmit;\n  const generateDisabledButton = useCallback(() => {\n    if (next) {\n      return !payment.id;\n    } else {\n      return !meetDate;\n    }\n  }, [next, meetDate, payment.id]);\n  return /*#__PURE__*/React.createElement(RootContent, {\n    paddingTop: $device && $device === INFO_MAT ? 100 : 70,\n    height: \"100vh\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CheckoutPageWireframe, {\n    goBack: goBack,\n    disabled: generateDisabledButton() && 'disabled',\n    title: !next ? t('select_meet_time') : t('payment'),\n    title1: forceLoading === 2 ? (_orgInfo$organization = orgInfo[organization]) === null || _orgInfo$organization === void 0 ? void 0 : _orgInfo$organization.name : /*#__PURE__*/React.createElement(SkeletonUI, {\n      variant: \"text\",\n      width: 320,\n      height: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 27\n      }\n    }),\n    nextTo: nextTo,\n    title3: !next ? t('next_to') : t('checkout'),\n    infoCard: /*#__PURE__*/React.createElement(InfoCard, {\n      payment: payment,\n      setPayment: setPayment,\n      comment: comment,\n      meetDate: meetDate,\n      activeDay: activeDay,\n      onChange: value => setComment(value),\n      setCouponId: setCouponId,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 21\n      }\n    }),\n    link: $device && $device !== INFO_MAT && forceLoading === 2 && /*#__PURE__*/React.createElement(React.Fragment, null, orgOrderData && (orgOrderData === null || orgOrderData === void 0 ? void 0 : (_orgOrderData$organiz3 = orgOrderData[organization]) === null || _orgOrderData$organiz3 === void 0 ? void 0 : (_orgOrderData$organiz4 = _orgOrderData$organiz3[0]) === null || _orgOrderData$organiz4 === void 0 ? void 0 : _orgOrderData$organiz4.total_cost) > 0 ? /*#__PURE__*/React.createElement(React.Fragment, null, !next ? /*#__PURE__*/React.createElement(Button, {\n      variant: \"primary\",\n      onClick: handleSurf,\n      disabled: !meetDate,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 53\n      }\n    }, t('next_to')) : /*#__PURE__*/React.createElement(Button, {\n      variant: \"primary\",\n      onClick: handleSubmit,\n      disabled: !payment.title,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 53\n      }\n    }, t('checkout'))) : /*#__PURE__*/React.createElement(Button, {\n      sile: \"l\",\n      variant: \"primary\",\n      disabled: !meetDate,\n      onClick: handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 41\n      }\n    }, t('checkout'))),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }\n  }));\n};","map":{"version":3,"sources":["/Users/zuhriddinkamilzanov/Desktop/tMed-mobile/src/Views/Checkout/index.jsx"],"names":["React","useCallback","useState","InfoCard","useStore","useGoBack","$appModel","useParams","useTranslation","INFO_MAT","useOrganization","useCheckout","Button","$orgModel","$orderModel","useHandleSurf","useOrgOrderCarts","RootContent","SkeletonUI","CheckoutPageWireframe","Checkout","t","organization","$orgOrderCartList","data","orgOrderData","$organizationInfo","orgInfo","forceLoading","$device","couponId","setCouponId","handleSurf","next","comment","handleSubmit","meetDate","activeDay","setComment","payment","setPayment","goBack","pathname","totalCost","total_cost","nextTo","generateDisabledButton","id","name","value","title"],"mappings":"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","sourcesContent":["import React, {useCallback, useState} from 'react'\nimport {InfoCard} from './InfoCard'\nimport {useStore} from 'effector-react'\nimport {useGoBack} from '../../Hooks/app'\nimport {$appModel} from '../../Models/app'\nimport {useParams} from 'react-router-dom'\nimport {useTranslation} from 'react-i18next'\nimport {INFO_MAT} from '../../Constants/app'\nimport {useOrganization} from '../../Hooks/org'\nimport {useCheckout} from '../../Hooks/checkout'\nimport {Button} from '../../UIComponents/Button'\nimport {$orgModel} from '../../Models/org-model'\nimport {$orderModel} from '../../Models/order-model'\nimport {useHandleSurf, useOrgOrderCarts} from '../../Hooks/order'\nimport {RootContent, SkeletonUI} from '../../UIComponents/GlobalStyles'\nimport {CheckoutPageWireframe} from '../../UIComponents/Wireframe/CheckoutPageWireframe'\n\nexport const Checkout = () => {\n    //Hooks\n    const {t} = useTranslation()\n    const {organization} = useParams()\n    const {$orgOrderCartList: {data: orgOrderData}} = useStore($orderModel)\n    const {$organizationInfo: {data: orgInfo, forceLoading}} = useStore($orgModel)\n    const {$device} = useStore($appModel)\n    \n    //Custom Hooks\n    useOrganization()\n    useOrgOrderCarts()\n    const [couponId, setCouponId] = useState(null)\n    const {handleSurf, next} = useHandleSurf()\n    const {comment, handleSubmit, meetDate, activeDay, setComment, payment, setPayment} = useCheckout(couponId)\n    const {goBack} = useGoBack({pathname: `/records/unregistered/${organization}`})\n    \n    const totalCost = orgOrderData?.[organization] && orgOrderData?.[organization]?.[0]?.total_cost\n    const nextTo = totalCost === 0 ? handleSubmit : !next ? handleSurf : handleSubmit\n    \n    const generateDisabledButton = useCallback(() => {\n        if (next) {\n            return !payment.id\n        } else {\n            return !meetDate\n        }\n    }, [next, meetDate, payment.id])\n    \n    \n    return (\n        <RootContent\n            paddingTop={$device && $device === INFO_MAT ? 100 : 70}\n            height='100vh'\n        >\n            <CheckoutPageWireframe\n                goBack={goBack}\n                disabled={generateDisabledButton() && 'disabled'}\n                title={!next ? t('select_meet_time') : t('payment')}\n                title1={\n                    forceLoading === 2\n                        ? orgInfo[organization]?.name\n                        : <SkeletonUI variant='text' width={320} height={12}/>\n                }\n                nextTo={nextTo}\n                title3={!next ? t('next_to') : t('checkout')}\n                infoCard={(\n                    <InfoCard\n                        payment={payment}\n                        setPayment={setPayment}\n                        comment={comment}\n                        meetDate={meetDate}\n                        activeDay={activeDay}\n                        onChange={(value) => setComment(value)}\n                        setCouponId={setCouponId}\n                    />\n                )}\n                link={\n                    $device && $device !== INFO_MAT && forceLoading === 2 && (\n                        <>\n                            {\n                                orgOrderData && orgOrderData?.[organization]?.[0]?.total_cost > 0\n                                    ? <>\n                                        {\n                                            !next\n                                                ? (\n                                                    <Button\n                                                        variant='primary'\n                                                        onClick={handleSurf}\n                                                        disabled={!meetDate}\n                                                    >\n                                                        {t('next_to')}\n                                                    </Button>\n                                                )\n                                                : (\n                                                    <Button\n                                                        variant='primary'\n                                                        onClick={handleSubmit}\n                                                        disabled={!payment.title}\n                                                    >\n                                                        {t('checkout')}\n                                                    </Button>\n                                                )\n                                        }\n                                    </>\n                                    : (\n                                        <Button\n                                            sile='l'\n                                            variant='primary'\n                                            disabled={!meetDate}\n                                            onClick={handleSubmit}\n                                        >\n                                            {t('checkout')}\n                                        </Button>\n                                    )\n                            }\n                        </>\n                    )\n                }\n            />\n        </RootContent>\n    )\n}"]},"metadata":{},"sourceType":"module"}