{"ast":null,"code":"import _objectSpread from\"/Users/zuhriddinkamilzanov/Desktop/t-med(mobile)/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/zuhriddinkamilzanov/Desktop/t-med(mobile)/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useCallback,useEffect,useState}from'react';import{useUrlParams}from'../app';import{URL_KEYS,URL_VALUES}from'../../Constants';import{$chatModel,allChatsMount,chatForceLoading}from'../../Models/chat-model';import{useHistory}from'react-router-dom';import{useStore}from'effector-react';var initialParams={limit:10,offset:0};export function useChatList(){var _useUrlParams=useUrlParams(),urlData=_useUrlParams.urlData;var chatTab=urlData[URL_KEYS.CHAT_TAB];var _useStore=useStore($chatModel),_useStore$$allChatLis=_useStore.$allChatList,userChatForceLoading=_useStore$$allChatLis.userChatForceLoading,groupChatForCeLoading=_useStore$$allChatLis.groupChatForCeLoading;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),mounted=_useState2[0],setMounted=_useState2[1];var _useHistory=useHistory(),push=_useHistory.push;var getList=useCallback(function(type,params){if(type===URL_VALUES.ALL_CHATS){allChatsMount(params);}if(type===URL_VALUES.GROUP_CHATS){}},[]);useEffect(function(){if(!chatTab){push({pathname:'/chat',search:\"\".concat(URL_KEYS.CHAT_TAB,\"=\").concat(URL_VALUES.ALL_CHATS)});}},[chatTab,push]);useEffect(function(){var timeout=null;timeout=setTimeout(function(){if(chatTab&&!mounted){var data={clear:true,params:_objectSpread(_objectSpread({},initialParams),{},{rtype:'user'})};chatForceLoading({type:chatTab});if(chatTab===URL_VALUES.ALL_CHATS&&userChatForceLoading===0){allChatsMount(data);}if(chatTab===URL_VALUES.GROUP_CHATS&&groupChatForCeLoading===0){}setMounted(true);}},300);return function(){clearTimeout(timeout);timeout=null;};},[getList,chatTab,mounted,userChatForceLoading,groupChatForCeLoading]);}","map":null,"metadata":{},"sourceType":"module"}