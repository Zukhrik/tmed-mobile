{"ast":null,"code":"import React from'react';import{RootContent}from'../../../UIComponents/GlobalStyles';import{FixedHeader}from'../../../Components/FixedHeader';import{HomeFixedHeaderComponent}from'../organisms';import{useHomeList}from'../../../Hooks/home';import InfiniteScroll from'react-infinite-scroll-component';import{Col,Row}from'antd';import{OrganizationCard}from'../../../Components/Cards';import{useStore}from'effector-react';import{$orgModel}from'../../../Models/org-model';import{useHistory}from'react-router-dom';import{generateSkeleton}from'../../../utils/skeleton-utils';import{OrganizationCardSkeleton}from'../../../Components/Cards/OrganizationCard';var skeleton=generateSkeleton(10);export var Home=function Home(){var _useHistory=useHistory(),push=_useHistory.push;var _useHomeList=useHomeList(),loadMore=_useHomeList.loadMore;var _useStore=useStore($orgModel),_useStore$$allOrgList=_useStore.$allOrgList,data=_useStore$$allOrgList.data,result=_useStore$$allOrgList.result,loading=_useStore$$allOrgList.loading,forceLoading=_useStore$$allOrgList.forceLoading;var handleSearchClick=function handleSearchClick(){console.log('search icon clicked');};var handleOrgItemClick=function handleOrgItemClick(item){push(\"/\".concat(item.slug_name,\"/offerings\"));};return/*#__PURE__*/React.createElement(RootContent,{paddingTop:62},/*#__PURE__*/React.createElement(FixedHeader,{component:/*#__PURE__*/React.createElement(HomeFixedHeaderComponent,{searchClick:handleSearchClick})}),/*#__PURE__*/React.createElement(InfiniteScroll,{next:loadMore,hasMore:!loading&&!!result.next,dataLength:result.nextOffset||10,loader:/*#__PURE__*/React.createElement(React.Fragment,null,\"...loading\")},/*#__PURE__*/React.createElement(Row,{className:\"container\",gutter:[0,12]},forceLoading===2?/*#__PURE__*/React.createElement(React.Fragment,null,data.map(function(item,idx){return/*#__PURE__*/React.createElement(Col,{span:24,key:\"\".concat(idx+1)},/*#__PURE__*/React.createElement(OrganizationCard,{name:item.name,imgUrl:item.logo,containerPath:function containerPath(){return handleOrgItemClick(item);},category:item.category.name,ethics:item.rating.ethics.level,aesthetics:item.rating.aesthetics.level,professional:item.rating.professional.level}));})):/*#__PURE__*/React.createElement(React.Fragment,null,skeleton.map(function(item,idx){return/*#__PURE__*/React.createElement(Col,{span:24,key:\"\".concat(idx+1)},/*#__PURE__*/React.createElement(OrganizationCardSkeleton,null));})))));};","map":{"version":3,"sources":["/Users/zuhriddinkamilzanov/Desktop/tMed-mobile/src/Views/Home/pages/home.jsx"],"names":["React","RootContent","FixedHeader","HomeFixedHeaderComponent","useHomeList","InfiniteScroll","Col","Row","OrganizationCard","useStore","$orgModel","useHistory","generateSkeleton","OrganizationCardSkeleton","skeleton","Home","push","loadMore","$allOrgList","data","result","loading","forceLoading","handleSearchClick","console","log","handleOrgItemClick","item","slug_name","next","nextOffset","map","idx","name","logo","category","rating","ethics","level","aesthetics","professional"],"mappings":"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","sourcesContent":["import React from 'react'\nimport {RootContent} from '../../../UIComponents/GlobalStyles'\nimport {FixedHeader} from '../../../Components/FixedHeader'\nimport {HomeFixedHeaderComponent} from '../organisms'\nimport {useHomeList} from '../../../Hooks/home'\nimport InfiniteScroll from 'react-infinite-scroll-component'\nimport {Col, Row} from 'antd'\nimport {OrganizationCard} from '../../../Components/Cards'\nimport {useStore} from 'effector-react'\nimport {$orgModel} from '../../../Models/org-model'\nimport {useHistory} from 'react-router-dom'\nimport {generateSkeleton} from '../../../utils/skeleton-utils'\nimport {OrganizationCardSkeleton} from '../../../Components/Cards/OrganizationCard'\n\nconst skeleton = generateSkeleton(10)\nexport const Home = () => {\n    const {push} = useHistory()\n    const {loadMore} = useHomeList()\n    const {$allOrgList: {data, result, loading, forceLoading}} = useStore($orgModel)\n    \n    const handleSearchClick = () => {\n        console.log('search icon clicked')\n    }\n    \n    const handleOrgItemClick = (item) => {\n        push(`/${item.slug_name}/offerings`)\n    }\n    \n    return (\n        <RootContent paddingTop={62}>\n            <FixedHeader component={<HomeFixedHeaderComponent searchClick={handleSearchClick}/>}/>\n            <InfiniteScroll\n                next={loadMore}\n                hasMore={!loading && !!result.next}\n                dataLength={result.nextOffset || 10}\n                loader={<>...loading</>}\n            >\n                <Row className='container' gutter={[0, 12]}>\n                    {\n                        forceLoading === 2\n                            ? (\n                                <>\n                                    {\n                                        data.map((item, idx) => (\n                                            <Col span={24} key={`${idx + 1}`}>\n                                                <OrganizationCard\n                                                    name={item.name}\n                                                    imgUrl={item.logo}\n                                                    containerPath={() => handleOrgItemClick(item)}\n                                                    category={item.category.name}\n                                                    ethics={item.rating.ethics.level}\n                                                    aesthetics={item.rating.aesthetics.level}\n                                                    professional={item.rating.professional.level}\n                                                />\n                                            </Col>\n                                        ))\n                                    }\n                                </>\n                            )\n                            : (\n                                <>\n                                    {\n                                        skeleton.map((item, idx) => (\n                                            <Col span={24} key={`${idx + 1}`}>\n                                                <OrganizationCardSkeleton/>\n                                            </Col>\n                                        ))\n                                    }\n                                </>\n                            )\n                    }\n                </Row>\n            </InfiniteScroll>\n        \n        </RootContent>\n    )\n}"]},"metadata":{},"sourceType":"module"}