{"ast":null,"code":"var _jsxFileName = \"/Users/zuhriddinkamilzanov/Desktop/tMed-mobile/src/Views/Records/organisms/info-mat-view.jsx\";\nimport React, { useRef, useState } from 'react';\nimport moment from 'moment';\nimport { Col, Image, Row } from 'antd';\nimport { useStore } from 'effector-react';\nimport { useParams } from 'react-router-dom';\nimport { useTranslation } from 'react-i18next';\nimport { useReactToPrint } from 'react-to-print';\nimport { DetailImageWrapper, RecordDetailWrapper } from '../atoms';\nimport { $accountModel } from '../../../Models/account-model';\nimport { $orderModel } from '../../../Models/order-model';\nimport { Modal } from '../../../UIComponents/Modal';\nimport { IconBox, SkeletonUI } from '../../../UIComponents/GlobalStyles';\nimport { CloseSvg } from '../../../Icons/Close';\nimport { Text } from '../../../UIComponents/Typography/Text';\nimport { Title } from '../../../UIComponents/Typography/Title';\nimport { Button } from '../../../UIComponents/Button';\nimport { OnCloseModal } from './on-close-modal';\nimport { generateQrCodeBase64 } from '../../../utils/qr_code';\nimport qrBlur from '../../../Assets/Images/qr-blur.png';\nexport const InfoMatView = () => {\n  var _data$order_id, _data$order_id2, _data$order_id3, _data$order_id4, _data$order_id5, _data$order_id6, _data$order_id6$respo, _data$order_id6$respo2, _data$order_id7, _data$order_id7$respo, _data$order_id7$respo2, _data$order_id8, _data$order_id8$respo, _data$order_id8$respo2, _data$order_id9, _data$order_id10, _data$order_id10$tota, _currentProfile$curre, _currentProfile$curre2;\n\n  const {\n    t\n  } = useTranslation();\n  const {\n    order_id\n  } = useParams();\n  const [openModal, setModalOpen] = useState(false);\n  const {\n    $profiles: {\n      currentProfile\n    }\n  } = useStore($accountModel);\n  const {\n    $orderDetail: {\n      data,\n      forceLoading,\n      loading\n    }\n  } = useStore($orderModel);\n  const {\n    $orderIdOffers: {\n      data: orderIdOffersData\n    }\n  } = useStore($orderModel);\n  const ref = useRef(null);\n  const handlePrint = useReactToPrint({\n    content: () => ref.current\n  });\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Modal, {\n    centered: true,\n    modalIsOpen: openModal,\n    component: /*#__PURE__*/React.createElement(OnCloseModal, {\n      data: data === null || data === void 0 ? void 0 : data[order_id],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 28\n      }\n    }),\n    onCancel: () => setModalOpen(false),\n    width: 940,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(RecordDetailWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(IconBox, {\n    onClick: () => setModalOpen(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(CloseSvg, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(DetailImageWrapper, {\n    ref: ref,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    gutter: [12, 4],\n    className: \"check-form-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    className: \"qr-code-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 25\n    }\n  }, forceLoading === 2 && (data === null || data === void 0 ? void 0 : data[order_id]) ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Image, {\n    width: 210,\n    height: 210,\n    preview: (data === null || data === void 0 ? void 0 : (_data$order_id = data[order_id]) === null || _data$order_id === void 0 ? void 0 : _data$order_id.status) !== 0 ? {\n      mask: ''\n    } : false,\n    src: (data === null || data === void 0 ? void 0 : (_data$order_id2 = data[order_id]) === null || _data$order_id2 === void 0 ? void 0 : _data$order_id2.status) !== 0 ? generateQrCodeBase64(data === null || data === void 0 ? void 0 : (_data$order_id3 = data[order_id]) === null || _data$order_id3 === void 0 ? void 0 : _data$order_id3.qr_code) : qrBlur,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 41\n    }\n  })) : /*#__PURE__*/React.createElement(SkeletonUI, {\n    animation: \"wave\",\n    variant: \"rect\",\n    width: 210,\n    height: 210,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 39\n    }\n  })), /*#__PURE__*/React.createElement(Col, {\n    className: \"display-style\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Text, {\n    className: \"static-width\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 29\n    }\n  }, `${t('Sana')}: `), data && order_id && data[order_id] && /*#__PURE__*/React.createElement(Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 37\n    }\n  }, moment(data === null || data === void 0 ? void 0 : (_data$order_id4 = data[order_id]) === null || _data$order_id4 === void 0 ? void 0 : _data$order_id4.date).format('DD-MM-YYYY HH:mm'))), /*#__PURE__*/React.createElement(Col, {\n    className: \"display-style\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Text, {\n    className: \"static-width\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 29\n    }\n  }, `${t('Kvitansiya raqami')}: `), /*#__PURE__*/React.createElement(Title, {\n    alignType: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 29\n    }\n  }, data === null || data === void 0 ? void 0 : (_data$order_id5 = data[order_id]) === null || _data$order_id5 === void 0 ? void 0 : _data$order_id5.id)), /*#__PURE__*/React.createElement(Col, {\n    className: \"display-style\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Text, {\n    className: \"static-width\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 29\n    }\n  }, `${t('Tashkilot')}: `), /*#__PURE__*/React.createElement(Title, {\n    alignType: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 29\n    }\n  }, data === null || data === void 0 ? void 0 : (_data$order_id6 = data[order_id]) === null || _data$order_id6 === void 0 ? void 0 : (_data$order_id6$respo = _data$order_id6.responsible) === null || _data$order_id6$respo === void 0 ? void 0 : (_data$order_id6$respo2 = _data$order_id6$respo.org) === null || _data$order_id6$respo2 === void 0 ? void 0 : _data$order_id6$respo2.name)), /*#__PURE__*/React.createElement(Col, {\n    className: \"display-style\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Text, {\n    className: \"static-width\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 29\n    }\n  }, `${t('Mutaxassis')}: `), /*#__PURE__*/React.createElement(Title, {\n    alignType: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 29\n    }\n  }, data === null || data === void 0 ? void 0 : (_data$order_id7 = data[order_id]) === null || _data$order_id7 === void 0 ? void 0 : (_data$order_id7$respo = _data$order_id7.responsible) === null || _data$order_id7$respo === void 0 ? void 0 : (_data$order_id7$respo2 = _data$order_id7$respo.user) === null || _data$order_id7$respo2 === void 0 ? void 0 : _data$order_id7$respo2.full_name)), /*#__PURE__*/React.createElement(Col, {\n    className: \"display-style\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Text, {\n    className: \"static-width\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 29\n    }\n  }, `${t('Bo\\'lim')}: `), /*#__PURE__*/React.createElement(Title, {\n    alignType: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 29\n    }\n  }, data === null || data === void 0 ? void 0 : (_data$order_id8 = data[order_id]) === null || _data$order_id8 === void 0 ? void 0 : (_data$order_id8$respo = _data$order_id8.responsible) === null || _data$order_id8$respo === void 0 ? void 0 : (_data$order_id8$respo2 = _data$order_id8$respo.spec_cat) === null || _data$order_id8$respo2 === void 0 ? void 0 : _data$order_id8$respo2.name)), /*#__PURE__*/React.createElement(Col, {\n    className: \"display-style\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Text, {\n    className: \"static-width\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 29\n    }\n  }, `${t('Foydalanuvchi')}: `), /*#__PURE__*/React.createElement(Title, {\n    alignType: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 29\n    }\n  }, (data === null || data === void 0 ? void 0 : data[order_id]) && (currentProfile === null || currentProfile === void 0 ? void 0 : currentProfile.name) === `${null} ` ? currentProfile === null || currentProfile === void 0 ? void 0 : currentProfile.slug_name : currentProfile === null || currentProfile === void 0 ? void 0 : currentProfile.name)), /*#__PURE__*/React.createElement(Col, {\n    className: \"display-style\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Text, {\n    className: \"static-width\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 29\n    }\n  }, `${t('Uchrashuv vaqti')}: `), /*#__PURE__*/React.createElement(Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 29\n    }\n  }, (data === null || data === void 0 ? void 0 : data[order_id]) && moment(data === null || data === void 0 ? void 0 : (_data$order_id9 = data[order_id]) === null || _data$order_id9 === void 0 ? void 0 : _data$order_id9.meet_date).format('DD-MM-YYYY HH:mm'))), /*#__PURE__*/React.createElement(Col, {\n    className: \"display-style\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Text, {\n    className: \"static-width\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 29\n    }\n  }, `${t('Umumiy narx')}: `), /*#__PURE__*/React.createElement(Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 29\n    }\n  }, (data === null || data === void 0 ? void 0 : data[order_id]) && `${data === null || data === void 0 ? void 0 : (_data$order_id10 = data[order_id]) === null || _data$order_id10 === void 0 ? void 0 : (_data$order_id10$tota = _data$order_id10.total_cost) === null || _data$order_id10$tota === void 0 ? void 0 : _data$order_id10$tota.toLocaleString('fi-Fi')}\n                                                ${currentProfile === null || currentProfile === void 0 ? void 0 : (_currentProfile$curre = currentProfile.currency) === null || _currentProfile$curre === void 0 ? void 0 : (_currentProfile$curre2 = _currentProfile$curre.code) === null || _currentProfile$curre2 === void 0 ? void 0 : _currentProfile$curre2.toUpperCase()}`)), /*#__PURE__*/React.createElement(Col, {\n    className: \"display-style\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Text, {\n    className: \"static-width\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 29\n    }\n  }, `${t('To\\'lov turi')}: `), (data === null || data === void 0 ? void 0 : data[order_id]) && /*#__PURE__*/React.createElement(Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 50\n    }\n  }, \"Naqd\")), /*#__PURE__*/React.createElement(Col, {\n    className: \"display-style\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Text, {\n    className: \"static-width\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 29\n    }\n  }, `${t('Takliflar')}: `)), orderIdOffersData && orderIdOffersData.map((item, idx) => {\n    var _currentProfile$curre3, _currentProfile$curre4;\n\n    return /*#__PURE__*/React.createElement(Col, {\n      span: 24,\n      key: `${idx + 1}`,\n      className: \"display-style\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Title, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 33\n      }\n    }, `${item.offering.name} ${item.qty}x${item.cost.toLocaleString('fi-Fi')}\n                                    ${currentProfile === null || currentProfile === void 0 ? void 0 : (_currentProfile$curre3 = currentProfile.currency) === null || _currentProfile$curre3 === void 0 ? void 0 : (_currentProfile$curre4 = _currentProfile$curre3.code) === null || _currentProfile$curre4 === void 0 ? void 0 : _currentProfile$curre4.toUpperCase()}`));\n  }), /*#__PURE__*/React.createElement(Col, {\n    style: {\n      display: 'flex',\n      justifyContent: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 25\n    }\n  }, (data === null || data === void 0 ? void 0 : data[order_id]) && /*#__PURE__*/React.createElement(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 50\n    }\n  }, \"Haridingiz Uchun Rahmat!\")), /*#__PURE__*/React.createElement(Col, {\n    span: 24,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      border: '1px dashed var(--dark-dwed)'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 29\n    }\n  })))), !loading && data[order_id] && data[order_id].status !== 0 && /*#__PURE__*/React.createElement(Button, {\n    size: \"l\",\n    variant: \"primary\",\n    onClick: handlePrint,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 25\n    }\n  }, t('print_qr_code'))));\n};","map":{"version":3,"sources":["/Users/zuhriddinkamilzanov/Desktop/tMed-mobile/src/Views/Records/organisms/info-mat-view.jsx"],"names":["React","useRef","useState","moment","Col","Image","Row","useStore","useParams","useTranslation","useReactToPrint","DetailImageWrapper","RecordDetailWrapper","$accountModel","$orderModel","Modal","IconBox","SkeletonUI","CloseSvg","Text","Title","Button","OnCloseModal","generateQrCodeBase64","qrBlur","InfoMatView","t","order_id","openModal","setModalOpen","$profiles","currentProfile","$orderDetail","data","forceLoading","loading","$orderIdOffers","orderIdOffersData","ref","handlePrint","content","current","status","mask","qr_code","date","format","id","responsible","org","name","user","full_name","spec_cat","slug_name","meet_date","total_cost","toLocaleString","currency","code","toUpperCase","map","item","idx","offering","qty","cost","display","justifyContent","border"],"mappings":"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","sourcesContent":["import React, {useRef, useState} from 'react'\nimport moment from 'moment'\nimport {Col, Image, Row} from 'antd'\nimport {useStore} from 'effector-react'\nimport {useParams} from 'react-router-dom'\nimport {useTranslation} from 'react-i18next'\nimport {useReactToPrint} from 'react-to-print'\nimport {DetailImageWrapper, RecordDetailWrapper} from '../atoms'\nimport {$accountModel} from '../../../Models/account-model'\nimport {$orderModel} from '../../../Models/order-model'\nimport {Modal} from '../../../UIComponents/Modal'\nimport {IconBox, SkeletonUI} from '../../../UIComponents/GlobalStyles'\nimport {CloseSvg} from '../../../Icons/Close'\nimport {Text} from '../../../UIComponents/Typography/Text'\nimport {Title} from '../../../UIComponents/Typography/Title'\nimport {Button} from '../../../UIComponents/Button'\nimport {OnCloseModal} from './on-close-modal'\nimport {generateQrCodeBase64} from '../../../utils/qr_code'\nimport qrBlur from '../../../Assets/Images/qr-blur.png'\n\nexport const InfoMatView = () => {\n    const {t} = useTranslation()\n    const {order_id} = useParams()\n    const [openModal, setModalOpen] = useState(false)\n    const {$profiles: {currentProfile}} = useStore($accountModel)\n    const {$orderDetail: {data, forceLoading, loading}} = useStore($orderModel)\n    const {$orderIdOffers: {data: orderIdOffersData}} = useStore($orderModel)\n    \n    \n    const ref = useRef(null)\n    const handlePrint = useReactToPrint({\n        content: () => ref.current\n    })\n    \n    return (\n        <>\n            <Modal\n                centered\n                modalIsOpen={openModal}\n                component={<OnCloseModal data={data?.[order_id]}/>}\n                onCancel={() => setModalOpen(false)}\n                width={940}\n            />\n            <RecordDetailWrapper>\n                <IconBox\n                    onClick={() => setModalOpen(true)}\n                >\n                    <CloseSvg/>\n                </IconBox>\n                <DetailImageWrapper ref={ref}>\n                    <Row\n                        gutter={[12, 4]}\n                        className='check-form-wrapper'\n                    >\n                        <Col className='qr-code-wrapper'>\n                            {\n                                forceLoading === 2 && data?.[order_id]\n                                    ? <>\n                                        <Image\n                                            width={210}\n                                            height={210}\n                                            preview={data?.[order_id]?.status !== 0 ? {mask: ''} : false}\n                                            src={\n                                                data?.[order_id]?.status !== 0\n                                                    ? generateQrCodeBase64(data?.[order_id]?.qr_code)\n                                                    : qrBlur\n                                            }\n                                        />\n                                    </>\n                                    : <SkeletonUI animation='wave' variant='rect' width={210} height={210}/>\n                            }\n                        </Col>\n                        <Col className='display-style'>\n                            <Text\n                                className='static-width'\n                            >\n                                {`${t('Sana')}: `}\n                            </Text>\n                            {\n                                data && order_id && data[order_id] && (\n                                    <Title>\n                                        {moment(data?.[order_id]?.date).format('DD-MM-YYYY HH:mm')}\n                                    </Title>\n                                )\n                            }\n                        </Col>\n                        <Col className='display-style'>\n                            <Text\n                                className='static-width'\n                            >\n                                {`${t('Kvitansiya raqami')}: `}\n                            </Text>\n                            <Title alignType='right'>\n                                {data?.[order_id]?.id}\n                            </Title>\n                        </Col>\n                        <Col className='display-style'>\n                            <Text\n                                className='static-width'\n                            >\n                                {`${t('Tashkilot')}: `}\n                            </Text>\n                            <Title alignType='right'>\n                                {data?.[order_id]?.responsible?.org?.name}\n                            </Title>\n                        </Col>\n                        <Col className='display-style'>\n                            <Text\n                                className='static-width'\n                            >\n                                {`${t('Mutaxassis')}: `}\n                            </Text>\n                            <Title alignType='right'>\n                                {data?.[order_id]?.responsible?.user?.full_name}\n                            </Title>\n                        </Col>\n                        <Col className='display-style'>\n                            <Text\n                                className='static-width'\n                            >\n                                {`${t('Bo\\'lim')}: `}\n                            </Text>\n                            <Title alignType='right'>\n                                {data?.[order_id]?.responsible?.spec_cat?.name}\n                            </Title>\n                        </Col>\n                        \n                        <Col className='display-style'>\n                            <Text\n                                className='static-width'\n                            >\n                                {`${t('Foydalanuvchi')}: `}\n                            </Text>\n                            <Title alignType='right'>\n                                {\n                                    data?.[order_id] && currentProfile?.name === `${null} `\n                                        ? currentProfile?.slug_name\n                                        : currentProfile?.name\n                                }\n                            </Title>\n                        </Col>\n                        \n                        <Col className='display-style'>\n                            <Text\n                                className='static-width'\n                            >\n                                {`${t('Uchrashuv vaqti')}: `}\n                            </Text>\n                            <Title>\n                                {data?.[order_id] && moment(data?.[order_id]?.meet_date).format('DD-MM-YYYY HH:mm')}\n                            </Title>\n                        </Col>\n                        <Col className='display-style'>\n                            <Text\n                                className='static-width'\n                            >\n                                {`${t('Umumiy narx')}: `}\n                            </Text>\n                            <Title>\n                                {data?.[order_id] && `${data?.[order_id]?.total_cost?.toLocaleString('fi-Fi')}\n                                                ${currentProfile?.currency?.code?.toUpperCase()}`}\n                            </Title>\n                        </Col>\n                        <Col className='display-style'>\n                            <Text\n                                className='static-width'\n                            >\n                                {`${t('To\\'lov turi')}: `}\n                            </Text>\n                            {data?.[order_id] && <Title>Naqd</Title>}\n                        </Col>\n                        <Col className='display-style'>\n                            <Text\n                                className='static-width'\n                            >\n                                {`${t('Takliflar')}: `}\n                            </Text>\n                        </Col>\n                        {orderIdOffersData && orderIdOffersData.map((item, idx) => (\n                            <Col\n                                span={24}\n                                key={`${idx + 1}`}\n                                className='display-style'\n                            >\n                                <Title>\n                                    {`${item.offering.name} ${item.qty}x${item.cost.toLocaleString('fi-Fi')}\n                                    ${currentProfile?.currency?.code?.toUpperCase()}`}\n                                </Title>\n                            </Col>\n                        ))}\n                        <Col style={{display: 'flex', justifyContent: 'center'}}>\n                            {data?.[order_id] && <Text>Haridingiz Uchun Rahmat!</Text>}\n                        </Col>\n                        <Col span={24}>\n                            <br/>\n                            <div style={{border: '1px dashed var(--dark-dwed)'}}/>\n                        </Col>\n                    </Row>\n                </DetailImageWrapper>\n                {\n                    !loading && data[order_id] && data[order_id].status !== 0 && (\n                        <Button\n                            size='l'\n                            variant='primary'\n                            onClick={handlePrint}\n                        >\n                            {t('print_qr_code')}\n                        </Button>\n                    )\n                }\n            </RecordDetailWrapper>\n        </>\n    )\n}"]},"metadata":{},"sourceType":"module"}