{"ast":null,"code":"import{useCallback}from'react';import{useUrlParams}from'../app';import{useStore}from'effector-react';import order from'../../Service/order';import{useLocation}from'react-router-dom';import{$appModel,saveURLMount}from'../../Models/app';import{$accountModel}from'../../Models/account-model';import{getOrgOrderCartsMount}from'../../Models/order-model';import{changeLoadingStatusOffering,changeOrgOfferingStatus}from'../../Models/offerings-model';export function useOrgOrder(){var _useLocation=useLocation(),pathname=_useLocation.pathname;var _useStore=useStore($appModel),$detectLocationInfo=_useStore.$detectLocationInfo;var _useUrlParams=useUrlParams(),specId=_useUrlParams.urlData.specialist_id;var _useStore2=useStore($accountModel),currentProfile=_useStore2.$profiles.currentProfile;var currency=currentProfile?currentProfile.currency.code:$detectLocationInfo.currency||'';var checkoutOffering=useCallback(function(event){var orgSpecList=event.responsible;if(!event.loading){changeLoadingStatusOffering({id:event.id,status:true});if(!event.inCart){var params={org_slug_name:event.organization,data:{offering_id:event.id,responsible_id:specId?specId:orgSpecList[0].id}};order.postOrgOrderCart(params).then(function(res){if(res){saveURLMount(pathname);changeOrgOfferingStatus({offering_id:params.data.offering_id,status:true,loadingStatus:false});getOrgOrderCartsMount({org_slug_name:event.organization,params:{limit:1,offset:0},clear:true});}}).catch(function(e){console.log(e.response);});}else{order.deleteOrderCart({offering_id:event.id}).then(function(res){if(res){changeOrgOfferingStatus({offering_id:event.id,status:false,loadingStatus:false});getOrgOrderCartsMount({org_slug_name:event.organization,params:{limit:1,offset:0},clear:true});}}).catch(function(e){console.log(e.response);});}}},[specId,pathname]);return{currency:currency,checkoutOffering:checkoutOffering};}","map":null,"metadata":{},"sourceType":"module"}