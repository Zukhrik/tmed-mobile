{"ast":null,"code":"import React from'react';import{Col,Row}from'antd';import{useStore}from'effector-react';import{$orderModel}from'../../../Models/order-model';import{useOrderIdOffers,useOrderOfferIdConclusions}from'../../../Hooks/order';import{RootContent}from'../../../UIComponents/GlobalStyles';import{FixedHeader}from'../../../Components/FixedHeader';import{useParams}from'react-router-dom';import{useOrder}from'../../../Hooks/org';import{useGoBack}from'../../../Hooks/app';import{Avatar}from'../../../UIComponents/Avatar';import{Text}from'../../../UIComponents/Typography/Text';import{useTranslation}from'react-i18next';import{$accountModel}from'../../../Models/account-model';import moment from'moment';import{AccountRecordOfferIdSkeleton}from'./account-record-offer-id-skeleton';export var AccountRecordOfferId=function AccountRecordOfferId(){var _detail$order_id,_detail$order_id2,_detail$order_id2$res,_currentOffer$offerin,_currentOffer$offerin2,_currentOffer$offerin3,_currentProfile$curre;useOrder();useOrderIdOffers();useOrderOfferIdConclusions();var _useTranslation=useTranslation(),t=_useTranslation.t;var _useParams=useParams(),order_id=_useParams.order_id,offer_id=_useParams.offer_id,username=_useParams.username;var _useStore=useStore($accountModel),currentProfile=_useStore.$profiles.currentProfile;var _useStore2=useStore($orderModel),_useStore2$$orderOffe=_useStore2.$orderOffersConclusions,conclusion=_useStore2$$orderOffe.data,conclusionsForceLoading=_useStore2$$orderOffe.forceLoading,_useStore2$$orderDeta=_useStore2.$orderDetail,detail=_useStore2$$orderDeta.data,detailForceLoading=_useStore2$$orderDeta.forceLoading,_useStore2$$orderIdOf=_useStore2.$orderIdOffers,offerList=_useStore2$$orderIdOf.data,orderIdOffersForceLoading=_useStore2$$orderIdOf.forceLoading;var meetDate=detail&&((_detail$order_id=detail[order_id])===null||_detail$order_id===void 0?void 0:_detail$order_id.meet_date);var responsible=detail&&((_detail$order_id2=detail[order_id])===null||_detail$order_id2===void 0?void 0:(_detail$order_id2$res=_detail$order_id2.responsible)===null||_detail$order_id2$res===void 0?void 0:_detail$order_id2$res.user);var currentOffer=offerList&&offerList.find(function(item){return item.id===Number(offer_id);});var _useGoBack=useGoBack({pathname:\"/@\".concat(username,\"/records/\").concat(order_id)}),goBack=_useGoBack.goBack;return/*#__PURE__*/React.createElement(RootContent,{height:\"100vh\",paddingTop:62},/*#__PURE__*/React.createElement(FixedHeader,{title:currentOffer===null||currentOffer===void 0?void 0:(_currentOffer$offerin=currentOffer.offering)===null||_currentOffer$offerin===void 0?void 0:_currentOffer$offerin.name,goBack:goBack}),orderIdOffersForceLoading&&conclusionsForceLoading&&detailForceLoading===2?/*#__PURE__*/React.createElement(Row,{gutter:[0,12],className:\"container\",style:{paddingBottom:65}},currentOffer&&/*#__PURE__*/React.createElement(Col,{span:24},/*#__PURE__*/React.createElement(Row,{wrap:false,gutter:[8,0],align:\"middle\"},/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(Avatar,{size:48,shape:\"square\",imgUrl:currentOffer===null||currentOffer===void 0?void 0:(_currentOffer$offerin2=currentOffer.offering)===null||_currentOffer$offerin2===void 0?void 0:_currentOffer$offerin2.image})),/*#__PURE__*/React.createElement(Col,{flex:1},/*#__PURE__*/React.createElement(Text,{level:5},currentOffer===null||currentOffer===void 0?void 0:(_currentOffer$offerin3=currentOffer.offering)===null||_currentOffer$offerin3===void 0?void 0:_currentOffer$offerin3.name)))),conclusion&&/*#__PURE__*/React.createElement(Col,{span:24,style:{display:'flex',flexDirection:'column',borderBottom:'1px solid #f2f2f2'}},/*#__PURE__*/React.createElement(Text,{color:\"var(--grey-dwed)\",level:4},\"\".concat(t('conclusion'),\":\")),conclusion.map(function(item,idx){return/*#__PURE__*/React.createElement(Col,{span:24,key:\"\".concat(idx+1),dangerouslySetInnerHTML:{__html:item.conclusion}});})),/*#__PURE__*/React.createElement(Col,{span:24},/*#__PURE__*/React.createElement(Row,{wrap:false,justify:\"space-between\"},/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(Text,{color:\"var(--grey-dwed)\",level:4},\"\".concat(t('specialist'),\": \"))),/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(Text,{level:4},responsible===null||responsible===void 0?void 0:responsible.full_name)))),/*#__PURE__*/React.createElement(Col,{span:24},/*#__PURE__*/React.createElement(Row,{wrap:false,justify:\"space-between\"},/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(Text,{color:\"var(--grey-dwed)\",level:4},\"\".concat(t('cost'),\": \"))),currentOffer&&currentProfile&&/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(Text,{level:4},\"\".concat(currentOffer===null||currentOffer===void 0?void 0:currentOffer.cost,\" \").concat(currentProfile===null||currentProfile===void 0?void 0:(_currentProfile$curre=currentProfile.currency)===null||_currentProfile$curre===void 0?void 0:_currentProfile$curre.code))))),/*#__PURE__*/React.createElement(Col,{span:24},/*#__PURE__*/React.createElement(Row,{wrap:false,justify:\"space-between\"},/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(Text,{color:\"var(--grey-dwed)\",level:4},\"\".concat(t('date'),\": \"))),/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(Text,{level:4},meetDate&&moment(meetDate).format('HH:mm DD.MM.YYYY')))))):/*#__PURE__*/React.createElement(AccountRecordOfferIdSkeleton,null));};","map":{"version":3,"sources":["/Users/zuhriddinkamilzanov/Desktop/tMed-mobile/src/Views/Account/organisms/account-record-offer-id.jsx"],"names":["React","Col","Row","useStore","$orderModel","useOrderIdOffers","useOrderOfferIdConclusions","RootContent","FixedHeader","useParams","useOrder","useGoBack","Avatar","Text","useTranslation","$accountModel","moment","AccountRecordOfferIdSkeleton","AccountRecordOfferId","t","order_id","offer_id","username","currentProfile","$profiles","$orderOffersConclusions","conclusion","data","conclusionsForceLoading","forceLoading","$orderDetail","detail","detailForceLoading","$orderIdOffers","offerList","orderIdOffersForceLoading","meetDate","meet_date","responsible","user","currentOffer","find","item","id","Number","pathname","goBack","offering","name","paddingBottom","image","display","flexDirection","borderBottom","map","idx","__html","full_name","cost","currency","code","format"],"mappings":"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","sourcesContent":["import React from 'react'\nimport {Col, Row} from 'antd'\nimport {useStore} from 'effector-react'\nimport {$orderModel} from '../../../Models/order-model'\nimport {useOrderIdOffers, useOrderOfferIdConclusions} from '../../../Hooks/order'\nimport {RootContent} from '../../../UIComponents/GlobalStyles'\nimport {FixedHeader} from '../../../Components/FixedHeader'\nimport {useParams} from 'react-router-dom'\nimport {useOrder} from '../../../Hooks/org'\nimport {useGoBack} from '../../../Hooks/app'\nimport {Avatar} from '../../../UIComponents/Avatar'\nimport {Text} from '../../../UIComponents/Typography/Text'\nimport {useTranslation} from 'react-i18next'\nimport {$accountModel} from '../../../Models/account-model'\nimport moment from 'moment'\nimport {AccountRecordOfferIdSkeleton} from './account-record-offer-id-skeleton'\n\nexport const AccountRecordOfferId = () => {\n    useOrder()\n    useOrderIdOffers()\n    useOrderOfferIdConclusions()\n    const {t} = useTranslation()\n    const {order_id, offer_id, username} = useParams()\n    const {$profiles: {currentProfile}} = useStore($accountModel)\n    const {\n        $orderOffersConclusions: {data: conclusion, forceLoading: conclusionsForceLoading},\n        $orderDetail: {data: detail, forceLoading: detailForceLoading},\n        $orderIdOffers: {data: offerList, forceLoading: orderIdOffersForceLoading}\n    } = useStore($orderModel)\n    const meetDate = detail && detail[order_id]?.meet_date\n    const responsible = detail && detail[order_id]?.responsible?.user\n    const currentOffer = offerList && offerList.find(item => item.id === Number(offer_id))\n    const {goBack} = useGoBack({pathname: `/@${username}/records/${order_id}`})\n    \n    return (\n        <RootContent\n            height='100vh'\n            paddingTop={62}\n        >\n            <FixedHeader\n                title={currentOffer?.offering?.name}\n                goBack={goBack}\n            />\n            {\n                orderIdOffersForceLoading && conclusionsForceLoading && detailForceLoading === 2\n                    ? (\n                        <Row gutter={[0, 12]} className='container' style={{paddingBottom: 65}}>\n                            {\n                                currentOffer && (\n                                    <Col span={24}>\n                                        <Row wrap={false} gutter={[8, 0]} align='middle'>\n                                            <Col>\n                                                <Avatar size={48} shape='square' imgUrl={currentOffer?.offering?.image}/>\n                                            </Col>\n                                            <Col flex={1}>\n                                                <Text level={5}>{currentOffer?.offering?.name}</Text>\n                                            </Col>\n                                        </Row>\n                                    </Col>\n                                )\n                            }\n                            {\n                                conclusion && (\n                                    <Col\n                                        span={24}\n                                        style={{display: 'flex', flexDirection: 'column', borderBottom: '1px solid #f2f2f2'}}\n                                    >\n                                        <Text color='var(--grey-dwed)' level={4}>{`${t('conclusion')}:`}</Text>\n                                        {\n                                            conclusion.map((item, idx) => (\n                                                <Col\n                                                    span={24}\n                                                    key={`${idx + 1}`}\n                                                    dangerouslySetInnerHTML={{__html: item.conclusion}}\n                                                />\n                                            ))\n                                        }\n                                    </Col>\n                                )\n                            }\n                            <Col span={24}>\n                                <Row wrap={false} justify='space-between'>\n                                    <Col>\n                                        <Text color='var(--grey-dwed)' level={4}>{`${t('specialist')}: `}</Text>\n                                    </Col>\n                                    <Col>\n                                        <Text level={4}>{responsible?.full_name}</Text>\n                                    </Col>\n                                </Row>\n                            </Col>\n                            <Col span={24}>\n                                <Row wrap={false} justify='space-between'>\n                                    <Col>\n                                        <Text color='var(--grey-dwed)' level={4}>{`${t('cost')}: `}</Text>\n                                    </Col>\n                                    {\n                                        currentOffer && currentProfile && (\n                                            <Col>\n                                                <Text\n                                                    level={4}>{`${currentOffer?.cost} ${currentProfile?.currency?.code}`}</Text>\n                                            </Col>\n                                        )\n                                    }\n                                </Row>\n                            </Col>\n                            <Col span={24}>\n                                <Row wrap={false} justify='space-between'>\n                                    <Col>\n                                        <Text color='var(--grey-dwed)' level={4}>{`${t('date')}: `}</Text>\n                                    </Col>\n                                    <Col>\n                                        <Text level={4}>{meetDate && moment(meetDate).format('HH:mm DD.MM.YYYY')}</Text>\n                                    </Col>\n                                </Row>\n                            </Col>\n                        </Row>\n                    ) : (\n                        <AccountRecordOfferIdSkeleton/>\n                    )\n            }\n        </RootContent>\n    )\n}"]},"metadata":{},"sourceType":"module"}