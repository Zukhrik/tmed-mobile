{"ast":null,"code":"import _slicedToArray from\"/Users/zuhriddinkamilzanov/Desktop/t-med(mobile)/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useCallback,useState}from'react';import{InfoCard}from'./InfoCard';import{useStore}from'effector-react';import{useGoBack}from'../../Hooks/app';import{$appModel}from'../../Models/app';import{useParams}from'react-router-dom';import{useTranslation}from'react-i18next';import{INFO_MAT}from'../../Constants/app';import{useOrganization}from'../../Hooks/org';import{useCheckout}from'../../Hooks/checkout';import{Button}from'../../UIComponents/Button';import{$orgModel}from'../../Models/org-model';import{$orderModel}from'../../Models/order-model';import{useHandleSurf,useOrgOrderCarts}from'../../Hooks/order';import{RootContent,SkeletonUI}from'../../UIComponents/GlobalStyles';import{CheckoutPageWireframe}from'../../UIComponents/Wireframe/CheckoutPageWireframe';export var Checkout=function Checkout(){var _orgOrderData$organiz,_orgOrderData$organiz2,_orgInfo$organization,_orgOrderData$organiz3,_orgOrderData$organiz4;//Hooks\nvar _useTranslation=useTranslation(),t=_useTranslation.t;var _useParams=useParams(),organization=_useParams.organization;var _useStore=useStore($orderModel),orgOrderData=_useStore.$orgOrderCartList.data;var _useStore2=useStore($orgModel),_useStore2$$organizat=_useStore2.$organizationInfo,orgInfo=_useStore2$$organizat.data,forceLoading=_useStore2$$organizat.forceLoading;var _useStore3=useStore($appModel),$device=_useStore3.$device;//Custom Hooks\nuseOrganization();useOrgOrderCarts();var _useHandleSurf=useHandleSurf(),handleSurf=_useHandleSurf.handleSurf,next=_useHandleSurf.next;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),couponId=_useState2[0],setCouponId=_useState2[1];var _useCheckout=useCheckout(couponId),comment=_useCheckout.comment,handleSubmit=_useCheckout.handleSubmit,meetDate=_useCheckout.meetDate,activeDay=_useCheckout.activeDay,setComment=_useCheckout.setComment,payment=_useCheckout.payment,setPayment=_useCheckout.setPayment;var _useGoBack=useGoBack({pathname:\"/records/unregistered/\".concat(organization)}),goBack=_useGoBack.goBack;var totalCost=(orgOrderData===null||orgOrderData===void 0?void 0:orgOrderData[organization])&&(orgOrderData===null||orgOrderData===void 0?void 0:(_orgOrderData$organiz=orgOrderData[organization])===null||_orgOrderData$organiz===void 0?void 0:(_orgOrderData$organiz2=_orgOrderData$organiz[0])===null||_orgOrderData$organiz2===void 0?void 0:_orgOrderData$organiz2.total_cost);var nextTo=totalCost===0?handleSubmit:!next?handleSurf:handleSubmit;var generateDisabledButton=useCallback(function(){if(next){return!payment.id;}else{return!meetDate;}},[next,meetDate,payment.id]);return/*#__PURE__*/React.createElement(RootContent,{paddingTop:$device&&$device===INFO_MAT?100:70,height:\"100vh\"},/*#__PURE__*/React.createElement(CheckoutPageWireframe,{goBack:goBack,disabled:generateDisabledButton()&&'disabled',title:!next?t('select_meet_time'):t('payment'),title1:forceLoading===2?(_orgInfo$organization=orgInfo[organization])===null||_orgInfo$organization===void 0?void 0:_orgInfo$organization.name:/*#__PURE__*/React.createElement(SkeletonUI,{variant:\"text\",width:320,height:12}),nextTo:nextTo,title3:!next?t('next_to'):t('checkout'),infoCard:/*#__PURE__*/React.createElement(InfoCard,{payment:payment,setPayment:setPayment,comment:comment,meetDate:meetDate,activeDay:activeDay,onChange:function onChange(value){return setComment(value);},setCouponId:setCouponId}),link:$device&&$device!==INFO_MAT&&forceLoading===2&&/*#__PURE__*/React.createElement(React.Fragment,null,orgOrderData&&(orgOrderData===null||orgOrderData===void 0?void 0:(_orgOrderData$organiz3=orgOrderData[organization])===null||_orgOrderData$organiz3===void 0?void 0:(_orgOrderData$organiz4=_orgOrderData$organiz3[0])===null||_orgOrderData$organiz4===void 0?void 0:_orgOrderData$organiz4.total_cost)>0?/*#__PURE__*/React.createElement(React.Fragment,null,!next?/*#__PURE__*/React.createElement(Button,{variant:\"primary\",onClick:handleSurf,disabled:!meetDate},t('next_to')):/*#__PURE__*/React.createElement(Button,{variant:\"primary\",onClick:handleSubmit,disabled:!payment.title},t('checkout'))):/*#__PURE__*/React.createElement(Button,{sile:\"l\",variant:\"primary\",disabled:!meetDate,onClick:handleSubmit},t('checkout')))}));};","map":null,"metadata":{},"sourceType":"module"}