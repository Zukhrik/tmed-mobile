{"ast":null,"code":"import _slicedToArray from\"/Users/zuhriddinkamilzanov/Desktop/tMed-mobile/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useCallback,useState}from'react';import{OfferGroupWrapper,OfferingGroupSearchForm,SpecialistNavLink}from'../style';import{SearchSvg}from'../../../../Icons/Search';import{Col,Row}from'antd';import{useTranslation}from'react-i18next';import{useStore}from'effector-react';import{$orgModel,orgSpecialistsMount}from'../../../../Models/org-model';import{OrgSpecialistCard}from'../../../Cards';import{URL_KEYS}from'../../../../Constants';import{useOrgSpecialistLists,useUrlGenerate}from'../../../../Hooks/org';import InfiniteScroll from'react-infinite-scroll-component';import{useParams}from'react-router-dom';export var OverlaySpecialists=function OverlaySpecialists(){var _useTranslation=useTranslation(),t=_useTranslation.t;var _useParams=useParams(),organization=_useParams.organization;var _useOrgSpecialistList=useOrgSpecialistLists(),loadMore=_useOrgSpecialistList.loadMore;var _useUrlGenerate=useUrlGenerate(),getActive=_useUrlGenerate.getActive,generateUrl=_useUrlGenerate.generateUrl;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),search=_useState2[0],setSearch=_useState2[1];var _useStore=useStore($orgModel),_useStore$$orgSpecial=_useStore.$orgSpecialistsList,data=_useStore$$orgSpecial.data,result=_useStore$$orgSpecial.result,loading=_useStore$$orgSpecial.loading;var handleSubmit=useCallback(function(e){e.preventDefault();if(search.length>2){var params={clear:true,organization:organization,params:{search:search}};orgSpecialistsMount(params);}},[search,organization]);var _onChange=useCallback(function(value){if(value.length===0){var params={clear:true,organization:organization};orgSpecialistsMount(params);}setSearch(value);},[organization]);return/*#__PURE__*/React.createElement(OfferGroupWrapper,{id:\"scrollableSpec\"},/*#__PURE__*/React.createElement(OfferingGroupSearchForm,{onSubmit:handleSubmit},/*#__PURE__*/React.createElement(\"input\",{placeholder:\"\".concat(t('search'),\"...\"),value:search,onChange:function onChange(e){return _onChange(e.target.value);}}),/*#__PURE__*/React.createElement(SearchSvg,null)),/*#__PURE__*/React.createElement(InfiniteScroll,{next:loadMore,dataLength:result.nextOffset||20,hasMore:!loading&&!!(result===null||result===void 0?void 0:result.next),loader:/*#__PURE__*/React.createElement(React.Fragment,null,\"...loading\"),style:{overflow:'hidden',padding:'50px 0'},scrollableTarget:\"scrollableSpec\"},/*#__PURE__*/React.createElement(Row,{gutter:[12,12]},data&&data.map(function(item,idx){return/*#__PURE__*/React.createElement(Col,{className:\"centered\",key:\"\".concat(idx+1),span:8},/*#__PURE__*/React.createElement(SpecialistNavLink,{key:\"\".concat(idx+1),to:generateUrl(URL_KEYS.SPECIALIST_ID,item.id),isActive:function isActive(){return getActive(URL_KEYS.SPECIALIST_ID,item.id);}},/*#__PURE__*/React.createElement(OrgSpecialistCard,{name:item.user.full_name,src:item.user.avatar,category:item.job.name})));}))));};","map":null,"metadata":{},"sourceType":"module"}