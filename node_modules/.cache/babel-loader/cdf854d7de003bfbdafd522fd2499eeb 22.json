{"ast":null,"code":"import React from'react';import{Col,Row}from'antd';import{useStore}from'effector-react';import{useOrder}from'../../../Hooks/org';import{useOrderIdOffers}from'../../../Hooks/order';import{$orderModel}from'../../../Models/order-model';import{RootContent}from'../../../UIComponents/GlobalStyles';import{useHistory,useParams}from'react-router-dom';import{RecordsCard}from'../molecules';import moment from'moment';import{FixedHeader}from'../../../Components/FixedHeader';import{useGoBack}from'../../../Hooks/app';import{useTranslation}from'react-i18next';import{QRCodeCartCardSkeleton}from'../../../Components/Cards';import{generateSkeleton}from'../../../utils/skeleton-utils';var skeleton=generateSkeleton(3);export var AccountRecordsDetail=function AccountRecordsDetail(){var _detail$order_id,_detail$order_id2,_detail$order_id2$res;useOrder();useOrderIdOffers();var _useHistory=useHistory(),push=_useHistory.push,pathname=_useHistory.location.pathname;var _useTranslation=useTranslation(),t=_useTranslation.t;var _useParams=useParams(),order_id=_useParams.order_id;var _useParams2=useParams(),username=_useParams2.username;var _useStore=useStore($orderModel),_useStore$$orderIdOff=_useStore.$orderIdOffers,data=_useStore$$orderIdOff.data,forceLoading=_useStore$$orderIdOff.forceLoading,detail=_useStore.$orderDetail.data;var _useGoBack=useGoBack({pathname:\"/@\".concat(username,\"/records\")}),goBack=_useGoBack.goBack;var meetDate=detail&&((_detail$order_id=detail[order_id])===null||_detail$order_id===void 0?void 0:_detail$order_id.meet_date);var responsible=detail&&((_detail$order_id2=detail[order_id])===null||_detail$order_id2===void 0?void 0:(_detail$order_id2$res=_detail$order_id2.responsible)===null||_detail$order_id2$res===void 0?void 0:_detail$order_id2$res.user);var handleCardClick=function handleCardClick(item){if(item.offering.id){push(\"\".concat(pathname,\"/\").concat(item.id));}};return/*#__PURE__*/React.createElement(RootContent,{paddingTop:62,paddingBottom:65,height:\"100vh\"},/*#__PURE__*/React.createElement(FixedHeader,{title:t('records'),goBack:goBack}),/*#__PURE__*/React.createElement(Row,{className:\"container\",gutter:[0,12]},forceLoading===2&&data?/*#__PURE__*/React.createElement(React.Fragment,null,data.map(function(item,idx){var _responsible$main_cat;return/*#__PURE__*/React.createElement(Col,{span:24,key:\"\".concat(idx+1)},/*#__PURE__*/React.createElement(RecordsCard,{offeringName:item.offering.name,offeringUrl:item.offering.image,orgName:item.offering.org.name,meetTime:moment(meetDate).format('DD.MM.YYYY HH:mm'),specName:responsible===null||responsible===void 0?void 0:responsible.full_name,specCat:responsible===null||responsible===void 0?void 0:(_responsible$main_cat=responsible.main_cat)===null||_responsible$main_cat===void 0?void 0:_responsible$main_cat.name,specSrc:responsible===null||responsible===void 0?void 0:responsible.avatar,containerPath:function containerPath(){return handleCardClick(item);}}));})):/*#__PURE__*/React.createElement(React.Fragment,null,skeleton.map(function(item,idx){return/*#__PURE__*/React.createElement(Col,{span:24,key:\"\".concat(idx+1)},/*#__PURE__*/React.createElement(QRCodeCartCardSkeleton,null));}))));};","map":{"version":3,"sources":["/Users/zuhriddinkamilzanov/Desktop/tMed-mobile/src/Views/Account/organisms/account-records-detail.jsx"],"names":["React","Col","Row","useStore","useOrder","useOrderIdOffers","$orderModel","RootContent","useHistory","useParams","RecordsCard","moment","FixedHeader","useGoBack","useTranslation","QRCodeCartCardSkeleton","generateSkeleton","skeleton","AccountRecordsDetail","push","pathname","location","t","order_id","username","$orderIdOffers","data","forceLoading","detail","$orderDetail","goBack","meetDate","meet_date","responsible","user","handleCardClick","item","offering","id","map","idx","name","image","org","format","full_name","main_cat","avatar"],"mappings":"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","sourcesContent":["import React from 'react'\nimport {Col, Row} from 'antd'\nimport {useStore} from 'effector-react'\nimport {useOrder} from '../../../Hooks/org'\nimport {useOrderIdOffers} from '../../../Hooks/order'\nimport {$orderModel} from '../../../Models/order-model'\nimport {RootContent} from '../../../UIComponents/GlobalStyles'\nimport {useHistory, useParams} from 'react-router-dom'\nimport {RecordsCard} from '../molecules'\nimport moment from 'moment'\nimport {FixedHeader} from '../../../Components/FixedHeader'\nimport {useGoBack} from '../../../Hooks/app'\nimport {useTranslation} from 'react-i18next'\nimport {QRCodeCartCardSkeleton} from '../../../Components/Cards'\nimport {generateSkeleton} from '../../../utils/skeleton-utils'\n\nconst skeleton = generateSkeleton(3)\nexport const AccountRecordsDetail = () => {\n    useOrder()\n    useOrderIdOffers()\n    const {push, location: {pathname}} = useHistory()\n    const {t} = useTranslation()\n    const {order_id} = useParams()\n    const {username} = useParams()\n    const {$orderIdOffers: {data, forceLoading}, $orderDetail: {data: detail}} = useStore($orderModel)\n    const {goBack} = useGoBack({pathname: `/@${username}/records`})\n    const meetDate = detail && detail[order_id]?.meet_date\n    const responsible = detail && detail[order_id]?.responsible?.user\n    \n    const handleCardClick = (item) => {\n        if (item.offering.id) {\n            push(`${pathname}/${item.id}`)\n        }\n    }\n    \n    return (\n        <RootContent\n            paddingTop={62}\n            paddingBottom={65}\n            height='100vh'\n        >\n            <FixedHeader\n                title={t('records')}\n                goBack={goBack}\n            />\n            <Row className='container' gutter={[0, 12]}>\n                {\n                    forceLoading === 2 && data\n                        ? (\n                            <>\n                                {\n                                    data.map((item, idx) => (\n                                        <Col span={24} key={`${idx + 1}`}>\n                                            <RecordsCard\n                                                offeringName={item.offering.name}\n                                                offeringUrl={item.offering.image}\n                                                orgName={item.offering.org.name}\n                                                meetTime={moment(meetDate).format('DD.MM.YYYY HH:mm')}\n                                                specName={responsible?.full_name}\n                                                specCat={responsible?.main_cat?.name}\n                                                specSrc={responsible?.avatar}\n                                                containerPath={() => handleCardClick(item)}\n                                            />\n                                        </Col>\n                                    ))\n                                }\n                            </>\n                        ) : (\n                            <>\n                                {\n                                    skeleton.map((item, idx) => (\n                                        <Col span={24} key={`${idx + 1}`}>\n                                            <QRCodeCartCardSkeleton/>\n                                        </Col>\n                                    ))\n                                }\n                            </>\n                        )\n                }\n            </Row>\n        </RootContent>\n    )\n}"]},"metadata":{},"sourceType":"module"}