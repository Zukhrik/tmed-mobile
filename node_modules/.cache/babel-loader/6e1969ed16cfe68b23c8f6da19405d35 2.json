{"ast":null,"code":"import React from'react';import{useUser}from'../../../Hooks/user';import{useHistory,useParams}from'react-router-dom';import{useStore}from'effector-react';import{$userModel}from'../../../Models/user-model';import{RootContent}from'../../../UIComponents/GlobalStyles';import{FixedHeader}from'../../../Components/FixedHeader';import{UserFixedHeaderComponent}from'../organisms';import{Col,Row}from'antd';import Cookies from'js-cookie';import{getCurrentAccount}from'../../../Models/account-model';import{tokenMount}from'../../../Models/app';import{resetOrderCartList,resetOrgOrderCart}from'../../../Models/order-model';import{AccountHeader,AccountInfoSkeleton}from'../molecules';import{Text}from'../../../UIComponents/Typography/Text';import{ArrowRightSvg}from'../../../Icons/Arrow';import{useTranslation}from'react-i18next';import{AccountBlockItems}from'../atoms';export var Account=function Account(){var _userInfo$main_cat;useUser();var _useTranslation=useTranslation(),t=_useTranslation.t;var _useHistory=useHistory(),push=_useHistory.push;var _useParams=useParams(),username=_useParams.username;var _useStore=useStore($userModel),_useStore$$user=_useStore.$user,data=_useStore$$user.data,forceLoading=_useStore$$user.forceLoading;var userInfo=data&&(data===null||data===void 0?void 0:data[username]);var handleClick=function handleClick(evt){if(evt==='logo'){push('/');}else if(evt==='logout'){Cookies.remove('token');Cookies.remove('users');Cookies.remove('refresh-token');getCurrentAccount();localStorage.removeItem('currentProfile');tokenMount(null);push('/');resetOrgOrderCart();resetOrderCartList();}};return/*#__PURE__*/React.createElement(RootContent,{height:\"100vh\",paddingTop:50},/*#__PURE__*/React.createElement(FixedHeader,{component:/*#__PURE__*/React.createElement(UserFixedHeaderComponent,{logoClick:function logoClick(){return handleClick('logo');},logoutClick:function logoutClick(){return handleClick('logout');}})}),/*#__PURE__*/React.createElement(Row,{gutter:[0,16]},forceLoading===2&&userInfo?/*#__PURE__*/React.createElement(Col,{span:24},/*#__PURE__*/React.createElement(AccountHeader,{imgUrl:userInfo.avatar,name:(userInfo===null||userInfo===void 0?void 0:userInfo.name)===''?userInfo===null||userInfo===void 0?void 0:userInfo.username:\"\".concat(userInfo.name,\" \").concat(userInfo.lastname),category:userInfo===null||userInfo===void 0?void 0:(_userInfo$main_cat=userInfo.main_cat)===null||_userInfo$main_cat===void 0?void 0:_userInfo$main_cat.name})):/*#__PURE__*/React.createElement(Col,{span:24},/*#__PURE__*/React.createElement(AccountInfoSkeleton,null)),/*#__PURE__*/React.createElement(Col,{span:24,onClick:function onClick(){return push(\"/@\".concat(username,\"/about_me\"));}},/*#__PURE__*/React.createElement(AccountBlockItems,null,/*#__PURE__*/React.createElement(Row,{wrap:false,justify:\"space-between\",align:\"middle\"},/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(Text,{level:4},t('about_me')),/*#__PURE__*/React.createElement(Text,{level:5,className:\"item-description\"},t('passport_number_birth_living_place'))),/*#__PURE__*/React.createElement(Col,{className:\"icon\"},/*#__PURE__*/React.createElement(ArrowRightSvg,null))))),/*#__PURE__*/React.createElement(Col,{span:24,onClick:function onClick(){return push(\"/@\".concat(username,\"/records\"));}},/*#__PURE__*/React.createElement(AccountBlockItems,null,/*#__PURE__*/React.createElement(Row,{wrap:false,justify:\"space-between\",align:\"middle\"},/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(Text,{level:4},t('export_opinion'))),/*#__PURE__*/React.createElement(Col,{className:\"icon\"},/*#__PURE__*/React.createElement(ArrowRightSvg,null)))))));};","map":null,"metadata":{},"sourceType":"module"}