{"ast":null,"code":"import _slicedToArray from\"/Users/zuhriddinkamilzanov/Desktop/tMed-mobile/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{v4 as uuidV4}from'uuid';import{useState}from'react';import{useStore}from'effector-react';import{useParams}from'react-router-dom';import{$accountModel}from'../../Models/account-model';import{$appModel,onReplyCommentDataMount}from'../../Models/app';import{createCommentMount,replyCommentMount}from'../../Models/post-model';export function useCreatePostComment(){var _useParams=useParams(),post_id=_useParams.post_id;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),comment=_useState2[0],setComment=_useState2[1];var _useStore=useStore($appModel),onReplyCommentData=_useStore.$app.onReplyCommentData;var _useStore2=useStore($accountModel),currentProfile=_useStore2.$profiles.currentProfile;var handleSubmit=function handleSubmit(e){e.preventDefault();var uuid=uuidV4();if(comment.trim().length>0&&currentProfile){var temp_data={id:uuid,text:comment,date:new Date(),likes_count:0,is_liked:false,sent:true,reply_count:onReplyCommentData?onReplyCommentData.reply_count+1:0,reply_to:onReplyCommentData?onReplyCommentData.id:null,author:{slug_name:currentProfile.slug_name,avatar:currentProfile.avatar,name:currentProfile.name}};var params={post_id:post_id,data:{text:comment},temp_data:temp_data};var reply_params={temp_data:temp_data,post_id:post_id,comment_id:onReplyCommentData.id,data:{text:comment,reply_to:onReplyCommentData.id}};if(onReplyCommentData){replyCommentMount(reply_params);onReplyCommentDataMount('');}else{createCommentMount(params);}}setComment('');};var handleCloseReply=function handleCloseReply(){onReplyCommentDataMount('');};return{handleSubmit:handleSubmit,comment:comment,setComment:setComment,handleCloseReply:handleCloseReply};}","map":null,"metadata":{},"sourceType":"module"}