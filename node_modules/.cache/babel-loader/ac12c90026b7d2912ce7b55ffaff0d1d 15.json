{"ast":null,"code":"import React from'react';import{Col,Row}from'antd';import{useStore}from'effector-react';import{$orderModel}from'../../../Models/order-model';import{useOrderIdOffers,useOrderOfferIdConclusions}from'../../../Hooks/order';import{RootContent}from'../../../UIComponents/GlobalStyles';import{FixedHeader}from'../../../Components/FixedHeader';import{useParams}from'react-router-dom';import{useOrder}from'../../../Hooks/org';import{useGoBack}from'../../../Hooks/app';import{Avatar}from'../../../UIComponents/Avatar';import{Text}from'../../../UIComponents/Typography/Text';import{useTranslation}from'react-i18next';import{ShortCard}from'../../../Components/Cards';import{$accountModel}from'../../../Models/account-model';import moment from'moment';export var AccountRecordOfferId=function AccountRecordOfferId(){var _detail$order_id,_detail$order_id$resp,_detail$order_id$resp2,_detail$order_id2,_detail$order_id3,_detail$order_id3$res,_currentOffer$offerin,_currentOffer$offerin2,_responsible$main_cat,_currentProfile$curre;useOrder();useOrderIdOffers();useOrderOfferIdConclusions();var _useTranslation=useTranslation(),t=_useTranslation.t;var _useParams=useParams(),order_id=_useParams.order_id,offer_id=_useParams.offer_id,username=_useParams.username;var _useStore=useStore($accountModel),currentProfile=_useStore.$profiles.currentProfile;var _useStore2=useStore($orderModel),conclusion=_useStore2.$orderOffersConclusions.data,detail=_useStore2.$orderDetail.data,offerList=_useStore2.$orderIdOffers.data;var orgName=detail&&((_detail$order_id=detail[order_id])===null||_detail$order_id===void 0?void 0:(_detail$order_id$resp=_detail$order_id.responsible)===null||_detail$order_id$resp===void 0?void 0:(_detail$order_id$resp2=_detail$order_id$resp.org)===null||_detail$order_id$resp2===void 0?void 0:_detail$order_id$resp2.name);var meetDate=detail&&((_detail$order_id2=detail[order_id])===null||_detail$order_id2===void 0?void 0:_detail$order_id2.meet_date);var responsible=detail&&((_detail$order_id3=detail[order_id])===null||_detail$order_id3===void 0?void 0:(_detail$order_id3$res=_detail$order_id3.responsible)===null||_detail$order_id3$res===void 0?void 0:_detail$order_id3$res.user);var currentOffer=offerList&&offerList.find(function(item){return item.id===Number(offer_id);});var _useGoBack=useGoBack({pathname:\"/@\".concat(username,\"/records/\").concat(order_id)}),goBack=_useGoBack.goBack;return/*#__PURE__*/React.createElement(RootContent,{height:\"100vh\",paddingTop:62},/*#__PURE__*/React.createElement(FixedHeader,{title:orgName,goBack:goBack}),/*#__PURE__*/React.createElement(Row,{gutter:[0,12],className:\"container\"},currentOffer&&/*#__PURE__*/React.createElement(Col,{span:24},/*#__PURE__*/React.createElement(Row,{wrap:false,gutter:[8,0]},/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(Avatar,{size:48,shape:\"square\",imgUrl:currentOffer===null||currentOffer===void 0?void 0:(_currentOffer$offerin=currentOffer.offering)===null||_currentOffer$offerin===void 0?void 0:_currentOffer$offerin.image})),/*#__PURE__*/React.createElement(Col,{flex:1},/*#__PURE__*/React.createElement(Text,{level:5},currentOffer===null||currentOffer===void 0?void 0:(_currentOffer$offerin2=currentOffer.offering)===null||_currentOffer$offerin2===void 0?void 0:_currentOffer$offerin2.name)))),/*#__PURE__*/React.createElement(Col,{span:24},/*#__PURE__*/React.createElement(Text,null,t('specialist'))),responsible&&/*#__PURE__*/React.createElement(Col,{span:24},/*#__PURE__*/React.createElement(ShortCard,{imgSize:40,imgUrl:responsible===null||responsible===void 0?void 0:responsible.avatar,name:responsible===null||responsible===void 0?void 0:responsible.full_name,text:responsible===null||responsible===void 0?void 0:(_responsible$main_cat=responsible.main_cat)===null||_responsible$main_cat===void 0?void 0:_responsible$main_cat.name})),/*#__PURE__*/React.createElement(Col,{span:24},/*#__PURE__*/React.createElement(Row,{wrap:false,justify:\"space-between\"},/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(Text,null,t('quantity'))),/*#__PURE__*/React.createElement(Col,null,currentOffer===null||currentOffer===void 0?void 0:currentOffer.qty))),/*#__PURE__*/React.createElement(Col,{span:24},/*#__PURE__*/React.createElement(Row,{wrap:false,justify:\"space-between\"},/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(Text,null,t('cost'))),currentOffer&&currentProfile&&/*#__PURE__*/React.createElement(Col,null,\"\".concat(currentOffer===null||currentOffer===void 0?void 0:currentOffer.cost,\" \").concat(currentProfile===null||currentProfile===void 0?void 0:(_currentProfile$curre=currentProfile.currency)===null||_currentProfile$curre===void 0?void 0:_currentProfile$curre.code)))),/*#__PURE__*/React.createElement(Col,{span:24},/*#__PURE__*/React.createElement(Row,{wrap:false,justify:\"space-between\"},/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(Text,null,t('date'))),/*#__PURE__*/React.createElement(Col,null,meetDate&&moment(meetDate).format('DD.MM.YYYY HH:mm')))),/*#__PURE__*/React.createElement(Col,{span:24},/*#__PURE__*/React.createElement(Text,null,t('description'))),conclusion&&conclusion.length>0?/*#__PURE__*/React.createElement(React.Fragment,null,conclusion.map(function(item,idx){return/*#__PURE__*/React.createElement(Col,{span:24,key:\"\".concat(idx+1),dangerouslySetInnerHTML:{__html:item.conclusion}});})):/*#__PURE__*/React.createElement(React.Fragment,null)));};","map":{"version":3,"sources":["/Users/zuhriddinkamilzanov/Desktop/tMed-mobile/src/Views/Account/organisms/account-record-offer-id.jsx"],"names":["React","Col","Row","useStore","$orderModel","useOrderIdOffers","useOrderOfferIdConclusions","RootContent","FixedHeader","useParams","useOrder","useGoBack","Avatar","Text","useTranslation","ShortCard","$accountModel","moment","AccountRecordOfferId","t","order_id","offer_id","username","currentProfile","$profiles","conclusion","$orderOffersConclusions","data","detail","$orderDetail","offerList","$orderIdOffers","orgName","responsible","org","name","meetDate","meet_date","user","currentOffer","find","item","id","Number","pathname","goBack","offering","image","avatar","full_name","main_cat","qty","cost","currency","code","format","length","map","idx","__html"],"mappings":"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","sourcesContent":["import React from 'react'\nimport {Col, Row} from 'antd'\nimport {useStore} from 'effector-react'\nimport {$orderModel} from '../../../Models/order-model'\nimport {useOrderIdOffers, useOrderOfferIdConclusions} from '../../../Hooks/order'\nimport {RootContent} from '../../../UIComponents/GlobalStyles'\nimport {FixedHeader} from '../../../Components/FixedHeader'\nimport {useParams} from 'react-router-dom'\nimport {useOrder} from '../../../Hooks/org'\nimport {useGoBack} from '../../../Hooks/app'\nimport {Avatar} from '../../../UIComponents/Avatar'\nimport {Text} from '../../../UIComponents/Typography/Text'\nimport {useTranslation} from 'react-i18next'\nimport {ShortCard} from '../../../Components/Cards'\nimport {$accountModel} from '../../../Models/account-model'\nimport moment from 'moment'\n\nexport const AccountRecordOfferId = () => {\n    useOrder()\n    useOrderIdOffers()\n    useOrderOfferIdConclusions()\n    const {t} = useTranslation()\n    const {order_id, offer_id, username} = useParams()\n    const {$profiles: {currentProfile}} = useStore($accountModel)\n    const {\n        $orderOffersConclusions: {data: conclusion},\n        $orderDetail: {data: detail},\n        $orderIdOffers: {data: offerList}\n    } = useStore($orderModel)\n    const orgName = detail && detail[order_id]?.responsible?.org?.name\n    const meetDate = detail && detail[order_id]?.meet_date\n    const responsible = detail && detail[order_id]?.responsible?.user\n    const currentOffer = offerList && offerList.find(item => item.id === Number(offer_id))\n    const {goBack} = useGoBack({pathname: `/@${username}/records/${order_id}`})\n    \n    \n    return (\n        <RootContent\n            height='100vh'\n            paddingTop={62}\n        >\n            <FixedHeader\n                title={orgName}\n                goBack={goBack}\n            />\n            <Row gutter={[0, 12]} className='container'>\n                {\n                    currentOffer && (\n                        <Col span={24}>\n                            <Row wrap={false} gutter={[8, 0]}>\n                                <Col>\n                                    <Avatar size={48} shape='square' imgUrl={currentOffer?.offering?.image}/>\n                                </Col>\n                                <Col flex={1}>\n                                    <Text level={5}>{currentOffer?.offering?.name}</Text>\n                                </Col>\n                            </Row>\n                        </Col>\n                    )\n                }\n                <Col span={24}>\n                    <Text>{t('specialist')}</Text>\n                </Col>\n                {\n                    responsible && (\n                        <Col span={24}>\n                            <ShortCard\n                                imgSize={40}\n                                imgUrl={responsible?.avatar}\n                                name={responsible?.full_name}\n                                text={responsible?.main_cat?.name}\n                            />\n                        </Col>\n                    )\n                }\n                <Col span={24}>\n                    <Row wrap={false} justify='space-between'>\n                        <Col>\n                            <Text>{t('quantity')}</Text>\n                        </Col>\n                        <Col>\n                            {currentOffer?.qty}\n                        </Col>\n                    </Row>\n                </Col>\n                <Col span={24}>\n                    <Row wrap={false} justify='space-between'>\n                        <Col>\n                            <Text>{t('cost')}</Text>\n                        </Col>\n                        {\n                            currentOffer && currentProfile && (\n                                <Col>\n                                    {`${currentOffer?.cost} ${currentProfile?.currency?.code}`}\n                                </Col>\n                            )\n                        }\n                    </Row>\n                </Col>\n                <Col span={24}>\n                    <Row wrap={false} justify='space-between'>\n                        <Col>\n                            <Text>{t('date')}</Text>\n                        </Col>\n                        <Col>\n                            {meetDate && moment(meetDate).format('DD.MM.YYYY HH:mm')}\n                        </Col>\n                    </Row>\n                </Col>\n                <Col span={24}>\n                    <Text>{t('description')}</Text>\n                </Col>\n                {\n                    conclusion && conclusion.length > 0\n                        ? (\n                            <>\n                                {\n                                    conclusion.map((item, idx) => (\n                                        <Col span={24} key={`${idx + 1}`}\n                                             dangerouslySetInnerHTML={{__html: item.conclusion}}/>\n                                    ))\n                                }\n                            </>\n                        ) : (\n                            <>\n                            </>\n                        )\n                }\n            </Row>\n        </RootContent>\n    )\n}"]},"metadata":{},"sourceType":"module"}