{"ast":null,"code":"import { useEffect } from 'react';\nimport { URL_KEYS } from '../../Constants';\nimport { useHistory, useParams } from 'react-router-dom';\nimport { useUrlParams } from '../app';\nimport { useQuery } from 'react-query';\nimport orgApi from '../../Service-v2/organization';\nexport function useOfferingSpecIdPush() {\n  const {\n    urlData\n  } = useUrlParams();\n  const {\n    push\n  } = useHistory();\n  const {\n    offering_id\n  } = useParams();\n  const {\n    data: res\n  } = useQuery(['/offers/id', offering_id], () => orgApi.getOfferingId(offering_id), {\n    enabled: !!offering_id\n  });\n  useEffect(() => {\n    let timeout = null;\n    timeout = setTimeout(() => {\n      if (!urlData[URL_KEYS.SPECIALIST_ID]) {\n        var _res$data, _res$data$responsible;\n\n        if ((res === null || res === void 0 ? void 0 : (_res$data = res.data) === null || _res$data === void 0 ? void 0 : (_res$data$responsible = _res$data.responsible) === null || _res$data$responsible === void 0 ? void 0 : _res$data$responsible.length) > 0) {\n          var _res$data2, _res$data2$responsibl;\n\n          push(`?${URL_KEYS.SPECIALIST_ID}=${res === null || res === void 0 ? void 0 : (_res$data2 = res.data) === null || _res$data2 === void 0 ? void 0 : (_res$data2$responsibl = _res$data2.responsible) === null || _res$data2$responsibl === void 0 ? void 0 : _res$data2$responsibl[0].id}`);\n        }\n      }\n    }, 300);\n    return () => {\n      clearTimeout(timeout);\n      timeout = null;\n    };\n  }, [res, urlData, push]);\n}","map":{"version":3,"sources":["/Users/zuhriddinkamilzanov/Desktop/t-med(mobile)/src/Hooks/offerings/use-offering-spec-id-push.js"],"names":["useEffect","URL_KEYS","useHistory","useParams","useUrlParams","useQuery","orgApi","useOfferingSpecIdPush","urlData","push","offering_id","data","res","getOfferingId","enabled","timeout","setTimeout","SPECIALIST_ID","responsible","length","id","clearTimeout"],"mappings":"AAAA,SAAQA,SAAR,QAAwB,OAAxB;AACA,SAAQC,QAAR,QAAuB,iBAAvB;AACA,SAAQC,UAAR,EAAoBC,SAApB,QAAoC,kBAApC;AACA,SAAQC,YAAR,QAA2B,QAA3B;AACA,SAAQC,QAAR,QAAuB,aAAvB;AACA,OAAOC,MAAP,MAAmB,+BAAnB;AAEA,OAAO,SAASC,qBAAT,GAAiC;AACpC,QAAM;AAACC,IAAAA;AAAD,MAAYJ,YAAY,EAA9B;AACA,QAAM;AAACK,IAAAA;AAAD,MAASP,UAAU,EAAzB;AACA,QAAM;AAACQ,IAAAA;AAAD,MAAgBP,SAAS,EAA/B;AAEA,QAAM;AAACQ,IAAAA,IAAI,EAAEC;AAAP,MAAcP,QAAQ,CACxB,CAAC,YAAD,EAAeK,WAAf,CADwB,EAExB,MAAMJ,MAAM,CAACO,aAAP,CAAqBH,WAArB,CAFkB,EAGxB;AACII,IAAAA,OAAO,EAAE,CAAC,CAACJ;AADf,GAHwB,CAA5B;AAQAV,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAIe,OAAO,GAAG,IAAd;AAEAA,IAAAA,OAAO,GAAGC,UAAU,CAAC,MAAM;AACvB,UAAI,CAACR,OAAO,CAACP,QAAQ,CAACgB,aAAV,CAAZ,EAAsC;AAAA;;AAClC,YAAI,CAAAL,GAAG,SAAH,IAAAA,GAAG,WAAH,yBAAAA,GAAG,CAAED,IAAL,iFAAWO,WAAX,gFAAwBC,MAAxB,IAAiC,CAArC,EAAwC;AAAA;;AACpCV,UAAAA,IAAI,CAAE,IAAGR,QAAQ,CAACgB,aAAc,IAAGL,GAA9B,aAA8BA,GAA9B,qCAA8BA,GAAG,CAAED,IAAnC,wEAA8B,WAAWO,WAAzC,0DAA8B,sBAAyB,CAAzB,EAA4BE,EAAG,EAA9D,CAAJ;AACH;AACJ;AACJ,KANmB,EAMjB,GANiB,CAApB;AAQA,WAAO,MAAM;AACTC,MAAAA,YAAY,CAACN,OAAD,CAAZ;AACAA,MAAAA,OAAO,GAAG,IAAV;AACH,KAHD;AAIH,GAfQ,EAeN,CAACH,GAAD,EAAMJ,OAAN,EAAeC,IAAf,CAfM,CAAT;AAgBH","sourcesContent":["import {useEffect} from 'react'\nimport {URL_KEYS} from '../../Constants'\nimport {useHistory, useParams} from 'react-router-dom'\nimport {useUrlParams} from '../app'\nimport {useQuery} from 'react-query'\nimport orgApi from '../../Service-v2/organization'\n\nexport function useOfferingSpecIdPush() {\n    const {urlData} = useUrlParams()\n    const {push} = useHistory()\n    const {offering_id} = useParams()\n    \n    const {data: res} = useQuery(\n        ['/offers/id', offering_id],\n        () => orgApi.getOfferingId(offering_id),\n        {\n            enabled: !!offering_id\n        }\n    )\n    \n    useEffect(() => {\n        let timeout = null\n        \n        timeout = setTimeout(() => {\n            if (!urlData[URL_KEYS.SPECIALIST_ID]) {\n                if (res?.data?.responsible?.length > 0) {\n                    push(`?${URL_KEYS.SPECIALIST_ID}=${res?.data?.responsible?.[0].id}`)\n                }\n            }\n        }, 300)\n        \n        return () => {\n            clearTimeout(timeout)\n            timeout = null\n        }\n    }, [res, urlData, push])\n}"]},"metadata":{},"sourceType":"module"}