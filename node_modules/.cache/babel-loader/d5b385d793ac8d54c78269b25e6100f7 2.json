{"ast":null,"code":"import React,{useCallback}from'react';import{PostCard}from'../../Post';import{useChangeDateLang}from'../../../Hooks/app';import{useHistory,useLocation}from'react-router-dom';import{saveURLMount}from'../../../Models/app';export var TapePost=function TapePost(_ref){var data=_ref.data;var _useHistory=useHistory(),push=_useHistory.push;var _useChangeDateLang=useChangeDateLang(),changeDateLang=_useChangeDateLang.changeDateLang;var _useLocation=useLocation(),pathname=_useLocation.pathname;var getPostHeader=useCallback(function(){var tmp={};if(data.stream_schedule){tmp={isOfficial:undefined,anons:data.stream_schedule.date,imgUrl:data.stream_schedule.stream.logo,name:data.stream_schedule.stream.channel_name};}else{tmp={name:data.author.name,imgUrl:data.author.avatar,isOfficial:data.author.is_official};}return tmp;},[data]);var _handlePush=function handlePush(item){if(item.author.type==='user'){push(\"/@\".concat(data.author.slug_name,\"/tape\"))&&saveURLMount(pathname);}else{push(\"/\".concat(data.author.slug_name,\"/offerings\"))&&saveURLMount(pathname);}};return/*#__PURE__*/React.createElement(React.Fragment,null,data&&Object.values(data).length>0&&/*#__PURE__*/React.createElement(PostCard,{data:data,author:data.author,date:changeDateLang(data.date),postHeaderInfo:getPostHeader(),handlePush:function handlePush(){return _handlePush(data);},postOwner:data.repost||false,newAvatar:data.action&&data.action.key==='new_avatar',newDuty:data.action&&data.action.key==='new_duty'&&data.action.data.new_specialism}));};","map":{"version":3,"sources":["/Users/zuhriddinkamilzanov/Desktop/tMed-mobile/src/Components/TapeTypes/TapePost/index.jsx"],"names":["React","useCallback","PostCard","useChangeDateLang","useHistory","useLocation","saveURLMount","TapePost","data","push","changeDateLang","pathname","getPostHeader","tmp","stream_schedule","isOfficial","undefined","anons","date","imgUrl","stream","logo","name","channel_name","author","avatar","is_official","handlePush","item","type","slug_name","Object","values","length","repost","action","key","new_specialism"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAeC,WAAf,KAAiC,OAAjC,CACA,OAAQC,QAAR,KAAuB,YAAvB,CACA,OAAQC,iBAAR,KAAgC,oBAAhC,CACA,OAAQC,UAAR,CAAoBC,WAApB,KAAsC,kBAAtC,CACA,OAAQC,YAAR,KAA2B,qBAA3B,CAEA,MAAO,IAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,MAAY,IAAVC,CAAAA,IAAU,MAAVA,IAAU,CAChC,gBAAeJ,UAAU,EAAzB,CAAOK,IAAP,aAAOA,IAAP,CACA,uBAAyBN,iBAAiB,EAA1C,CAAOO,cAAP,oBAAOA,cAAP,CACA,iBAAmBL,WAAW,EAA9B,CAAOM,QAAP,cAAOA,QAAP,CAEA,GAAMC,CAAAA,aAAa,CAAGX,WAAW,CAAC,UAAM,CACpC,GAAIY,CAAAA,GAAG,CAAG,EAAV,CACA,GAAIL,IAAI,CAACM,eAAT,CAA0B,CACtBD,GAAG,CAAG,CACFE,UAAU,CAAEC,SADV,CAEFC,KAAK,CAAET,IAAI,CAACM,eAAL,CAAqBI,IAF1B,CAGFC,MAAM,CAAEX,IAAI,CAACM,eAAL,CAAqBM,MAArB,CAA4BC,IAHlC,CAIFC,IAAI,CAAEd,IAAI,CAACM,eAAL,CAAqBM,MAArB,CAA4BG,YAJhC,CAAN,CAMH,CAPD,IAOO,CACHV,GAAG,CAAG,CACFS,IAAI,CAAEd,IAAI,CAACgB,MAAL,CAAYF,IADhB,CAEFH,MAAM,CAAEX,IAAI,CAACgB,MAAL,CAAYC,MAFlB,CAGFV,UAAU,CAAEP,IAAI,CAACgB,MAAL,CAAYE,WAHtB,CAAN,CAKH,CAED,MAAOb,CAAAA,GAAP,CACH,CAlBgC,CAkB9B,CAACL,IAAD,CAlB8B,CAAjC,CAoBA,GAAMmB,CAAAA,WAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,IAAD,CAAU,CACzB,GAAIA,IAAI,CAACJ,MAAL,CAAYK,IAAZ,GAAqB,MAAzB,CAAiC,CAC7BpB,IAAI,aAAMD,IAAI,CAACgB,MAAL,CAAYM,SAAlB,UAAJ,EAA2CxB,YAAY,CAACK,QAAD,CAAvD,CACH,CAFD,IAEO,CACHF,IAAI,YAAKD,IAAI,CAACgB,MAAL,CAAYM,SAAjB,eAAJ,EAA+CxB,YAAY,CAACK,QAAD,CAA3D,CACH,CACJ,CAND,CAQA,mBACI,wCAEQH,IAAI,EAAIuB,MAAM,CAACC,MAAP,CAAcxB,IAAd,EAAoByB,MAApB,CAA6B,CAArC,eACI,oBAAC,QAAD,EACI,IAAI,CAAEzB,IADV,CAEI,MAAM,CAAEA,IAAI,CAACgB,MAFjB,CAGI,IAAI,CAAEd,cAAc,CAACF,IAAI,CAACU,IAAN,CAHxB,CAII,cAAc,CAAEN,aAAa,EAJjC,CAKI,UAAU,CAAE,4BAAMe,CAAAA,WAAU,CAACnB,IAAD,CAAhB,EALhB,CAMI,SAAS,CAAEA,IAAI,CAAC0B,MAAL,EAAe,KAN9B,CAOI,SAAS,CAAE1B,IAAI,CAAC2B,MAAL,EAAe3B,IAAI,CAAC2B,MAAL,CAAYC,GAAZ,GAAoB,YAPlD,CAQI,OAAO,CAAE5B,IAAI,CAAC2B,MAAL,EAAe3B,IAAI,CAAC2B,MAAL,CAAYC,GAAZ,GAAoB,UAAnC,EAAiD5B,IAAI,CAAC2B,MAAL,CAAY3B,IAAZ,CAAiB6B,cAR/E,EAHZ,CADJ,CAkBH,CAnDM","sourcesContent":["import React, {useCallback} from 'react'\r\nimport {PostCard} from '../../Post'\r\nimport {useChangeDateLang} from '../../../Hooks/app'\r\nimport {useHistory, useLocation} from 'react-router-dom'\r\nimport {saveURLMount} from '../../../Models/app'\r\n\r\nexport const TapePost = ({data}) => {\r\n    const {push} = useHistory()\r\n    const {changeDateLang} = useChangeDateLang()\r\n    const {pathname} = useLocation()\r\n    \r\n    const getPostHeader = useCallback(() => {\r\n        let tmp = {}\r\n        if (data.stream_schedule) {\r\n            tmp = {\r\n                isOfficial: undefined,\r\n                anons: data.stream_schedule.date,\r\n                imgUrl: data.stream_schedule.stream.logo,\r\n                name: data.stream_schedule.stream.channel_name\r\n            }\r\n        } else {\r\n            tmp = {\r\n                name: data.author.name,\r\n                imgUrl: data.author.avatar,\r\n                isOfficial: data.author.is_official\r\n            }\r\n        }\r\n        \r\n        return tmp\r\n    }, [data])\r\n    \r\n    const handlePush = (item) => {\r\n        if (item.author.type === 'user') {\r\n            push(`/@${data.author.slug_name}/tape`) && saveURLMount(pathname)\r\n        } else {\r\n            push(`/${data.author.slug_name}/offerings`) && saveURLMount(pathname)\r\n        }\r\n    }\r\n    \r\n    return (\r\n        <>\r\n            {\r\n                data && Object.values(data).length > 0 && (\r\n                    <PostCard\r\n                        data={data}\r\n                        author={data.author}\r\n                        date={changeDateLang(data.date)}\r\n                        postHeaderInfo={getPostHeader()}\r\n                        handlePush={() => handlePush(data)}\r\n                        postOwner={data.repost || false}\r\n                        newAvatar={data.action && data.action.key === 'new_avatar'}\r\n                        newDuty={data.action && data.action.key === 'new_duty' && data.action.data.new_specialism}\r\n                    />\r\n                )\r\n            }\r\n        </>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}