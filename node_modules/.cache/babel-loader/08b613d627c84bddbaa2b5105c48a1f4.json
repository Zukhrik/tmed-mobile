{"ast":null,"code":"import _slicedToArray from\"/Users/zuhriddinkamilzanov/Desktop/t-med(mobile)/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{useParams}from'react-router-dom';import{useGoBack}from'../../../Hooks/app';import{useOfferingOrderInOfferPage}from'../../../Hooks/order';import{useOfferingDetail,useOfferingsCharacs,useOfferingSpecIdPush}from'../../../Hooks/offerings';import{OfferingCharacteristics,OfferingInfo,OfferSpecialists}from'../organisms';import{RootContent,SkeletonUI}from'../../../UIComponents/GlobalStyles';import{FixedHeader}from'../../../Components/FixedHeader';import{Col,Row}from'antd';import{OfferingCreateButton,ProductInfoContentWrapper}from'../atoms';import{OfferingDescription}from'../organisms/offering-description';import{useStore}from'effector-react';import{$offeringsModel}from'../../../Models/offerings-model';import{PARAMS_CHARACTER_TYPE}from'../../../Constants';import{ImageLazyLoad}from'../../../UIComponents/ImageLazyLoad';import{SliderWrapper}from'../../../Components/Slider/style';import{Button}from'../../../UIComponents/Button';import{useTranslation}from'react-i18next';import{$appModel}from'../../../Models/app';import{OverlaySettings}from'../../../Components/Overlay';import{OverlayAuth}from'../../../UIComponents/OverlayAuth';export var OfferingPage=function OfferingPage(){var _res$data,_res$data$organizatio,_res$data2,_res$data3,_res$data4,_res$data5,_res$data6,_res$data7;useOfferingsCharacs();useOfferingSpecIdPush();var _useTranslation=useTranslation(),t=_useTranslation.t;var _useStore=useStore($appModel),token=_useStore.$app.token;var _useStore2=useStore($offeringsModel),data=_useStore2.$offeringsCharacs.data;var _useParams=useParams(),organization=_useParams.organization,offering_id=_useParams.offering_id;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),auth=_useState2[0],setAuth=_useState2[1];var _useOfferingDetail=useOfferingDetail(offering_id),res=_useOfferingDetail.res,isLoading=_useOfferingDetail.isLoading;var _useOfferingOrderInOf=useOfferingOrderInOfferPage(),handleRequest=_useOfferingOrderInOf.handleRequest,setOpenModal=_useOfferingOrderInOf.setOpenModal,openModal=_useOfferingOrderInOf.openModal,buttonLoad=_useOfferingOrderInOf.buttonLoad;var params=data.filter(function(item){return item.character.character_type!==PARAMS_CHARACTER_TYPE.COLOUR_FIELD;});var _useGoBack=useGoBack({pathname:\"/\".concat(organization,\"/offerings\")}),goBack=_useGoBack.goBack;var handleClose=function handleClose(){if(auth){setAuth(false);}setOpenModal(false);};return/*#__PURE__*/React.createElement(RootContent,{paddingTop:50,height:\"100vh\"},/*#__PURE__*/React.createElement(OverlaySettings,{openSettings:openModal,onClose:handleClose,content:/*#__PURE__*/React.createElement(OverlayAuth,{action:handleRequest,auth:auth,setAuth:setAuth,onClose:handleClose})}),/*#__PURE__*/React.createElement(FixedHeader,{title:res===null||res===void 0?void 0:(_res$data=res.data)===null||_res$data===void 0?void 0:(_res$data$organizatio=_res$data.organization)===null||_res$data$organizatio===void 0?void 0:_res$data$organizatio.name,goBack:goBack}),/*#__PURE__*/React.createElement(Row,{gutter:[0,12]},/*#__PURE__*/React.createElement(Col,{span:24},/*#__PURE__*/React.createElement(SliderWrapper,null,!isLoading?/*#__PURE__*/React.createElement(ImageLazyLoad,{alt:res===null||res===void 0?void 0:(_res$data2=res.data)===null||_res$data2===void 0?void 0:_res$data2.image,src:\"\".concat(res===null||res===void 0?void 0:(_res$data3=res.data)===null||_res$data3===void 0?void 0:_res$data3.image)}):/*#__PURE__*/React.createElement(SkeletonUI,{variant:\"rect\",height:300,width:\"100%\"}))),/*#__PURE__*/React.createElement(Col,{span:24},/*#__PURE__*/React.createElement(ProductInfoContentWrapper,null,/*#__PURE__*/React.createElement(Row,{gutter:[0,12]},/*#__PURE__*/React.createElement(Col,{span:24},/*#__PURE__*/React.createElement(OfferingInfo,{loading:isLoading,name:res===null||res===void 0?void 0:(_res$data4=res.data)===null||_res$data4===void 0?void 0:_res$data4.name,cost:res===null||res===void 0?void 0:(_res$data5=res.data)===null||_res$data5===void 0?void 0:_res$data5.cost,qty:res===null||res===void 0?void 0:(_res$data6=res.data)===null||_res$data6===void 0?void 0:_res$data6.qty})),/*#__PURE__*/React.createElement(Col,{span:24},/*#__PURE__*/React.createElement(OfferSpecialists,{res:res,isLoading:isLoading,buttonLoad:buttonLoad,openModal:openModal,handleRequest:handleRequest,setOpenModal:setOpenModal})),/*#__PURE__*/React.createElement(Col,{span:24},/*#__PURE__*/React.createElement(OfferingDescription,{description:res===null||res===void 0?void 0:(_res$data7=res.data)===null||_res$data7===void 0?void 0:_res$data7.description,loading:isLoading})),/*#__PURE__*/React.createElement(Col,{span:24},/*#__PURE__*/React.createElement(OfferingCharacteristics,{params:params}))),/*#__PURE__*/React.createElement(OfferingCreateButton,null,/*#__PURE__*/React.createElement(Button,{loading:buttonLoad,disabled:buttonLoad,variant:\"primary\",className:\"add-to-cart-button\",onClick:function onClick(){return token?handleRequest():setOpenModal(true);}},t('checkout')))))));};","map":null,"metadata":{},"sourceType":"module"}