{"ast":null,"code":"import React,{useCallback}from'react';import{OfferGroupWrapper}from'../style';import{Col,Row}from'antd';import{useStore}from'effector-react';import{OfferingGroupItem}from'../OfferingGroupItem';import{URL_KEYS}from'../../../../Constants';import{useUrlParams}from'../../../../Hooks/app';import{useLocation}from'react-router-dom';import{Input}from'../../../../UIComponents/Inputs';import InfiniteScroll from'react-infinite-scroll-component';import{$offeringsModel}from'../../../../Models/offerings-model';export var OverlayOfferingGroup=function OverlayOfferingGroup(_ref){var loadMore=_ref.loadMore;var _useUrlParams=useUrlParams(),urlData=_useUrlParams.urlData;var _useLocation=useLocation(),pathname=_useLocation.pathname;var groupId=urlData[URL_KEYS.OFFERING_GROUP_ID];var _useStore=useStore($offeringsModel),_useStore$$offeringGr=_useStore.$offeringGroupList,data=_useStore$$offeringGr.data,loading=_useStore$$offeringGr.loading,result=_useStore$$offeringGr.result;var generateUrl=useCallback(function(id){var url=[];if(urlData[URL_KEYS.SPECIALIST_CATEGORY_ID]){url.push(\"\".concat(URL_KEYS.SPECIALIST_CATEGORY_ID,\"=\").concat(urlData[URL_KEYS.SPECIALIST_CATEGORY_ID]));}if(urlData[URL_KEYS.SPECIALIST_ID]){url.push(\"\".concat(URL_KEYS.SPECIALIST_ID,\"=\").concat(urlData[URL_KEYS.SPECIALIST_ID]));}if(!groupId||groupId!==String(id)){url.push(\"\".concat(URL_KEYS.OFFERING_GROUP_ID,\"=\").concat(id));}return{pathname:pathname,search:url.join('&')};},[pathname,groupId,urlData]);return/*#__PURE__*/React.createElement(OfferGroupWrapper,null,/*#__PURE__*/React.createElement(InfiniteScroll,{next:loadMore,dataLength:(result===null||result===void 0?void 0:result.nextOffset)||20,hasMore:!loading&&!!(result===null||result===void 0?void 0:result.next),loader:/*#__PURE__*/React.createElement(React.Fragment,null,\"...loading\")},/*#__PURE__*/React.createElement(Row,{gutter:[12,12]},/*#__PURE__*/React.createElement(Col,{span:24},/*#__PURE__*/React.createElement(Input,null)),data&&data.map(function(item,idx){return/*#__PURE__*/React.createElement(Col,{className:\"centered\",key:\"\".concat(idx+1),span:8},/*#__PURE__*/React.createElement(OfferingGroupItem,{name:item.name,imgUrl:item.image,path:generateUrl(item.id),isActive:function isActive(){return groupId&&groupId===String(item.id);}}));}))));};","map":{"version":3,"sources":["/Users/zuhriddinkamilzanov/Desktop/tMed-mobile/src/Components/Offering/OrgOfferings/OverlayOfferingGroup/index.jsx"],"names":["React","useCallback","OfferGroupWrapper","Col","Row","useStore","OfferingGroupItem","URL_KEYS","useUrlParams","useLocation","Input","InfiniteScroll","$offeringsModel","OverlayOfferingGroup","loadMore","urlData","pathname","groupId","OFFERING_GROUP_ID","$offeringGroupList","data","loading","result","generateUrl","id","url","SPECIALIST_CATEGORY_ID","push","SPECIALIST_ID","String","search","join","nextOffset","next","map","item","idx","name","image"],"mappings":"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","sourcesContent":["import React, {useCallback} from 'react'\nimport {OfferGroupWrapper} from '../style'\nimport {Col, Row} from 'antd'\nimport {useStore} from 'effector-react'\nimport {OfferingGroupItem} from '../OfferingGroupItem'\nimport {URL_KEYS} from '../../../../Constants'\nimport {useUrlParams} from '../../../../Hooks/app'\nimport {useLocation} from 'react-router-dom'\nimport {Input} from '../../../../UIComponents/Inputs'\nimport InfiniteScroll from 'react-infinite-scroll-component'\nimport {$offeringsModel} from '../../../../Models/offerings-model'\n\nexport const OverlayOfferingGroup = ({loadMore}) => {\n    const {urlData} = useUrlParams()\n    const {pathname} = useLocation()\n    const groupId = urlData[URL_KEYS.OFFERING_GROUP_ID]\n    const {$offeringGroupList: {data, loading, result}} = useStore($offeringsModel)\n    \n    const generateUrl = useCallback((id) => {\n        const url = []\n        if (urlData[URL_KEYS.SPECIALIST_CATEGORY_ID]) {\n            url.push(`${URL_KEYS.SPECIALIST_CATEGORY_ID}=${urlData[URL_KEYS.SPECIALIST_CATEGORY_ID]}`)\n        }\n        \n        if (urlData[URL_KEYS.SPECIALIST_ID]) {\n            url.push(`${URL_KEYS.SPECIALIST_ID}=${urlData[URL_KEYS.SPECIALIST_ID]}`)\n        }\n        \n        if (!groupId || groupId !== String(id)) {\n            url.push(`${URL_KEYS.OFFERING_GROUP_ID}=${id}`)\n        }\n        \n        return {\n            pathname,\n            search: url.join('&')\n        }\n    }, [pathname, groupId, urlData])\n    \n    \n    return (\n        <OfferGroupWrapper>\n            <InfiniteScroll\n                next={loadMore}\n                dataLength={result?.nextOffset || 20}\n                hasMore={!loading && !!result?.next}\n                loader={<>...loading</>}\n            >\n                <Row gutter={[12, 12]}>\n                    <Col span={24}>\n                        <Input/>\n                    </Col>\n                    {\n                        data && data.map((item, idx) => (\n                            <Col\n                                className='centered'\n                                key={`${idx + 1}`} span={8}\n                            >\n                                <OfferingGroupItem\n                                    name={item.name}\n                                    imgUrl={item.image}\n                                    path={generateUrl(item.id)}\n                                    isActive={() => groupId && groupId === String(item.id)}\n                                />\n                            </Col>\n                        ))\n                    }\n                </Row>\n            </InfiniteScroll>\n        </OfferGroupWrapper>\n    )\n}"]},"metadata":{},"sourceType":"module"}