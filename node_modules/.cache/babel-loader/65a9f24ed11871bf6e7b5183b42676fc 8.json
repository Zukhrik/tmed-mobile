{"ast":null,"code":"var _jsxFileName = \"/Users/zuhriddinkamilzanov/Desktop/tMed-mobile/src/Components/BottomNavBar/index.jsx\";\nimport React, { Fragment, useCallback, useState } from 'react';\nimport { useStore } from 'effector-react';\nimport { $appModel } from '../../Models/app';\nimport { useLocation } from 'react-router-dom';\nimport { INFO_MAT } from '../../Constants/app';\nimport { useChatCommon } from '../../Hooks/chat';\nimport { IconBox } from '../../UIComponents/GlobalStyles';\nimport { $accountModel } from '../../Models/account-model';\nimport { bottomNavbarWithoutToken, bottomNavbarWithToken } from '../../data';\nimport { BottomNavbarCounter, BottomNavbarItem, BottomNavWrapper, NavLinkItem, NavLinkWrapper } from './style';\nimport { OverlayAuth } from '../../UIComponents/OverlayAuth';\nimport { OverlaySettings } from '../Overlay';\nexport const BottomNavBar = () => {\n  const {\n    pathname\n  } = useLocation();\n  const {\n    getChatList\n  } = useChatCommon();\n  const [auth, setAuth] = useState(false);\n  const {\n    $profiles: {\n      currentProfile\n    }\n  } = useStore($accountModel);\n  const {\n    $app: {\n      token\n    },\n    $socketCounters,\n    $device\n  } = useStore($appModel);\n\n  const generateCustomPath = id => {\n    const customPath = currentProfile && `${currentProfile.url}`;\n    return id.indexOf('profile') !== -1 && customPath;\n  };\n\n  const generateAction = id => {\n    switch (id) {\n      case 'chat':\n        return getChatList;\n\n      default:\n        return false;\n    }\n  };\n\n  const getActive = useCallback(id => {\n    if (id === '/profile') {\n      if (currentProfile) {\n        return pathname.indexOf(currentProfile.slug_name) !== -1;\n      }\n    } else {\n      return pathname === id;\n    }\n  }, [currentProfile, pathname]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(OverlaySettings, {\n    openSettings: auth,\n    onClose: () => setAuth(false),\n    content: /*#__PURE__*/React.createElement(OverlayAuth, {\n      auth: auth,\n      setAuth: setAuth,\n      onClose: () => setAuth(false),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 26\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(BottomNavWrapper, {\n    borderBottom: true,\n    style: {\n      display: $device && $device === INFO_MAT && 'none'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(NavLinkWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 17\n    }\n  }, token && currentProfile ? bottomNavbarWithToken.map(item => {\n    const Icon = item.icon;\n    return /*#__PURE__*/React.createElement(Fragment, {\n      key: item.icon,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(NavLinkItem, {\n      isActive: () => getActive(`${item.id === 'tape' ? '/' : `/${item.id}`}`),\n      onClick: () => item.onClick(generateAction(item.id)),\n      to: item.generatePath(item.path, generateCustomPath(item.id)),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(IconBox, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(Icon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 49\n      }\n    }), item.socketKey && !!$socketCounters[item.socketKey] && /*#__PURE__*/React.createElement(BottomNavbarCounter, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 57\n      }\n    }, $socketCounters[item.socketKey]))));\n  }) : /*#__PURE__*/React.createElement(React.Fragment, null, bottomNavbarWithoutToken.map((item, idx) => {\n    const Icon = item.icon;\n    return /*#__PURE__*/React.createElement(Fragment, {\n      key: `${idx + 1}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 45\n      }\n    }, item.path === '/sign-in' ? /*#__PURE__*/React.createElement(BottomNavbarItem, {\n      onClick: () => setAuth(true),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 59\n      }\n    }, /*#__PURE__*/React.createElement(Icon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 61\n      }\n    })) : /*#__PURE__*/React.createElement(NavLinkItem, {\n      isActive: () => getActive(`${item.id === 'tape' ? '/' : `/${item.id}`}`),\n      onClick: () => item.onClick(generateAction(item.id)),\n      to: item.generatePath(item.path, generateCustomPath(item.id)),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 60\n      }\n    }, /*#__PURE__*/React.createElement(Icon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 65\n      }\n    })));\n  })))));\n};","map":{"version":3,"sources":["/Users/zuhriddinkamilzanov/Desktop/tMed-mobile/src/Components/BottomNavBar/index.jsx"],"names":["React","Fragment","useCallback","useState","useStore","$appModel","useLocation","INFO_MAT","useChatCommon","IconBox","$accountModel","bottomNavbarWithoutToken","bottomNavbarWithToken","BottomNavbarCounter","BottomNavbarItem","BottomNavWrapper","NavLinkItem","NavLinkWrapper","OverlayAuth","OverlaySettings","BottomNavBar","pathname","getChatList","auth","setAuth","$profiles","currentProfile","$app","token","$socketCounters","$device","generateCustomPath","id","customPath","url","indexOf","generateAction","getActive","slug_name","display","map","item","Icon","icon","onClick","generatePath","path","socketKey","idx"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,WAAzB,EAAsCC,QAAtC,QAAqD,OAArD;AACA,SAAQC,QAAR,QAAuB,gBAAvB;AACA,SAAQC,SAAR,QAAwB,kBAAxB;AACA,SAAQC,WAAR,QAA0B,kBAA1B;AACA,SAAQC,QAAR,QAAuB,qBAAvB;AACA,SAAQC,aAAR,QAA4B,kBAA5B;AACA,SAAQC,OAAR,QAAsB,iCAAtB;AACA,SAAQC,aAAR,QAA4B,4BAA5B;AACA,SAAQC,wBAAR,EAAkCC,qBAAlC,QAA8D,YAA9D;AACA,SAAQC,mBAAR,EAA6BC,gBAA7B,EAA+CC,gBAA/C,EAAiEC,WAAjE,EAA8EC,cAA9E,QAAmG,SAAnG;AACA,SAAQC,WAAR,QAA0B,gCAA1B;AACA,SAAQC,eAAR,QAA8B,YAA9B;AAGA,OAAO,MAAMC,YAAY,GAAG,MAAM;AAC9B,QAAM;AAACC,IAAAA;AAAD,MAAaf,WAAW,EAA9B;AACA,QAAM;AAACgB,IAAAA;AAAD,MAAgBd,aAAa,EAAnC;AACA,QAAM,CAACe,IAAD,EAAOC,OAAP,IAAkBrB,QAAQ,CAAC,KAAD,CAAhC;AACA,QAAM;AAACsB,IAAAA,SAAS,EAAE;AAACC,MAAAA;AAAD;AAAZ,MAAgCtB,QAAQ,CAACM,aAAD,CAA9C;AACA,QAAM;AAACiB,IAAAA,IAAI,EAAE;AAACC,MAAAA;AAAD,KAAP;AAAgBC,IAAAA,eAAhB;AAAiCC,IAAAA;AAAjC,MAA4C1B,QAAQ,CAACC,SAAD,CAA1D;;AAEA,QAAM0B,kBAAkB,GAAIC,EAAD,IAAQ;AAC/B,UAAMC,UAAU,GAAGP,cAAc,IAAK,GAAEA,cAAc,CAACQ,GAAI,EAA3D;AACA,WAAOF,EAAE,CAACG,OAAH,CAAW,SAAX,MAA0B,CAAC,CAA3B,IAAgCF,UAAvC;AACH,GAHD;;AAKA,QAAMG,cAAc,GAAIJ,EAAD,IAAQ;AAC3B,YAAQA,EAAR;AACI,WAAK,MAAL;AACI,eAAOV,WAAP;;AACJ;AACI,eAAO,KAAP;AAJR;AAMH,GAPD;;AASA,QAAMe,SAAS,GAAGnC,WAAW,CAAE8B,EAAD,IAAQ;AAClC,QAAIA,EAAE,KAAK,UAAX,EAAuB;AACnB,UAAIN,cAAJ,EAAoB;AAChB,eAAOL,QAAQ,CAACc,OAAT,CAAiBT,cAAc,CAACY,SAAhC,MAA+C,CAAC,CAAvD;AACH;AACJ,KAJD,MAIO;AACH,aAAOjB,QAAQ,KAAKW,EAApB;AACH;AACJ,GAR4B,EAQ1B,CAACN,cAAD,EAAiBL,QAAjB,CAR0B,CAA7B;AAWA,sBACI,uDACI,oBAAC,eAAD;AACI,IAAA,YAAY,EAAEE,IADlB;AAEI,IAAA,OAAO,EAAE,MAAMC,OAAO,CAAC,KAAD,CAF1B;AAGI,IAAA,OAAO,eAAE,oBAAC,WAAD;AACL,MAAA,IAAI,EAAED,IADD;AAEL,MAAA,OAAO,EAAEC,OAFJ;AAGL,MAAA,OAAO,EAAE,MAAMA,OAAO,CAAC,KAAD,CAHjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,eAUI,oBAAC,gBAAD;AACI,IAAA,YAAY,MADhB;AAEI,IAAA,KAAK,EAAE;AAACe,MAAAA,OAAO,EAAET,OAAO,IAAIA,OAAO,KAAKvB,QAAvB,IAAmC;AAA7C,KAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAII,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEQqB,KAAK,IAAIF,cAAT,GACId,qBAAqB,CAAC4B,GAAtB,CAA2BC,IAAD,IAAU;AAChC,UAAMC,IAAI,GAAGD,IAAI,CAACE,IAAlB;AACA,wBACI,oBAAC,QAAD;AAAU,MAAA,GAAG,EAAEF,IAAI,CAACE,IAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,WAAD;AACI,MAAA,QAAQ,EAAE,MAAMN,SAAS,CAAE,GAAEI,IAAI,CAACT,EAAL,KAAY,MAAZ,GAAqB,GAArB,GAA4B,IAAGS,IAAI,CAACT,EAAG,EAAE,EAA7C,CAD7B;AAEI,MAAA,OAAO,EAAE,MAAMS,IAAI,CAACG,OAAL,CAAaR,cAAc,CAACK,IAAI,CAACT,EAAN,CAA3B,CAFnB;AAGI,MAAA,EAAE,EAAES,IAAI,CAACI,YAAL,CAAkBJ,IAAI,CAACK,IAAvB,EAA6Bf,kBAAkB,CAACU,IAAI,CAACT,EAAN,CAA/C,CAHR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAKI,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAGQS,IAAI,CAACM,SAAL,IAAkB,CAAC,CAAClB,eAAe,CAACY,IAAI,CAACM,SAAN,CAAnC,iBACI,oBAAC,mBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACKlB,eAAe,CAACY,IAAI,CAACM,SAAN,CADpB,CAJZ,CALJ,CADJ,CADJ;AAoBH,GAtBD,CADJ,gBAyBI,0CAEQpC,wBAAwB,CAAC6B,GAAzB,CAA6B,CAACC,IAAD,EAAOO,GAAP,KAAe;AACxC,UAAMN,IAAI,GAAGD,IAAI,CAACE,IAAlB;AACA,wBACI,oBAAC,QAAD;AAAU,MAAA,GAAG,EAAG,GAAEK,GAAG,GAAG,CAAE,EAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEQP,IAAI,CAACK,IAAL,KAAc,UAAd,gBACM,oBAAC,gBAAD;AAAkB,MAAA,OAAO,EAAE,MAAMtB,OAAO,CAAC,IAAD,CAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADN,gBAIO,oBAAC,WAAD;AACK,MAAA,QAAQ,EAAE,MAAMa,SAAS,CAAE,GAAEI,IAAI,CAACT,EAAL,KAAY,MAAZ,GAAqB,GAArB,GAA4B,IAAGS,IAAI,CAACT,EAAG,EAAE,EAA7C,CAD9B;AAEK,MAAA,OAAO,EAAE,MAAMS,IAAI,CAACG,OAAL,CAAaR,cAAc,CAACK,IAAI,CAACT,EAAN,CAA3B,CAFpB;AAGK,MAAA,EAAE,EAAES,IAAI,CAACI,YAAL,CAAkBJ,IAAI,CAACK,IAAvB,EAA6Bf,kBAAkB,CAACU,IAAI,CAACT,EAAN,CAA/C,CAHT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAKK,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALL,CANf,CADJ;AAkBH,GApBD,CAFR,CA3BZ,CAJJ,CAVJ,CADJ;AAyEH,CAzGM","sourcesContent":["import React, {Fragment, useCallback, useState} from 'react'\r\nimport {useStore} from 'effector-react'\r\nimport {$appModel} from '../../Models/app'\r\nimport {useLocation} from 'react-router-dom'\r\nimport {INFO_MAT} from '../../Constants/app'\r\nimport {useChatCommon} from '../../Hooks/chat'\r\nimport {IconBox} from '../../UIComponents/GlobalStyles'\r\nimport {$accountModel} from '../../Models/account-model'\r\nimport {bottomNavbarWithoutToken, bottomNavbarWithToken} from '../../data'\r\nimport {BottomNavbarCounter, BottomNavbarItem, BottomNavWrapper, NavLinkItem, NavLinkWrapper} from './style'\r\nimport {OverlayAuth} from '../../UIComponents/OverlayAuth'\r\nimport {OverlaySettings} from '../Overlay'\r\n\r\n\r\nexport const BottomNavBar = () => {\r\n    const {pathname} = useLocation()\r\n    const {getChatList} = useChatCommon()\r\n    const [auth, setAuth] = useState(false)\r\n    const {$profiles: {currentProfile}} = useStore($accountModel)\r\n    const {$app: {token}, $socketCounters, $device} = useStore($appModel)\r\n    \r\n    const generateCustomPath = (id) => {\r\n        const customPath = currentProfile && `${currentProfile.url}`\r\n        return id.indexOf('profile') !== -1 && customPath\r\n    }\r\n    \r\n    const generateAction = (id) => {\r\n        switch (id) {\r\n            case 'chat':\r\n                return getChatList\r\n            default:\r\n                return false\r\n        }\r\n    }\r\n    \r\n    const getActive = useCallback((id) => {\r\n        if (id === '/profile') {\r\n            if (currentProfile) {\r\n                return pathname.indexOf(currentProfile.slug_name) !== -1\r\n            }\r\n        } else {\r\n            return pathname === id\r\n        }\r\n    }, [currentProfile, pathname])\r\n    \r\n    \r\n    return (\r\n        <>\r\n            <OverlaySettings\r\n                openSettings={auth}\r\n                onClose={() => setAuth(false)}\r\n                content={<OverlayAuth\r\n                    auth={auth}\r\n                    setAuth={setAuth}\r\n                    onClose={() => setAuth(false)}\r\n                />}\r\n            />\r\n            <BottomNavWrapper\r\n                borderBottom\r\n                style={{display: $device && $device === INFO_MAT && 'none'}}\r\n            >\r\n                <NavLinkWrapper>\r\n                    {\r\n                        token && currentProfile ? (\r\n                            bottomNavbarWithToken.map((item) => {\r\n                                const Icon = item.icon\r\n                                return (\r\n                                    <Fragment key={item.icon}>\r\n                                        <NavLinkItem\r\n                                            isActive={() => getActive(`${item.id === 'tape' ? '/' : `/${item.id}`}`)}\r\n                                            onClick={() => item.onClick(generateAction(item.id))}\r\n                                            to={item.generatePath(item.path, generateCustomPath(item.id))}\r\n                                        >\r\n                                            <IconBox>\r\n                                                <Icon/>\r\n                                                {\r\n                                                    item.socketKey && !!$socketCounters[item.socketKey] && (\r\n                                                        <BottomNavbarCounter>\r\n                                                            {$socketCounters[item.socketKey]}\r\n                                                        </BottomNavbarCounter>\r\n                                                    )\r\n                                                }\r\n                                            </IconBox>\r\n                                        </NavLinkItem>\r\n                                    </Fragment>\r\n                                )\r\n                            })\r\n                        ) : (\r\n                            <>\r\n                                {\r\n                                    bottomNavbarWithoutToken.map((item, idx) => {\r\n                                        const Icon = item.icon\r\n                                        return (\r\n                                            <Fragment key={`${idx + 1}`}>\r\n                                                {\r\n                                                    item.path === '/sign-in'\r\n                                                        ? <BottomNavbarItem onClick={() => setAuth(true)}>\r\n                                                            <Icon/>\r\n                                                        </BottomNavbarItem>\r\n                                                        : (<NavLinkItem\r\n                                                                isActive={() => getActive(`${item.id === 'tape' ? '/' : `/${item.id}`}`)}\r\n                                                                onClick={() => item.onClick(generateAction(item.id))}\r\n                                                                to={item.generatePath(item.path, generateCustomPath(item.id))}\r\n                                                            >\r\n                                                                <Icon/>\r\n                                                            </NavLinkItem>\r\n                                                        )\r\n                                                }\r\n                                            </Fragment>\r\n                                        )\r\n                                    })\r\n                                }\r\n                            </>\r\n                        )\r\n                    }\r\n                </NavLinkWrapper>\r\n            </BottomNavWrapper>\r\n        </>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}