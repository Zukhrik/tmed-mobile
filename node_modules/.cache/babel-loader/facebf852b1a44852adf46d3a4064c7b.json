{"ast":null,"code":"import _slicedToArray from\"/Users/zuhriddinkamilzanov/Desktop/tMed-mobile/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{Fragment,useCallback,useState}from'react';import{useStore}from'effector-react';import{$appModel}from'../../Models/app';import{useLocation}from'react-router-dom';import{useChatCommon}from'../../Hooks/chat';import{IconBox}from'../../UIComponents/GlobalStyles';import{$accountModel}from'../../Models/account-model';import{bottomNavbarWithoutToken,bottomNavbarWithToken}from'../../data';import{BottomNavbarCounter,BottomNavbarItem,BottomNavWrapper,NavLinkItem,NavLinkWrapper}from'./style';import{OverlayAuth}from'../../UIComponents/OverlayAuth';import{OverlaySettings}from'../Overlay';import{useBodyOverflowHidden}from'../../Hooks/app';export var BottomNavBar=function BottomNavBar(){var _useLocation=useLocation(),pathname=_useLocation.pathname;var _useChatCommon=useChatCommon(),getChatList=_useChatCommon.getChatList;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),auth=_useState2[0],setAuth=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),greetingForm=_useState4[0],setGreetingForm=_useState4[1];var _useStore=useStore($accountModel),currentProfile=_useStore.$profiles.currentProfile;var _useStore2=useStore($appModel),token=_useStore2.$app.token,$socketCounters=_useStore2.$socketCounters;useBodyOverflowHidden(greetingForm);var generateCustomPath=function generateCustomPath(id){var customPath=currentProfile&&\"\".concat(currentProfile.url,\"/tape\");return id.indexOf('profile')!==-1&&customPath;};var generateAction=function generateAction(id){switch(id){case'chat':return getChatList;default:return false;}};var getActive=useCallback(function(id){if(id==='/profile'){if(currentProfile){return pathname.indexOf(currentProfile.slug_name)!==-1;}}else if(id==='/records'){return pathname.slice(0,8)==='/records';}else{return pathname===id;}},[currentProfile,pathname]);var handleClose=function handleClose(){setAuth(false);setGreetingForm(false);};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(OverlaySettings,{openSettings:greetingForm,onClose:handleClose,content:/*#__PURE__*/React.createElement(OverlayAuth,{auth:auth,setAuth:setAuth,onClose:handleClose})}),/*#__PURE__*/React.createElement(BottomNavWrapper,{borderBottom:true},/*#__PURE__*/React.createElement(NavLinkWrapper,null,token&&currentProfile?bottomNavbarWithToken.map(function(item){var Icon=item.icon;return/*#__PURE__*/React.createElement(Fragment,{key:item.icon},/*#__PURE__*/React.createElement(NavLinkItem,{isActive:function isActive(){return getActive(\"\".concat(item.id==='org'?'/':\"/\".concat(item.id)));},onClick:function onClick(){return item.onClick(generateAction(item.id));},to:item.generatePath(item.path,generateCustomPath(item.id))},/*#__PURE__*/React.createElement(IconBox,null,/*#__PURE__*/React.createElement(Icon,null),item.socketKey&&!!$socketCounters[item.socketKey]&&/*#__PURE__*/React.createElement(BottomNavbarCounter,null,$socketCounters[item.socketKey]))));}):bottomNavbarWithoutToken.map(function(item,idx){var Icon=item.icon;return/*#__PURE__*/React.createElement(Fragment,{key:\"\".concat(idx+1)},item.id==='sign-in'||'search'?/*#__PURE__*/React.createElement(BottomNavbarItem,{onClick:function onClick(){return setGreetingForm(true);}},/*#__PURE__*/React.createElement(Icon,null)):/*#__PURE__*/React.createElement(NavLinkItem,{isActive:function isActive(){return getActive(\"\".concat(item.id==='tape'?'/':\"/\".concat(item.id)));},onClick:function onClick(){return item.onClick(generateAction(item.id));},to:item.generatePath(item.path,generateCustomPath(item.id))},/*#__PURE__*/React.createElement(Icon,null)));}))));};","map":null,"metadata":{},"sourceType":"module"}