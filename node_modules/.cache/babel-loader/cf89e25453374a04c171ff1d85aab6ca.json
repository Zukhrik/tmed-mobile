{"ast":null,"code":"import { $chatModel, allChatsMount, chatForceLoading } from '../../Models/chat-model';\nimport { URL_VALUES } from '../../Constants';\nimport { useStore } from 'effector-react';\nimport { useCallback } from 'react';\nimport { useHistory } from 'react-router-dom';\nexport function useChatCommon() {\n  const {\n    $allChatList: {\n      userChatForceLoading\n    }\n  } = useStore($chatModel);\n  const {\n    push\n  } = useHistory();\n  const getChatList = useCallback(path => {\n    if (!userChatForceLoading) {\n      chatForceLoading(URL_VALUES.ALL_CHATS);\n      const data = {\n        clear: true,\n        params: {\n          limit: 10,\n          offset: 0,\n          rtype: 'user'\n        }\n      };\n      allChatsMount(data);\n    }\n\n    if (path) {\n      push(path);\n    }\n  }, [userChatForceLoading, push]);\n  return {\n    getChatList\n  };\n}","map":{"version":3,"sources":["/Users/zuhriddinkamilzanov/Desktop/t-med(mobile)/src/Hooks/chat/use-chat-common.js"],"names":["$chatModel","allChatsMount","chatForceLoading","URL_VALUES","useStore","useCallback","useHistory","useChatCommon","$allChatList","userChatForceLoading","push","getChatList","path","ALL_CHATS","data","clear","params","limit","offset","rtype"],"mappings":"AAAA,SAAQA,UAAR,EAAoBC,aAApB,EAAmCC,gBAAnC,QAA0D,yBAA1D;AACA,SAAQC,UAAR,QAAyB,iBAAzB;AACA,SAAQC,QAAR,QAAuB,gBAAvB;AACA,SAAQC,WAAR,QAA0B,OAA1B;AACA,SAAQC,UAAR,QAAyB,kBAAzB;AAEA,OAAO,SAASC,aAAT,GAAyB;AAC5B,QAAM;AAACC,IAAAA,YAAY,EAAE;AAACC,MAAAA;AAAD;AAAf,MAAyCL,QAAQ,CAACJ,UAAD,CAAvD;AACA,QAAM;AAACU,IAAAA;AAAD,MAASJ,UAAU,EAAzB;AAEA,QAAMK,WAAW,GAAGN,WAAW,CAAEO,IAAD,IAAU;AACtC,QAAI,CAACH,oBAAL,EAA2B;AACvBP,MAAAA,gBAAgB,CAACC,UAAU,CAACU,SAAZ,CAAhB;AACA,YAAMC,IAAI,GAAG;AACTC,QAAAA,KAAK,EAAE,IADE;AAETC,QAAAA,MAAM,EAAE;AACJC,UAAAA,KAAK,EAAE,EADH;AAEJC,UAAAA,MAAM,EAAE,CAFJ;AAGJC,UAAAA,KAAK,EAAE;AAHH;AAFC,OAAb;AAQAlB,MAAAA,aAAa,CAACa,IAAD,CAAb;AACH;;AAED,QAAIF,IAAJ,EAAU;AACNF,MAAAA,IAAI,CAACE,IAAD,CAAJ;AACH;AACJ,GAjB8B,EAiB5B,CAACH,oBAAD,EAAuBC,IAAvB,CAjB4B,CAA/B;AAmBA,SAAO;AACHC,IAAAA;AADG,GAAP;AAGH","sourcesContent":["import {$chatModel, allChatsMount, chatForceLoading} from '../../Models/chat-model'\r\nimport {URL_VALUES} from '../../Constants'\r\nimport {useStore} from 'effector-react'\r\nimport {useCallback} from 'react'\r\nimport {useHistory} from 'react-router-dom'\r\n\r\nexport function useChatCommon() {\r\n    const {$allChatList: {userChatForceLoading}} = useStore($chatModel)\r\n    const {push} = useHistory()\r\n\r\n    const getChatList = useCallback((path) => {\r\n        if (!userChatForceLoading) {\r\n            chatForceLoading(URL_VALUES.ALL_CHATS)\r\n            const data = {\r\n                clear: true,\r\n                params: {\r\n                    limit: 10,\r\n                    offset: 0,\r\n                    rtype: 'user'\r\n                }\r\n            }\r\n            allChatsMount(data)\r\n        }\r\n\r\n        if (path) {\r\n            push(path)\r\n        }\r\n    }, [userChatForceLoading, push])\r\n\r\n    return {\r\n        getChatList\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}