import{A as br,a as g,b as G,c as Ot,d as Ht,e as X,f as Y,g as kr,h as $r,i as Lr,k as xo,l as F,m as Ke,n as ue,p as jr,q as Dr,r as Qt,s as dr,t as Or,u as cr,v as Pr,w as tr,x as He,y as sr,z as fo}from"../../chunk.DBGRN3XE.js";import{$ as bo,C as We,H as be,O as go,S as ko,Z as De,ca as vr,da as U,ea as y,ga as l,i as Nr,ia as c,j as Vr,ja as Wr,k as Gr,ka as d}from"../../chunk.EBXAD6YZ.js";import{K as _,d as s,t as C}from"../../chunk.XJPT76BQ.js";import uo from"react";import{ThemeProvider as Hr}from"styled-components";var Fo={ripple:Nr,scale:Vr,slide:Gr};var Pt=()=>G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24",height:"24",viewBox:"0 0 24 24"},G.createElement("defs",null,G.createElement("path",{id:"photoeditorsdk-icon-add-text",d:"M12 0c6.627 0 12 5.373 12 12s-5.373 12-12 12S0 18.627 0 12 5.373 0 12 0zm1 6h-2v5H6v2h5v5h2v-5h5v-2h-5V6z"})),G.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},G.createElement("mask",{fill:"currentColor"},G.createElement("use",{xlinkHref:"#photoeditorsdk-icon-add-text"})),G.createElement("use",{fill:"currentColor",fillRule:"nonzero",xlinkHref:"#photoeditorsdk-icon-add-text"}))),$t=Pt;var Mt=()=>Ot.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},Ot.createElement("path",{fill:"currentColor",fillOpacity:"0.9",fillRule:"evenodd",stroke:"none",strokeWidth:"1",d:"M12 1c5.523 0 10 4.477 10 10a9.98 9.98 0 01-3.678 7.749c1.877.92 3.445 2.251 4.502 3.88l.176.283-1.743 1.02c-1.04-1.735-2.824-3.102-4.995-3.884A9.94 9.94 0 0112 21a9.962 9.962 0 01-4.255-.948c-2.076.748-3.797 2.033-4.852 3.661l-.147.237L1 22.935c1.053-1.766 2.694-3.204 4.684-4.183A9.975 9.975 0 012 11C2 5.477 6.477 1 12 1zm0 2a8 8 0 100 16 8 8 0 000-16zm0 5a5 5 0 110 10 5 5 0 010-10zm0 2a3 3 0 100 6 3 3 0 000-6zm1-4v1h-2V6h2z"})),Wt=Mt;var jt=()=>Ht.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},Ht.createElement("path",{fill:"currentColor",fillOpacity:"0.9",fillRule:"evenodd",stroke:"none",strokeWidth:"1",d:"M16.23 10.885a2.292 2.292 0 00-2.285-2.286 2.292 2.292 0 00-2.286 2.286 2.292 2.292 0 002.286 2.286 2.292 2.292 0 002.286-2.286zM13.946.599C8.265.6 3.66 5.205 3.66 10.885H.231l4.571 4.571 4.572-4.571H5.945c0-4.423 3.577-8 8-8s8 3.577 8 8a7.994 7.994 0 01-12.64 6.514l-1.623 1.646a10.3 10.3 0 006.263 2.126c5.68 0 10.286-4.606 10.286-10.286S19.625.599 13.945.599z",transform:"rotate(56 11.298 10.261)"})),zt=jt;function Nt(){return X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24",height:"24",viewBox:"0 0 24 24"},X.createElement("defs",null,X.createElement("path",{id:"photoeditorsdk-shuffle-icon",d:"M24 10v8a3 3 0 01-3 3H6v3l-6-4 6-4v3h15a1 1 0 001-1v-8h2zM18 0l6 4-6 4V5H3a1 1 0 00-1 1v8H0V6a3 3 0 013-3h15V0z"})),X.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},X.createElement("mask",{fill:"currentColor"},X.createElement("use",{xlinkHref:"#photoeditorsdk-shuffle-icon"})),X.createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#photoeditorsdk-shuffle-icon"})))}var Vt=Nt;var Gt=()=>Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24",height:"24",viewBox:"0 0 24 24"},Y.createElement("defs",null,Y.createElement("path",{id:"photoeditorsdk-upload-icon",d:"M4.143 17.286l-.001 3.142h15.715v-3.142H23v6.285H1v-6.285h3.143zM12 0l9.429 9.429-2.2 2.2L13.57 5.97v9.743H10.43V5.971L4.77 11.63l-2.2-2.2L12 0z"})),Y.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},Y.createElement("mask",{fill:"currentColor"},Y.createElement("use",{xlinkHref:"#photoeditorsdk-upload-icon"})),Y.createElement("use",{fill:"currentColor",xlinkHref:"#photoeditorsdk-upload-icon"}))),Xt=Gt;var u={addText:$t,openWebcam:Wt,reset:zt,shuffle:Vt,uploadImage:Xt};import P from"react";import Fr from"styled-components";import q from"react";import Jt from"react";import Yt from"styled-components";var Do=Yt(bo)`
  margin: 2px;
  min-width: ${o=>o.theme.measurements.basicCard.large.width}px;
  height: ${o=>o.theme.measurements.basicCard.large.height}px;
  color: ${o=>o.theme.card.foreground};
`;import _t from"styled-components";var Po=_t(bo)`
  margin: 2px;
  min-width: ${o=>o.theme.measurements.basicCard.medium.width}px;
  height: ${o=>o.theme.measurements.basicCard.medium.height}px;
  color: ${o=>o.theme.card.foreground};
`;var ho=o=>{let t=o.type===C.LARGE,e=Po;return t&&(e=Do),Jt.createElement(e,_({},o))};ho.defaultProps={type:C.MEDIUM};import Kt from"styled-components";var $o=Kt(go).attrs(()=>({"data-test":y.CardContainer}))`
  transition-property: width;
  transition-duration: 0.4s;
  transition-timing-function: ease-in;
  height: ${o=>o.theme.measurements.basicToolControlBar.itemsBarHeight}px;
`;import qt from"styled-components";var Oo=qt(Qt)`
  &&& {
    min-height: 32px;
    font-size: ${o=>o.theme.measurements.fontSystem.basicUICardLabel.size}px;
    letter-spacing: ${o=>o.theme.measurements.fontSystem.basicUICardLabel.letterSpacing}px;
    text-transform: ${o=>o.theme.measurements.fontSystem.basicUICardLabel.case};
  }
`;import Zt from"styled-components";var Mo=Zt.div`
  display: flex;
  /* This fixes an IE11 issue where the items are behind the category */
  flex: 1 0 auto;
`;import Rt,{css as Wo}from"styled-components";var Ho=Rt.div`
  position: relative;
  display: flex;
  flex-shrink: 0;
  height: auto;
  transition: max-height 0.4s ease-in-out;
  ${o=>o.show?Wo`
          max-height: 80px;
        `:Wo`
          max-height: 0px;
        `}
`,jo=Ho;Ho.defaultProps={show:!0};import oe from"styled-components";var te=oe.div`
  text-align: -moz-center;
  text-align: center;
  text-align: -webkit-center;
  margin: 0 10vw;
  height: auto;
  box-shadow: ${o=>o.theme.toolControlBar.shadow};
  @media all and (min-width: 0) and (max-width: 599px) {
    margin: 0 5vw;
  }
`,zo=te;import ee from"styled-components";var re=ee.div`
  width: 100px;
  @media all and (min-width: 0) and (max-width: 599px) {
    width: 42px;
  }
`,No=re;import ne,{css as ie}from"styled-components";var Vo=ne.div.attrs(()=>({"data-test":y.ToolControlBarControls}))`
  position: absolute;
  left: 0%;
  transform: translateY(0%) scaleY(0);
  justify-content: center;
  padding: 0 5vw;
  width: 90%;
  height: ${o=>o.theme.measurements.basicToolControlBar.controlsBarHeight}px;
  display: flex;
  align-items: center;
  transition: transform 0.4s ease-in-out;
  z-index: ${o=>o.theme.measurements.zIndex.controlsBar};
  background: ${o=>o.theme.toolControlBar.background};
  color: ${o=>o.theme.toolControlBar.inputLabelForeground};

  ${({show:o})=>o&&ie`
      transform: translateY(-100%) scaleY(1);
    `}
`;import K from"react";import ye from"styled-components";import se from"react";import ae from"styled-components";var le=ae.div`
  display: flex;
  justify-content: center;
  align-items: center;
`,me=({label:o,className:t,children:e})=>se.createElement(le,{"aria-label":o,className:t},e),yo=me;import T from"react";import Jo from"styled-components";import pe from"styled-components";var ce=pe.div`
  display: flex;
  justify-content: center;
  align-items: center;
  animation: ${Fo.scale} 0.2s linear;
  animation-fill-mode: both;
  height: 40px;
  min-width: 350px;
  @media all and (min-width: 0) and (max-width: 599px) {
    min-width: 280px;
  }
`,Go=ce;import Xo from"react";import de,{css as Ce}from"styled-components";var Yo=Ce`
  background: ${o=>o.theme.tabTitle.activeBackground};
  color: ${o=>o.theme.tabTitle.activeForeground};
  border-bottom: 1px solid ${o=>o.theme.tabTitle.activeBorderColor};
`,fe=de(xo)`
  display: inline-flex;
  align-items: center;
  font-size: ${o=>o.theme.measurements.fontSystem.basicUITabLabel.size}px;
  letter-spacing: ${o=>o.theme.measurements.fontSystem.basicUITabLabel.letterSpacing}px;
  text-transform: ${o=>o.theme.measurements.fontSystem.basicUITabLabel.case};
  color: ${o=>o.theme.tabTitle.foreground};
  border-radius: 0px;
  padding: 1px 12px 2px;
  background: ${o=>o.theme.tabTitle.background};

  ${({isActive:o})=>o&&Yo}

  &:active {
    ${Yo}
  }

  @media all and (min-width: 0) and (max-width: 599px) {
    max-width: 150px;
    text-overflow: ellipsis;
    white-space: nowrap;
  }
`,So=class extends Xo.Component{constructor(){super(...arguments);this.onClick=()=>{let{label:t,onClick:e}=this.props;e(t)}}render(){let{activeTab:t,label:e}=this.props;return Xo.createElement(fe,{ariaLabel:e,isActive:t===e,onClick:this.onClick},e)}},_o=So;var he=Jo(be)`
  display: inline-flex;
  padding: 0 4px;
  height: 20px;
  font-size: 16px;
`,ge=Jo(ue)`
  display: inline-flex;
  justify-content: center;
  transform: translate(-100%, -100%);
  @media all and (min-width: 0) and (max-width: 499px) {
    left: 0;
    right: 0;
    transform: translateY(-120%);
    background: transparent;
    button {
      &:first-child {
        border-bottom-right-radius: 0;
        border-top-right-radius: 0;
      }
      &:last-child {
        border-bottom-left-radius: 0;
        border-top-left-radius: 0;
      }
      &:not(:first-child):not(:last-child) {
        border-radius: 0;
      }
    }
  }
`,Ko=class extends T.Component{constructor(t){super(t);this.onTabClick=t=>{this.setState({activeTab:t,toggleExtend:!1})};this.getDropUp=()=>{let{length:t}=this.props,{toggleExtend:e}=this.state,n=T.Children.toArray(this.props.children),i=T.Children.count(this.props.children),m=n.slice(t,i);return T.createElement(ge,{show:e},m.map(a=>{let p=a.props.label||"";return T.createElement(xo,{onClick:()=>this.onTabClick(p),key:p,ariaLabel:"More Options"},p)}))};this.extend=()=>{this.setState(({toggleExtend:t})=>({toggleExtend:!t}))};this.getExtension=()=>T.createElement(he,{onClick:this.extend,ariaLabel:"Select Next"},"...");let e=T.Children.count(this.props.children),n=T.Children.toArray(this.props.children);this.state={activeTab:e&&n[0].props&&n[0].props.label||"",toggleExtend:!1}}render(){let{length:t}=this.props,{activeTab:e,toggleExtend:n}=this.state,i=T.Children.toArray(this.props.children).slice(0,t),m=T.Children.count(this.props.children)>t;return T.createElement("div",null,i.map(a=>{if(a){let p=a.props.label||"";return T.createElement(_o,{activeTab:e,key:p,label:p,onClick:this.onTabClick})}return null}),m?this.getExtension():null,n?this.getDropUp():null,T.Children.map(this.props.children,a=>!a||a.props&&a.props.label!==e?null:T.createElement(Go,{key:a.props.label},a.props.children)))}},J=Ko;var xe=ye.div`
  position: relative;
  white-space: nowrap;
  display: flex;
  transition: all 0.2s linear;
`,ao=class extends K.Component{constructor(t){super(t);this.updateLength=()=>{let{maxWidth:t,children:e}=this.props,n=0;if(t)n=t;else{let a=window.innerWidth,p=a>600?300:200;n=a-p}let i=K.Children.count(e),m=n-i*ao.TAB_WIDTH;if(m<0){let a=Math.round(Math.abs(m/ao.TAB_WIDTH));this.setState({length:i-a})}};this.state={length:K.Children.count(this.props.children)}}componentDidMount(){window.addEventListener("resize",this.updateLength),this.updateLength()}componentWillUnmount(){window.removeEventListener("resize",this.updateLength)}render(){let{children:t}=this.props,{length:e}=this.state;return e?K.createElement(xe,null,K.createElement(J,{length:e},t)):null}},so=ao;so.TAB_WIDTH=120;import Se,{css as Ie}from"styled-components";var Be=Se.div`
  &:after {
    content: '';
    position: absolute;
    bottom: 0px;
    ${o=>o.full?Ie`
            left: -24px;
            width: calc(100% + 48px);
          `:`
      left: 24px;
      width: calc(100% - 48px);
    `}
    border-bottom: 1px solid ${o=>o.theme.toolControlBar.separatorColor};
  }
`,qo=Be;import ke from"styled-components";var Te=ke(l.Input.Slider).attrs(()=>({centerSlider:!0}))`
  max-width: 224px;
`,Qo=Te;import ve,{css as we}from"styled-components";var Ue=ve.div.attrs(()=>({"data-test":y.CategoryItemsContainer}))`
  visibility: hidden;
  opacity: 0;
  display: none;

  ${({show:o})=>o&&we`
      opacity: 1;
      visibility: visible;
      display: flex;
    `}
`,Zo=Ue;import Le,{css as Ro}from"styled-components";var Io=Le.div`
  display: flex;
  flex-shrink: 0;
  justify-content: center;
  position: relative;
  width: 100%;
  z-index: ${o=>o.theme.measurements.zIndex.toolControlBar};

  ${o=>o.show?Ro`
          transition-timing-function: ease-in;
          transition-duration: 0.3s;
          transition-property: all;
          padding: 2px 0px;
          background: ${o.theme.toolControlBar.background};
          color: ${o.theme.toolControlBar.inputLabelForeground};
        `:Ro`
          max-height: 0px;
        `}
`;Io.defaultProps={show:!0};import Ae from"styled-components";var Ee=Ae.div`
  height: ${o=>o.theme.measurements.basicToolControlBar.itemsBarHeight}px;
  width: 2px;
  margin: 0 10px;
  display: inline-flex;
  position: relative;
  &:after {
    content: ' ';
    right: 0px;
    position: absolute;
    top: 8px;
    height: calc(100% - 16px);
    border-right: 1px solid
      ${o=>o.theme.toolControlBar.separatorColor};
  }
`,ot=Ee;import nt from"react";import Pe,{css as it}from"styled-components";import lo,{css as Fe}from"styled-components";var tt=lo.span`
  display: flex;
  cursor: pointer;
  z-index: ${o=>o.theme.measurements.zIndex.label};
  transition: bottom 0.3s linear;
`,et=Fe`
  background-color: ${o=>o.theme.toolbar.activeBackground};
  color: ${o=>o.theme.toolbar.activeForeground};
`,mo=lo(De)`
  display: block;
  height: 100%;
  width: 100%;
  color: ${o=>o.theme.toolbar.foreground};
  background-color: ${o=>o.theme.toolbar.background};
  border: unset;
  box-shadow: unset;
  font-size: ${o=>o.theme.measurements.fontSystem.label.size}px;
  letter-spacing: ${o=>o.theme.measurements.fontSystem.label.letterSpacing}px;
  text-transform: ${o=>o.theme.measurements.fontSystem.label.case};
  font-family: '${o=>o.theme.typography.fontFamily}', sans-serif;

  ${({isActive:o})=>o&&et}

  &:active {
    ${et}
  }

  svg {
    display: flex;
    transition: visibility 0s, opacity 0.5s linear;
    visibility: visible;
    opacity: 1;
  }
`,rt=lo.div`
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
`,po=lo.div.attrs({role:"none"})`
  display: flex;
  height: ${o=>o.theme.measurements.basicUIToolbar.openHeight-2}px;
  text-align: center;
  min-width: 100px;
  /* Allow the text to grow in this limit */
  max-width: 150px;
  position: relative;
  /* Position inline-block box at the top of the line box */
  vertical-align: top;
  /* Allow text to wrap again, overwriting the Toolbar style */
  white-space: normal;
  margin: 1px;
`;var $e=Pe.div`
  display: flex;
  flex-shrink: 0;
  justify-content: center;
  position: relative;
  width: 100%;
  transition: height 0.2s ease-out, display 0.1s fade-out;
  background-color: ${o=>o.theme.toolbar.background};
  color: ${o=>o.theme.toolbar.foreground};
  z-index: ${o=>o.theme.measurements.zIndex.toolbar};

  ${o=>o.show?it`
          height: ${o.theme.measurements.basicUIToolbar.closeHeight}px;
          ${mo} {
            svg {
              visibility: hidden;
              opacity: 0;
              height: 0;
            }
          }
          ${po} {
            height: ${o.theme.measurements.basicUIToolbar.closeHeight}px;
          }
        `:it`
          height: ${o.theme.measurements.basicUIToolbar.openHeight}px;
        `}
`,st=({show:o=!1,children:t})=>nt.createElement($e,{"data-test":y.Toolbar,show:o},nt.createElement(go,null,t));import co from"react";var at=({children:o,label:t,isActive:e,onClick:n})=>co.createElement(po,{"aria-haspopup":!0,"aria-expanded":e},co.createElement(mo,{"data-test":y.ToolbarItem,ariaLabel:t,onClick:n,isActive:e},co.createElement(rt,null,o,co.createElement(tt,null,t))));import Oe,{css as lt}from"styled-components";var Me=Oe.li.attrs({role:"none"})`
  ${o=>o.active?lt`
          height: ${o.theme.measurements.basicUIToolbar.closeHeight}px;
        `:lt`
          height: ${o.theme.measurements.basicUIToolbar.openHeight}px;
        `}
  width: 2px;
  display: inline-block;
  position: relative;
  &:after {
    content: ' ';
    right: 0px;
    position: absolute;
    top: 8px;
    height: calc(100% - 16px);
    border-right: 1px solid
      ${o=>o.theme.toolControlBar.separatorColor};
  }
`,mt=Me;var r={CardContainer:$o,ExpandableContainer:Zo,CategoryContainer:Mo,Card:ho,CardAvatar:We,CardLabel:Oo,Toolbar:{Index:st,Item:at,Separator:mt},BarSeparator:qo,ItemsSeparator:ot,Itemsbar:Io,Controlsbar:jo,ControlsbarContainer:Vo,ResponsiveTabWrapper:so,Slider:Qo,TabWrapper:J,Tab:yo,Other:{ControlsWrapper:zo,EmptyDiv:No}};var je=({config:o,active:t})=>{let{tools:e}=o,n=t.tool,i=p=>{let h=o.state.config[p];if(h.icon){let k=h.icon;return q.createElement(k,null)}let I=He[p];return q.createElement(I,null)||null},m=p=>o.locale[p].title,a=(p,h)=>p&&q.createElement(r.Toolbar.Item,{onClick:()=>t.selectTool(p),key:p,label:m(p),isActive:n===p},i(p))||q.createElement(r.Toolbar.Separator,{key:p+h,active:!!n});return q.createElement(r.Toolbar.Index,{show:!!n},e.map(a))},pt=d("config","active")(c(je));import f from"react";import $ from"react";var ze=({adjustmentsTool:o,custom:t})=>{let e=o.selectedAdjustmentType.toLowerCase(),n=t.getButton("toolControlBarSecondaryButton"),i=()=>{o.toolSnapshot()};return $.createElement(r.ControlsbarContainer,{show:Boolean(e)},$.createElement(n,{tool:s.ADJUSTMENT,ariaLabel:o.locale.controls.buttonReset,onClick:o.reset,icon:$.createElement(u.reset,null),label:o.locale.controls.buttonReset}),$.createElement(r.Other.ControlsWrapper,null,$.createElement(l.Spacer,{count:2}),$.createElement(r.Slider,{"aria-hidden":!e,adjust:!0,style:{width:"280px"},label:o.selectedOptionLabel,value:o[e],onChange:m=>o.editAdjustments({type:e,value:m}),onMouseUp:i,onTouchEnd:i,snap:0}),$.createElement(l.Spacer,{count:2}),$.createElement(r.BarSeparator,null)),$.createElement(r.Other.EmptyDiv,null))},ct=d("adjustmentsTool","custom")(c(ze));import v from"react";var Ne=r.TabWrapper,{Tab:Bo}=r,Ve=({brushTool:o,custom:t})=>{let{colorList:e,locale:n,localeColor:i}=o,m=n.controls,a=i.colorPicker,p=t.getButton("toolControlBarSecondaryButton");return v.createElement(r.ControlsbarContainer,{style:{justifyContent:"center"},show:!0},v.createElement(p,{tool:s.BRUSH,ariaLabel:m.buttonReset,onClick:o.reset,icon:v.createElement(u.reset,null),isDisabled:!o.isDirty,label:m.buttonReset}),v.createElement(r.Other.ControlsWrapper,null,v.createElement(l.Input.Form,null,v.createElement(Ne,null,v.createElement(Bo,{label:m.tabColor},v.createElement(l.Spacer,{count:1}),v.createElement(l.Input.Selection,{showLabel:!1,label:m.selectColor},v.createElement(F,{activeColor:o.color,colors:e,labelsColor:a,colorPickerDirection:"top",onChange:o.changeColor}))),v.createElement(Bo,{label:m.tabSize},v.createElement(r.Slider,{"data-test":y.BrushSize,style:{width:"280px"},showLabel:!1,label:m.sliderSize,value:o.relativeSize,min:1,max:100,divider:1,onChange:o.changeRelativeSize})),v.createElement(Bo,{label:m.tabHardness},v.createElement(r.Slider,{"data-test":y.BrushHardness,style:{width:"280px"},showLabel:!1,label:m.sliderHardness,value:o.hardness,min:0,max:1,onChange:o.changeHardness}))))))},dt=d("brushTool","custom")(c(Ve));import O from"react";var Ge=({filterTool:o,custom:t})=>{let{state:e}=o,n=o.locale.controls,i=t.getButton("toolControlBarSecondaryButton"),m=()=>{o.toolSnapshot()};return O.createElement(r.ControlsbarContainer,{show:o.isOptionSelected},O.createElement(i,{tool:s.FILTER,ariaLabel:o.locale.controls.buttonReset,onClick:o.reset,icon:O.createElement(u.reset,null),label:o.locale.controls.buttonReset}),O.createElement(r.Other.ControlsWrapper,null,O.createElement(l.Spacer,{count:2}),O.createElement(r.Slider,{"aria-hidden":!o.isOptionSelected,style:{width:"280px"},label:n.sliderIntensity,value:e.intensity,min:0,max:1,onMouseUp:m,onTouchEnd:m,onChange:o.changeIntensity,snap:e.isDuotone?.5:null}),O.createElement(l.Spacer,{count:2}),O.createElement(r.BarSeparator,null)),O.createElement(r.Other.EmptyDiv,null))},Ct=d("filterTool","custom")(c(Ge));import M from"react";var ft=c(()=>{let{focusTool:o,custom:t}=ko(),e=o.locale.controls,n=t.getButton("toolControlBarSecondaryButton"),i=()=>{o.toolSnapshot(e.sliderIntensity)};return M.createElement(r.ControlsbarContainer,{show:o.isOptionSelected},M.createElement(n,{tool:s.FOCUS,ariaLabel:e.buttonReset,onClick:o.reset,icon:M.createElement(u.reset,null),label:e.buttonReset}),M.createElement(r.Other.ControlsWrapper,null,M.createElement(l.Spacer,{count:2}),M.createElement(r.Slider,{"aria-hidden":!o.isOptionSelected,style:{width:"280px"},label:e.sliderIntensity,value:o.relativeIntensity,min:0,max:100,divider:1,onChange:o.changeRelativeIntensity,onMouseUp:i,onTouchEnd:i}),M.createElement(l.Spacer,{count:2}),M.createElement(r.BarSeparator,null)),M.createElement(r.Other.EmptyDiv,null))});import B from"react";var Xe=r.TabWrapper,{Tab:To}=r,Ye=({frameTool:o,custom:t})=>{let e=o.locale.controls,n=o.localeColor.colorPicker,{tintable:i,colorList:m}=o,a=t.getButton("toolControlBarSecondaryButton"),p=h=>{o.toolSnapshot(h)};return B.createElement(r.ControlsbarContainer,{show:o.isOptionSelected},B.createElement(a,{tool:s.FRAME,ariaLabel:e.buttonReset,onClick:o.reset,icon:B.createElement(u.reset,null),label:e.buttonReset}),B.createElement(r.Other.ControlsWrapper,null,B.createElement(l.Spacer,null),B.createElement(Xe,null,B.createElement(To,{label:e.tabOpacity},B.createElement(r.Slider,{"aria-hidden":!o.isOptionSelected,showLabel:!1,style:{width:"280px"},label:e.sliderOpacity,value:o.opacity,min:0,max:1,onChange:o.changeOpacity,onMouseUp:()=>{p(e.sliderOpacity)},onTouchEnd:()=>{p(e.sliderOpacity)}})),B.createElement(To,{label:e.tabSize},B.createElement(r.Slider,{"aria-hidden":!o.isOptionSelected,showLabel:!1,style:{width:"280px"},label:e.sliderSize,value:o.size,min:o.minSize,max:o.maxSize,divider:1,onChange:o.changeWidth,onMouseUp:()=>{p(e.sliderSize)},onTouchEnd:()=>{p(e.sliderSize)}})),i&&B.createElement(To,{label:e.tabColor},B.createElement(l.Spacer,{count:1}),B.createElement(l.Input.Selection,{label:e.selectColor,showLabel:!1},B.createElement(F,{activeColor:o.color,colors:m,labelsColor:n,colorPickerDirection:"top",onChange:o.changeColor,onAddSnapshot:o.colorSnapshot})))||null),B.createElement(r.BarSeparator,null)),B.createElement(r.Other.EmptyDiv,null))},ut=d("frameTool","canvas","custom")(c(Ye));import W from"react";import _e,{css as Je}from"styled-components";var qe=_e(r.ControlsbarContainer)`
  ${o=>o.firstChildMargin&&Je`
      > :first-child {
        margin-right: 16px;
      }
    `}
`,Qe=({library:o,active:t,custom:e})=>{let n=o.locale.controls.placeholderSearch,{config:i}=o,m=e.getButton("toolControlBarPrimaryButton"),a=k=>{o.fetchImages(k)},p=k=>{let{files:N}=k.target;if(N.length){let S=new FileReader;S.onload=V=>{t.newImage(V.target.result)},S.readAsDataURL(N[0])}},h=()=>{t.selectWebcam(!0)},I=()=>{let k=document.getElementById("fileUpload");k&&k.click()};return W.createElement(qe,{firstChildMargin:i.enableWebcam&&!o.libraryProvider,show:!0},i.enableUpload&&W.createElement(m,{tool:s.LIBRARY,ariaLabel:o.locale.controls.buttonUpload,onClick:I,icon:W.createElement(u.uploadImage,null),label:o.locale.controls.buttonUpload},W.createElement(l.Input.File,{onChange:p})),o.libraryProvider&&W.createElement(r.Other.ControlsWrapper,null,W.createElement(l.Input.Search,{onChange:a,placeholder:n})),i.enableWebcam&&W.createElement(Ke,{tool:s.LIBRARY,onClick:h,icon:W.createElement(u.openWebcam,null),label:o.locale.controls.buttonWebcamOpen}),W.createElement(r.BarSeparator,null))},bt=d("library","active","custom")(c(Qe));import E from"react";var Ze=r.TabWrapper,{Tab:ht}=r,Re=({overlayTool:o,custom:t})=>{let{state:e}=o,n=o.locale.controls,{allBlendModes:i}=o,{blendMode:m}=o,a=t.getButton("toolControlBarSecondaryButton"),p=()=>{o.toolSnapshot()},h=I=>{o.changeBlendMode(I)};return E.createElement(r.ControlsbarContainer,{show:o.isOptionSelected},E.createElement(a,{tool:s.OVERLAY,ariaLabel:n.buttonReset,onClick:o.reset,icon:E.createElement(u.reset,null),label:n.buttonReset}),E.createElement(r.Other.ControlsWrapper,null,E.createElement(l.Spacer,null),E.createElement(Ze,null,E.createElement(ht,{label:n.tabBlendMode},E.createElement(l.Input.CarouselSlider,{showLabel:!1,label:n.carouselBlendMode,defaultIdentifier:m,onSelect:h,list:i})),E.createElement(ht,{label:n.tabOpacity},E.createElement(r.Slider,{"aria-hidden":!o.isOptionSelected,showLabel:!1,style:{width:"280px"},label:n.sliderOpacity,value:e.opacity,min:0,max:1,onChange:o.changeOpacity,onMouseUp:p,onTouchEnd:p}))),E.createElement(r.BarSeparator,null)),E.createElement(r.Other.EmptyDiv,null))},gt=d("overlayTool","custom")(c(Re));import x from"react";import or from"styled-components";var er=r.TabWrapper,{Tab:yt}=r,rr=or.input.attrs({type:"file",id:"fileUpload",accept:"image/*",multiple:!0})`
  ${tr.VisuallyHidden}
`,nr=({stickerTool:o,custom:t})=>{let{colorList:e}=o,n=o.locale.controls,i=o.localeColor.colorPicker,m=t.getButton("toolControlBarPrimaryButton"),a=()=>{o.toolSnapshot()},p=()=>{let S=document.getElementById("fileUpload");S&&(S.value=null,S.click())},h=S=>{let{files:V}=S.target;o.addFiles(V)},I=()=>x.createElement("div",null,x.createElement(l.Spacer,{count:2}),x.createElement(r.Slider,{isDisabled:!o.isStickerSelected,style:{width:"280px"},label:n.sliderOpacity,value:o.opacity,min:0,max:1,onMouseUp:a,onTouchEnd:a,onChange:o.changeOpacity}),x.createElement(l.Spacer,{count:2})),k=()=>x.createElement("div",null,x.createElement(l.Spacer,null),x.createElement(er,null,x.createElement(yt,{label:n.tabColor},x.createElement(l.Spacer,{count:1}),x.createElement(l.Input.Selection,{isDisabled:!o.isStickerSelected,showLabel:!1,label:n.selectColor},x.createElement(F,{activeSprite:o.id,activeColor:o.tintColor,colors:e,labelsColor:i,isDisabled:!o.isStickerSelected,colorPickerDirection:"top",onChange:o.changeTintColor,onAddSnapshot:o.tintColorSnapshot}))),x.createElement(yt,{label:n.tabOpacity},x.createElement(r.Slider,{isDisabled:!o.isStickerSelected,showLabel:!1,style:{width:"280px"},label:n.sliderOpacity,value:o.opacity,min:0,max:1,onMouseUp:a,onTouchEnd:a,onChange:o.changeOpacity})))),N=()=>o.isCustomStickerEnabled?x.createElement(m,{tool:s.STICKER,ariaLabel:n.buttonUpload,onClick:p,icon:x.createElement(u.uploadImage,null),label:n.buttonUpload},x.createElement(rr,{onChange:h})):null;return x.createElement(r.ControlsbarContainer,{show:!0},N(),x.createElement(r.Other.ControlsWrapper,null,o.tintable&&k()||I(),x.createElement(r.BarSeparator,null)),x.createElement(r.Other.EmptyDiv,null))},xt=d("stickerTool","custom")(c(nr));import b from"react";import ir from"styled-components";var ar=r.ResponsiveTabWrapper,{Tab:Q}=r,lr=ir(l.Input.NumericInput)`
  max-width: 55px;
  > div > input {
    text-align: center;
  }
`,mr=({textTool:o,custom:t})=>{let{colorList:e,backgroundColorList:n}=o,i=o.locale.controls,m=o.localeColor.colorPicker,a=["left","center","right"],p=t.getButton("textAlignment"),h=t.getButton("toolControlBarPrimaryButton"),I=()=>a.map(S=>{let V=sr[S];return b.createElement(p,{tool:S,isDisabled:!o.isTextSelected,ariaLabel:`Align ${S}`,isActive:S===o.alignment,key:S,icon:b.createElement(V,null),onClick:()=>o.changeAlignment(S)})}),k=()=>{o.toolSnapshot()},N=S=>{let V=S?parseFloat(S):0;o.setFontSize(Math.max(10,Math.min(690,V)))};return b.createElement(r.ControlsbarContainer,{show:!0},b.createElement(h,{tool:s.TEXT,ariaLabel:i.buttonNew,onClick:o.add,icon:b.createElement(u.addText,null),label:i.buttonNew}),b.createElement(r.Other.ControlsWrapper,null,b.createElement(l.Spacer,null),b.createElement(ar,null,b.createElement(Q,{label:i.tabFontSize},b.createElement(lr,{value:o.fontSize.toFixed(0),onSubmit:N,isDisabled:!o.isTextSelected})),b.createElement(Q,{label:i.tabAlignment},b.createElement(l.Input.Selection,{isDisabled:!o.isTextSelected,showLabel:!1,label:i.selectAlignment,"data-test":y.TextAlignment},I())),b.createElement(Q,{label:i.tabColor},b.createElement(l.Spacer,null),b.createElement(l.Input.Selection,{isDisabled:!o.isTextSelected,showLabel:!1,label:i.selectFontColor},b.createElement(F,{activeSprite:o.id,activeColor:o.textColor,colors:e,labelsColor:m,colorPickerDirection:"top",isDisabled:!o.isTextSelected,onChange:o.changeColor,onAddSnapshot:o.colorSnapshot}))),b.createElement(Q,{label:i.tabBgColor},b.createElement(l.Spacer,null),b.createElement(l.Input.Selection,{isDisabled:!o.isTextSelected,showLabel:!1,label:i.selectBackgroundColor},b.createElement(F,{activeSprite:o.id,activeColor:o.backgroundColor,colors:n,labelsColor:m,colorPickerDirection:"top",isDisabled:!o.isTextSelected,onChange:o.changeBackgroundColor,onAddSnapshot:o.backgroundColorSnapshot}))),b.createElement(Q,{label:i.tabLineHeight},b.createElement(r.Slider,{isDisabled:!o.isTextSelected,showLabel:!1,label:i.sliderLineSpacing,value:o.lineHeight,min:.5,max:3,onChange:o.changeLineHeight,onMouseUp:k,onTouchEnd:k,snap:1,divider:1,decimal:1}))),b.createElement(r.BarSeparator,null)),b.createElement(r.Other.EmptyDiv,null))},St=d("textTool","custom")(c(mr));import H from"react";var pr=({textDesignTool:o,custom:t})=>{let e=o.locale.controls,n=o.localeColor.colorPicker,{colorList:i}=o,m=t.getButton("toolControlBarSecondaryButton"),a=t.getButton("toolControlBarPrimaryButton");return H.createElement(r.ControlsbarContainer,{show:!0},H.createElement(a,{tool:s.TEXT_DESIGN,ariaLabel:e.buttonNew,onClick:o.add,icon:H.createElement(u.addText,null),label:e.buttonNew}),H.createElement(r.Other.ControlsWrapper,null,H.createElement(l.Input.Selection,{isDisabled:!o.isTextDesignSelected,label:e.selectColor},H.createElement(F,{activeSprite:o.id,activeColor:o.color,colors:i,labelsColor:n,colorPickerDirection:"top",isDisabled:!o.isTextDesignSelected,onChange:o.changeColor,onAddSnapshot:o.colorSnapshot}))),H.createElement(m,{tool:s.TEXT_DESIGN,ariaLabel:e.buttonShuffle,onClick:o.changeSeed,icon:H.createElement(u.shuffle,null),label:e.buttonShuffle}),H.createElement(r.BarSeparator,null))},It=d("textDesignTool","custom")(c(pr));import w from"react";var Cr=r.ResponsiveTabWrapper,{Tab:vo}=r,fr=({transformTool:o,custom:t})=>{let e=o.locale.controls,{forceDimensions:n}=o,i=t.getCheckbox(),m=t.getButton("toolControlBarSecondaryButton");return w.createElement(r.ControlsbarContainer,{show:!0},w.createElement(m,{tool:s.TRANSFORM,ariaLabel:o.locale.controls.buttonReset,onClick:o.reset,icon:w.createElement(u.reset,null),label:o.locale.controls.buttonReset}),w.createElement(r.Other.ControlsWrapper,null,w.createElement(l.Spacer,null),w.createElement(Cr,null,w.createElement(vo,{label:e.tabCropSize},w.createElement(dr,{isDisabled:n,showLabel:!1,valueHeight:o.localOutputHeight,valueWidth:o.localOutputWidth,onSubmitWidth:o.onPixelWidth,onSubmitHeight:o.onPixelHeight,label:e.inputCropSize,labelHeight:e.inputHeight,labelWidth:e.inputWidth})),w.createElement(vo,{label:e.tabFlipAndRotate},w.createElement(cr,null)),w.createElement(vo,{label:e.tabResolution},w.createElement(i,{isDisabled:n,style:{paddingTop:"5px",justifyContent:"center"},value:o.lockResolution,checkMarkPosition:"left",label:e.checkboxKeepResolution,onClick:o.changeLockResolution}))),w.createElement(r.BarSeparator,null)),w.createElement(r.Other.EmptyDiv,null))},Bt=d("transformTool","custom")(c(fr));var Z=class extends f.Component{render(){let{active:t}=this.props,e=t.tool;return f.createElement(r.Controlsbar,{show:!!e},f.createElement(l.Switch.Index,{type:e},f.createElement(l.Switch.Case,{value:s.FILTER},f.createElement(Ct,null)),f.createElement(l.Switch.Case,{value:s.FOCUS},f.createElement(ft,null)),f.createElement(l.Switch.Case,{value:s.ADJUSTMENT},f.createElement(ct,null)),f.createElement(l.Switch.Case,{value:s.OVERLAY},f.createElement(gt,null)),f.createElement(l.Switch.Case,{value:s.STICKER},f.createElement(xt,null)),f.createElement(l.Switch.Case,{value:s.TEXT},f.createElement(St,null)),f.createElement(l.Switch.Case,{value:s.TEXT_DESIGN},f.createElement(It,null)),f.createElement(l.Switch.Case,{value:s.LIBRARY},f.createElement(bt,null)),f.createElement(l.Switch.Case,{value:s.FRAME},f.createElement(ut,null)),f.createElement(l.Switch.Case,{value:s.BRUSH},f.createElement(dt,null)),f.createElement(l.Switch.Case,{value:s.TRANSFORM},f.createElement(Bt,null))))}};Z=U([d("active","config"),c],Z);import A from"react";import R from"react";import ur from"styled-components";var hr=ur.div`
  position: relative;
  top: -8px;
  color: ${o=>o.theme.card.foreground};
`,gr=({adjustmentsTool:o})=>{let t=(e,n)=>{let i=br[e.identifier];return R.createElement(r.Card,{"data-test":e.identifier,tool:s.ADJUSTMENT,type:C.MEDIUM,onClick:()=>o.toggleOptionSelection(e.identifier),isActive:e.identifier===o.selectedAdjustmentType,key:`${e.identifier}-${n}`,label:e.name,style:{animationDelay:`${g(n)}s`}},R.createElement(hr,null,R.createElement(i,null)),R.createElement(r.CardLabel,null,o.locale.items[e.identifier]||e.name))};return R.createElement(r.CardContainer,null,o.items.map(t))},kt=d("adjustmentsTool")(c(gr));import yr from"react";var Tt=()=>{let{config:o}=ko(),t=o.state.config[s.CUSTOM].toolControlBar;return yr.createElement(t,{language:o.state.locale[s.CUSTOM]})};import j from"react";var oo=class extends j.Component{constructor(){super(...arguments);this.onCategoryClick=t=>{let{filterTool:e}=this.props;e.toggleCategorySelection(t)};this.renderItem=(t,e)=>{let{filterTool:n}=this.props;return j.createElement(r.Card,{tool:s.FILTER,type:C.MEDIUM,onClick:()=>n.selectFilter(t.identifier,t.defaultIntensity),isActive:n.identifier===t.identifier,key:`${t.identifier}-${e}`,image:t.thumbnailURI,label:t.name,style:{animationDelay:`${g(e)}s`}},j.createElement(r.CardLabel,{withBackground:!0},n.locale.categories[t.identifier]||n.locale.items[t.identifier]||t.name))};this.renderCategory=(t,e)=>{let{filterTool:n}=this.props,{selectedCategoryIdentifier:i}=n,m=i===t.identifier;return t.items?j.createElement(r.CategoryContainer,{key:t.identifier},j.createElement(r.Card,{tool:s.FILTER,type:C.LARGE,onClick:()=>this.onCategoryClick(t.identifier),image:t.thumbnailURI,label:t.name,style:{animationDelay:`${g(e)}s`}},j.createElement(r.CardLabel,{withBackground:!0},t.name)),j.createElement(r.ExpandableContainer,{show:m},t.items.map(this.renderItem))):null}}render(){let{filterTool:t}=this.props,{categories:e,config:n,items:i}=t;return n.flattenCategories?j.createElement(r.CardContainer,null,i.map(this.renderItem)):j.createElement(r.CardContainer,null,e.map(this.renderCategory))}};oo=U([d("filterTool","active"),c],oo);import wo from"react";var xr=({focusTool:o})=>{let t=n=>{o.selectFocus(n)},e=(n,i)=>wo.createElement(r.Card,{isActive:n.identifier===o.identifier,tool:s.FOCUS,type:C.MEDIUM,onClick:()=>t(n.identifier),key:`${n.identifier}-${i}`,image:n.thumbnailURI,label:n.name,style:{animationDelay:`${g(i)}s`}},wo.createElement(r.CardLabel,{withBackground:!0},o.locale.items[n.identifier]||n.name));return wo.createElement(r.CardContainer,null,o.items.map(e))},vt=d("focusTool")(c(xr));import Uo from"react";var Sr=({frameTool:o})=>{let t=o.identifier,e=(n,i)=>Uo.createElement(r.Card,{tool:s.FRAME,type:C.MEDIUM,onClick:()=>o.selectFrame(n.identifier),isActive:n.identifier===t,key:`${n.identifier}-${i}`,image:n.thumbnailURI,label:n.name,style:{animationDelay:`${g(i)}s`,backgroundSize:"60%"}}," ",Uo.createElement(r.CardLabel,{hidden:!0},o.locale.items[n.identifier]||n.name));return Uo.createElement(r.CardContainer,null,o.items.map(e))},wt=d("frameTool")(c(Sr));import D from"react";import Ir from"styled-components";var Ut=Ir.p`
  height: ${o=>o.theme.measurements.basicToolControlBar.itemsBarHeight}px;
`;var to=class extends D.Component{constructor(){super(...arguments);this.onCategoryClick=t=>{let{library:e}=this.props;e.toggleCategorySelection(t)};this.renderItem=(t,e)=>{let{active:n}=this.props;return D.createElement(r.Card,{tool:s.LIBRARY,type:C.MEDIUM,onClick:()=>n.newImage(t.rawUrl),key:`${t.identifier}-${e}`,image:t.thumbnailURI,label:t.name,style:{animationDelay:`${g(e)}s`}})};this.renderCategory=(t,e)=>{let{library:n}=this.props,{selectedCategoryIdentifier:i}=n,m=i===t.identifier;return t.items?D.createElement(r.CategoryContainer,{key:t.identifier},D.createElement(r.Card,{tool:s.LIBRARY,type:C.LARGE,onClick:()=>this.onCategoryClick(t.identifier),image:t.thumbnailURI,label:t.name,style:{animationDelay:`${g(e)}s`}},D.createElement(r.CardLabel,{withBackground:!0},t.name)),D.createElement(r.ExpandableContainer,{show:m},t.items.map(this.renderItem))):null}}render(){let{library:t}=this.props,{query:e,categories:n,items:i,locale:m,config:a}=t;return e?i.length?D.createElement(r.CardContainer,null,i.map(this.renderItem)):D.createElement(Ut,{"data-test":y.NoResult},m.controls.noResults):a.flattenCategories?D.createElement(r.CardContainer,null,i.map(this.renderItem)):D.createElement(r.CardContainer,null,n.map(this.renderCategory))}};to=U([d("library","active"),c],to);import Lo from"react";var Br=({overlayTool:o})=>{let{identifier:t,items:e,selectOverlay:n,locale:i}=o,m=(a,p)=>Lo.createElement(r.Card,{tool:s.OVERLAY,type:C.MEDIUM,onClick:()=>n(a.identifier),isActive:a.identifier===t,key:`${a.identifier}-${p}`,image:a.thumbnailURI,label:a.name,style:{animationDelay:`${g(p)}s`}},Lo.createElement(r.CardLabel,{withBackground:!0},i.items[a.identifier]||a.name));return Lo.createElement(r.CardContainer,null,e.map(m))},Lt=d("overlayTool")(c(Br));import z from"react";var eo=class extends z.Component{constructor(){super(...arguments);this.onCategoryClick=t=>{let{stickerTool:e}=this.props;e.toggleCategorySelection(t)};this.renderItem=(t,e)=>{let{stickerTool:n}=this.props;return z.createElement(r.Card,{tool:s.STICKER,type:C.MEDIUM,onClick:()=>n.add(t.identifier),key:`${t.identifier}-${e}`,image:t.thumbnailURI,label:t.name,style:{backgroundSize:"55%",animationDelay:`${kr(e)}s`}},z.createElement(r.CardLabel,{hidden:!0},n.locale.items[t.identifier]||t.name))};this.renderCategory=(t,e)=>{let{stickerTool:n}=this.props,{selectedCategoryIdentifier:i,locale:m}=n,a=i===t.identifier;return t.items?z.createElement(r.CategoryContainer,{key:t.identifier},z.createElement(r.Card,{tool:s.STICKER,type:C.LARGE,onClick:()=>this.onCategoryClick(t.identifier),image:t.thumbnailURI,label:t.name,style:{animationDelay:`${g(e)}s`}},z.createElement(r.CardLabel,{withBackground:!0},m.categories[t.identifier]||t.name)),z.createElement(r.ExpandableContainer,{show:a},t.items.map(this.renderItem))):null}}render(){let{stickerTool:t}=this.props,{categories:e,items:n,config:i}=t;return i.flattenCategories?z.createElement(r.CardContainer,null,n.map(this.renderItem)):z.createElement(r.CardContainer,null,e.map(this.renderCategory))}};eo=U([d("stickerTool","active"),c],eo);import Co from"react";import Tr from"styled-components";var wr=Tr.div`
  font-size: 20px;
  position: absolute;
  left: 50%;
  top: 50%;
  transform-origin: left top;
`,At=class extends Co.Component{constructor(){super(...arguments);this.getWidth=({fontFamily:t,fontStyle:e,fontWeight:n},i)=>{let a=document.createElement("canvas").getContext("2d");return a.font=`${e} ${n} 20px ${t}`,a.fillText(i,0,0),a.measureText(i).width};this.renderItem=(t,e)=>{let{config:n,textTool:i}=this.props,{fontFamily:m,fontWeight:a,fontStyle:p,identifier:h}=t,I=`${t.fontFamily} ${vr.getDisplayFontStyle(t)}`,k=this.getWidth(t,I),N=(n.measurements.basicCard.medium.width-20)/k;return Co.createElement(r.Card,{tool:s.TEXT,type:C.MEDIUM,onClick:()=>i.changeFont(h),isDisabled:!this.textTool.isTextSelected,isActive:i.identifier===h,key:`${t.identifier}-${e}`,label:I,style:{animationDelay:`${g(e)}s`}},Co.createElement(wr,{style:{transform:`scale(${N}) translate(-50%, -50%)`,fontFamily:m,fontStyle:p,fontWeight:a}},I))}}get textTool(){return this.props.textTool}render(){let{textTool:t}=this.props,{fontsLoaded:e,fontFamilies:n}=t;return e?Co.createElement(r.CardContainer,null,n.map(this.renderItem)):null}},Et=d("textTool","config")(c(At));import Ao from"react";var Ur=({textDesignTool:o})=>{let{items:t,changeIdentifier:e,isTextDesignSelected:n,identifier:i}=o,m=(a,p)=>Ao.createElement(r.Card,{tool:s.TEXT_DESIGN,type:C.MEDIUM,onClick:()=>e(a.identifier),isDisabled:!n,isActive:i===a.identifier,key:`${a.identifier}-${p}`,image:a.thumbnailURI,label:a.name,style:{animationDelay:`${g(p)}s`,backgroundSize:"60%"}},Ao.createElement(r.CardLabel,{hidden:!0},a.name));return Ao.createElement(r.CardContainer,null,t.map(m))},Ft=d("textDesignTool")(c(Ur));import L from"react";import Dt from"styled-components";var Ar=Dt.div`
  svg {
    margin-bottom: 12px;
  }
`,Er=Dt.div`
  svg {
    width: ${o=>o.theme.measurements.basicCard.medium.height}px;
    height: ${o=>o.theme.measurements.basicCard.medium.height}px;
  }

  ${Lr} {
    width: ${o=>o.theme.measurements.basicCard.medium.width-32}px;
    height: ${o=>o.theme.measurements.basicCard.medium.height-32}px;
    padding: 6px 0px 24px;
  }
`,ro=class extends L.Component{constructor(){super(...arguments);this.onCategoryClick=t=>{let{transformTool:e}=this.props;e.toggleCategorySelection(t)};this.renderItem=(t,e)=>{let{transformTool:n,config:i}=this.props,{locale:m}=n,a=n.checkIfTransformThumbnailExits(t.thumbnailURI),p=fo.crops[t.identifier]||fo.crops.imgly_transform_common_custom,h=L.createElement(r.CardLabel,null,m.items[t.identifier]||t.name),I=a?h:L.createElement(Er,null,L.createElement(p,{main:i.theme.transform.crops.main,highlight:i.theme.transform.crops.highlight,shadow:i.theme.transform.crops.shadow}),h);return L.createElement(r.Card,{tool:s.TRANSFORM,type:C.MEDIUM,onClick:()=>n.changeIdentifier(t.identifier,!0),key:`${t.identifier}-${e}`,image:t.thumbnailURI,label:t.name,style:{backgroundSize:"55%",animationDelay:`${g(e)}s`}},I)};this.renderCategory=(t,e)=>{let{transformTool:n}=this.props,{selectedCategoryIdentifier:i,locale:m}=n,a=i===t.identifier;if(!t.items)return null;let p=n.checkIfTransformThumbnailExits(t.thumbnailURI),h=L.createElement(r.CardLabel,null,m.categories[t.identifier]||t.name),I=p?h:L.createElement(Ar,null,fo.categories[t.identifier]&&L.createElement(fo.categories[t.identifier]),h);return L.createElement(r.CategoryContainer,{key:t.identifier},L.createElement(r.Card,{tool:s.TRANSFORM,type:C.LARGE,onClick:()=>this.onCategoryClick(t.identifier),image:p?t.thumbnailURI:"",label:t.name,style:{animationDelay:`${g(e)}s`}},I),L.createElement(r.ExpandableContainer,{show:a},t.items.map(this.renderItem)))}}render(){let{transformTool:t}=this.props,{categories:e,config:n,items:i}=t;return n.flattenCategories?L.createElement(r.CardContainer,null,i.map(this.renderItem)):L.createElement(r.CardContainer,null,e.map(this.renderCategory))}};ro=U([d("transformTool","config"),c],ro);var no=class extends A.Component{constructor(){super(...arguments);this.getToolItemsComponent=t=>{switch(t){case s.LIBRARY:return A.createElement(to,null);case s.FILTER:return A.createElement(oo,null);case s.FOCUS:return A.createElement(vt,null);case s.ADJUSTMENT:return A.createElement(kt,null);case s.OVERLAY:return A.createElement(Lt,null);case s.STICKER:return A.createElement(eo,null);case s.TEXT:return A.createElement(Et,null);case s.TEXT_DESIGN:return A.createElement(Ft,null);case s.FRAME:return A.createElement(wt,null);case s.TRANSFORM:return A.createElement(ro,null);case s.CUSTOM:return A.createElement(Tt,null);default:return null}}}render(){let{library:t,active:e}=this.props,n=e.tool;return n===s.BRUSH||n===s.LIBRARY&&!t.libraryProvider?null:A.createElement(r.Itemsbar,{"data-test":y.ToolControlBar,show:!!n},this.getToolItemsComponent(n))}};no=U([d("active","library"),c],no);var Mr=Fr.div`
  position: absolute;
  width: 100%;
  height: ${o=>o.theme.measurements.basicToolControlBar.maxHeight}px;
  bottom: 0;
  left: 0;
  background: ${o=>o.theme.webcam.backdrop};
  z-index: ${o=>o.theme.measurements.zIndex.disable};
`,io=class extends P.Component{static getDerivedStateFromError(t){return console.error(t),{hasError:!0}}render(){let{active:t}=this.props;return P.createElement(l.Container,{"data-test":y.EditorContainer},t.isWebcam?P.createElement(Mr,null):null,P.createElement(Or,null),P.createElement($r,null,P.createElement(Pr,null),P.createElement(Dr,null),P.createElement(Z,null),P.createElement(no,null),P.createElement(pt,null)))}};io=U([d("active"),c],io);var Eo=class extends uo.Component{componentDidMount(){let{editor:t,storeProps:e}=this.props;this.editor=t,this.storeProps=e;let n=new jr(this.editor.configStore.config.custom.components,{}),i={getDialog:n.getDialog,getButton:n.getButton,getColorItem:n.getColorItem,getCheckbox:n.getCheckbox};this.storeProps.custom=i,this.forceUpdate()}render(){return this.storeProps?uo.createElement(Wr,_({},this.storeProps),uo.createElement(Hr,{theme:_(_({},this.editor.configStore.theme),{measurements:this.editor.configStore.measurements})},uo.createElement(io,null))):null}};export{Eo as default};
